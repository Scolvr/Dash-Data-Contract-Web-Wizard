<!DOCTYPE html>
<html lang="en" data-theme="auto">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="Cache-Control" content="no-store, no-cache, must-revalidate, max-age=0">
  <meta http-equiv="Pragma" content="no-cache">
  <meta http-equiv="Expires" content="0">
  <title>Dash Token Wizard</title>
  <link rel="preload" href="styles.css?v=71.0.1760980124" as="style">
  <link rel="stylesheet" href="styles.css?v=71.0.1760980124">
</head>
<body>
  <div class="wizard-shell">
    <aside class="wizard-sidebar" aria-label="Wizard navigation">
      <!-- Token Sidebar -->
      <div class="sidebar-section" data-sidebar="token">
      <!-- Sidebar Header with Branding -->
      <div class="wizard-sidebar__header">
        <div class="brand">
          <div class="brand__icon">
            <img src="https://media.dash.org/wp-content/uploads/dash-d-rounded-square-1000.png" alt="Dash" width="32" height="32">
          </div>
          <span class="brand__title">Dash Token Wizard</span>
        </div>
      </div>

      <!-- Search Bar -->
      <div class="wizard-sidebar__search">
        <svg class="search-icon" width="20" height="20" viewBox="0 0 20 20" fill="none">
          <path d="M9 17A8 8 0 1 0 9 1a8 8 0 0 0 0 16zM18 18l-4.35-4.35" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
        <input type="text" class="wizard-sidebar__search-input" placeholder="Search..." aria-label="Search navigation">
      </div>

      <!-- Navigation -->
      <nav class="wizard-nav" aria-label="Wizard progress">
        <div class="wizard-nav__label">Menu</div>

        <!-- Templates Library -->
        <div class="wizard-nav-section">
          <button class="wizard-nav-item" data-step="welcome">
            <svg class="wizard-nav-item__icon" width="20" height="20" viewBox="0 0 20 20" fill="none">
              <rect x="2" y="2" width="7" height="7" rx="1" stroke="currentColor" stroke-width="2"/>
              <rect x="11" y="2" width="7" height="7" rx="1" stroke="currentColor" stroke-width="2"/>
              <rect x="2" y="11" width="7" height="7" rx="1" stroke="currentColor" stroke-width="2"/>
              <rect x="11" y="11" width="7" height="7" rx="1" stroke="currentColor" stroke-width="2"/>
            </svg>
            <span class="wizard-nav-item__text">Templates Library</span>
            <span class="wizard-path__pill pill" id="status-welcome" aria-live="polite"></span>
          </button>
        </div>

        <!-- ESSENTIALS Section -->
        <div class="wizard-nav-section">
          <!-- Naming Step (Collapsible) -->
          <button class="wizard-nav-item wizard-nav-item--expandable" data-step="naming" data-toggle="naming-submenu" aria-expanded="true">
            <svg class="wizard-nav-item__icon" width="20" height="20" viewBox="0 0 20 20" fill="none">
              <rect x="2" y="4" width="16" height="12" rx="2" stroke="currentColor" stroke-width="2"/>
              <path d="M2 8h16M6 12h4M6 15h2" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
              <path d="M10 1l2 3h-4l2-3z" fill="currentColor"/>
            </svg>
            <span class="wizard-nav-item__text">Naming</span>
            <span class="wizard-path__pill pill" id="status-naming" aria-live="polite"></span>
            <svg class="wizard-nav-item__chevron" width="16" height="16" viewBox="0 0 16 16" fill="none">
              <path d="M6 4l4 4-4 4" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
          </button>
          <div class="wizard-nav-submenu" id="naming-submenu">
            <a href="#" class="wizard-nav-subitem" data-substep="naming">
              <span class="wizard-nav-subitem__text">Token Name</span>
            </a>
            <a href="#" class="wizard-nav-subitem" data-substep="naming-localization">
              <span class="wizard-nav-subitem__text">Localization</span>
            </a>
            <a href="#" class="wizard-nav-subitem" data-substep="naming-update">
              <span class="wizard-nav-subitem__text">Update</span>
            </a>
          </div>

          <!-- Permissions Step (Collapsible) -->
          <button class="wizard-nav-item wizard-nav-item--expandable" data-step="permissions" data-toggle="permissions-submenu" aria-expanded="false">
            <svg class="wizard-nav-item__icon" width="20" height="20" viewBox="0 0 20 20" fill="none">
              <path d="M10 2L3 6v5c0 4.5 3 8 7 9 4-1 7-4.5 7-9V6l-7-4z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
            <span class="wizard-nav-item__text">Permissions</span>
            <span class="wizard-path__pill pill" id="status-permissions" aria-live="polite"></span>
            <svg class="wizard-nav-item__chevron" width="16" height="16" viewBox="0 0 16 16" fill="none">
              <path d="M6 4l4 4-4 4" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
          </button>
          <div class="wizard-nav-submenu" id="permissions-submenu" hidden>
            <a href="#" class="wizard-nav-subitem" data-substep="permissions">
              <span class="wizard-nav-subitem__text">Token Supply</span>
            </a>
            <a href="#" class="wizard-nav-subitem" data-substep="permissions-manual-mint">
              <span class="wizard-nav-subitem__text">Minting</span>
            </a>
            <a href="#" class="wizard-nav-subitem" data-substep="permissions-manual-burn">
              <span class="wizard-nav-subitem__text">Burning</span>
            </a>
            <a href="#" class="wizard-nav-subitem" data-substep="permissions-manual-freeze">
              <span class="wizard-nav-subitem__text">Freezing</span>
            </a>
            <a href="#" class="wizard-nav-subitem" data-substep="permissions-emergency">
              <span class="wizard-nav-subitem__text">Emergency Actions</span>
            </a>
            <a href="#" class="wizard-nav-subitem" data-substep="permissions-conventions-change">
              <span class="wizard-nav-subitem__text">Conventions Change</span>
            </a>
            <a href="#" class="wizard-nav-subitem" data-substep="permissions-marketplace-trade-mode-change">
              <span class="wizard-nav-subitem__text">Marketplace Trade Mode</span>
            </a>
            <a href="#" class="wizard-nav-subitem" data-substep="permissions-direct-pricing-change">
              <span class="wizard-nav-subitem__text">Direct Purchase Pricing</span>
            </a>
            <a href="#" class="wizard-nav-subitem" data-substep="permissions-main-control-change">
              <span class="wizard-nav-subitem__text">Main Control Group</span>
            </a>
          </div>

          <!-- Advanced Step (Collapsible) -->
          <button class="wizard-nav-item wizard-nav-item--expandable" data-step="advanced" data-toggle="advanced-submenu" aria-expanded="false">
            <svg class="wizard-nav-item__icon" width="20" height="20" viewBox="0 0 20 20" fill="none">
              <circle cx="10" cy="10" r="2" fill="currentColor"/>
              <path d="M10 1v2M10 17v2M18.66 5l-1.73 1M3.07 14l-1.73 1M18.66 15l-1.73-1M3.07 6l-1.73-1M1 10h2M17 10h2" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
              <path d="M14 6.5l1-1.5 1.5 1-1 1.5M4 13.5l1-1.5 1.5 1-1 1.5M13.5 14l1.5-1 1 1.5-1.5 1M5.5 6l1.5-1 1 1.5-1.5 1" fill="currentColor"/>
            </svg>
            <span class="wizard-nav-item__text">Usage</span>
            <span class="wizard-path__pill pill" id="status-advanced" aria-live="polite"></span>
            <svg class="wizard-nav-item__chevron" width="16" height="16" viewBox="0 0 16 16" fill="none">
              <path d="M6 4l4 4-4 4" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
          </button>
          <div class="wizard-nav-submenu" id="advanced-submenu" hidden>
            <a href="#" class="wizard-nav-subitem" data-substep="advanced-history">
              <span class="wizard-nav-subitem__text">History</span>
            </a>
            <a href="#" class="wizard-nav-subitem" data-substep="advanced">
              <span class="wizard-nav-subitem__text">Trading Rules</span>
            </a>
            <a href="#" class="wizard-nav-subitem" data-substep="advanced-launch">
              <span class="wizard-nav-subitem__text">Launch Settings</span>
            </a>
          </div>
        </div>

        <!-- OPTIONAL Section -->
        <div class="wizard-nav-section">
          <div class="wizard-nav__label">Optional</div>
          <button class="wizard-nav-item wizard-nav-item--expandable" data-step="distribution" data-toggle="distribution-submenu" aria-expanded="false">
            <svg class="wizard-nav-item__icon" width="20" height="20" viewBox="0 0 20 20" fill="none">
              <circle cx="10" cy="10" r="7" stroke="currentColor" stroke-width="1.5"/>
              <path d="M10 3c-2 0-3.5 3.13-3.5 7s1.5 7 3.5 7 3.5-3.13 3.5-7-1.5-7-3.5-7z" stroke="currentColor" stroke-width="1.5"/>
              <path d="M3 10h14M5 6h10M5 14h10" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
              <path d="M8 3l-1 2M12 3l1 2M15 7l1.5 1M4 7l-1.5 1" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
              <circle cx="7" cy="5" r="1.5" fill="currentColor"/>
              <circle cx="13" cy="5" r="1.5" fill="currentColor"/>
              <circle cx="16" cy="8" r="1.5" fill="currentColor"/>
            </svg>
            <span class="wizard-nav-item__text">Distribution</span>
            <span class="wizard-path__pill pill" id="status-distribution" aria-live="polite"></span>
            <svg class="wizard-nav-item__chevron" width="16" height="16" viewBox="0 0 16 16" fill="none">
              <path d="M6 4l4 4-4 4" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
          </button>
          <div class="wizard-nav-submenu" id="distribution-submenu" hidden>
            <a href="#" class="wizard-nav-subitem" data-substep="distribution-preprogrammed">
              <span class="wizard-nav-subitem__text">Pre-Programmed</span>
            </a>
            <a href="#" class="wizard-nav-subitem" data-substep="distribution-perpetual">
              <span class="wizard-nav-subitem__text">Perpetual</span>
            </a>
          </div>

          <!-- Search Ability Step (Collapsible) -->
          <button class="wizard-nav-item wizard-nav-item--expandable" data-step="search" data-toggle="search-submenu" aria-expanded="false">
            <svg class="wizard-nav-item__icon" width="20" height="20" viewBox="0 0 20 20" fill="none">
              <circle cx="8" cy="8" r="6" stroke="currentColor" stroke-width="2"/>
              <path d="M12.5 12.5l5 5" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
            </svg>
            <span class="wizard-nav-item__text">Search Ability</span>
            <svg class="wizard-nav-item__chevron" width="16" height="16" viewBox="0 0 16 16" fill="none">
              <path d="M4 6l4 4 4-4" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
            <span class="wizard-path__pill pill" id="status-search" aria-live="polite"></span>
          </button>

          <div class="wizard-nav-submenu" id="search-submenu">
            <a href="#" class="wizard-nav-subitem" data-substep="search">
              <span class="wizard-nav-subitem__text">Keywords & Description</span>
            </a>
          </div>
        </div>

        <!-- PUBLISH Section -->
        <div class="wizard-nav-section">
          <div class="wizard-nav__label">Publish</div>

          <button class="wizard-nav-item" data-step="registration">
            <svg class="wizard-nav-item__icon" width="20" height="20" viewBox="0 0 20 20" fill="none">
              <path d="M10 18a8 8 0 1 0 0-16 8 8 0 0 0 0 16z" stroke="currentColor" stroke-width="2"/>
              <path d="M7 10l2 2 4-4" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
            <span class="wizard-nav-item__text">Register Token</span>
            <span class="wizard-path__pill pill" id="status-registration" aria-live="polite"></span>
          </button>
        </div>
      </nav>

      <!-- Footer with Theme Toggle -->
      <div class="wizard-sidebar__footer">
        <button class="wizard-nav-item">
          <svg class="wizard-nav-item__icon" width="20" height="20" viewBox="0 0 20 20" fill="none">
            <circle cx="10" cy="10" r="3" stroke="currentColor" stroke-width="2"/>
            <path d="M10 1v2M10 17v2M18.5 10h-2M3.5 10h-2M15.5 4.5l-1.4 1.4M5.9 14.1l-1.4 1.4M15.5 15.5l-1.4-1.4M5.9 5.9L4.5 4.5" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
          </svg>
          <span class="wizard-nav-item__text">Appearance</span>
        </button>
        <div class="theme-toggle-box">
          <div class="theme-toggle" role="radiogroup" aria-labelledby="theme-toggle-label">
            <span id="theme-toggle-label" class="sr-only">Appearance</span>
            <div class="theme-toggle__options">
              <label class="theme-toggle__option">
                <input type="radio" name="ui-theme" value="auto" aria-label="Use system appearance" checked>
                <span>Auto</span>
              </label>
              <label class="theme-toggle__option">
                <input type="radio" name="ui-theme" value="light" aria-label="Use light theme">
                <span>Light</span>
              </label>
              <label class="theme-toggle__option">
                <input type="radio" name="ui-theme" value="dark" aria-label="Use dark theme">
                <span>Dark</span>
              </label>
            </div>
          </div>
        </div>
      </div>
      </div>
      <!-- End Token Sidebar -->

      <!-- Group Sidebar -->
      <div class="sidebar-section" data-sidebar="group" hidden>
        <!-- Sidebar Header with Branding -->
        <div class="wizard-sidebar__header">
          <button class="brand" aria-label="Return to template selection" type="button" onclick="showScreen('welcome', { force: true })">
            <div class="brand__icon">
              <img src="https://media.dash.org/wp-content/uploads/dash-d-rounded-square-1000.png" alt="Dash" width="32" height="32">
            </div>
            <span class="brand__title">Group Management</span>
          </button>
        </div>

        <!-- Search Bar -->
        <div class="wizard-sidebar__search">
          <svg class="search-icon" width="20" height="20" viewBox="0 0 20 20" fill="none">
            <path d="M9 17A8 8 0 1 0 9 1a8 8 0 0 0 0 16zM18 18l-4.35-4.35" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
          <input type="text" class="wizard-sidebar__search-input" placeholder="Search..." aria-label="Search navigation">
        </div>

        <!-- Navigation -->
        <nav class="wizard-nav" aria-label="Group navigation">
          <div class="wizard-nav__label">Group Menu</div>

          <div class="wizard-nav-section">
            <!-- Group Configuration -->
            <button class="wizard-nav-item wizard-nav-item--expandable" data-step="permissions" data-substep="permissions-group" data-toggle="group-submenu" aria-expanded="true">
              <svg class="wizard-nav-item__icon" width="20" height="20" viewBox="0 0 20 20" fill="none">
                <path d="M7 9a3 3 0 1 0 0-6 3 3 0 0 0 0 6zM13 9a3 3 0 1 0 0-6 3 3 0 0 0 0 6zM7 11c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4zM13 11c-.33 0-.69.02-1.07.05C13.05 11.69 14 12.66 14 14v2h6v-2c0-2.66-5.33-4-8-4z" fill="currentColor"/>
              </svg>
              <span class="wizard-nav-item__text">Group Setup</span>
              <span class="wizard-path__pill pill" id="status-group-setup" aria-live="polite"></span>
              <svg class="wizard-nav-item__chevron" width="16" height="16" viewBox="0 0 16 16" fill="none">
                <path d="M6 4l4 4-4 4" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
            </button>
            <div class="wizard-nav-submenu" id="group-submenu">
              <a href="#" class="wizard-nav-subitem" data-substep="permissions-group">
                <span class="wizard-nav-subitem__text">Group Configuration</span>
              </a>
            </div>
          </div>
        </nav>

        <!-- Footer with Theme Toggle -->
        <div class="wizard-sidebar__footer">
          <button class="wizard-nav-item">
            <svg class="wizard-nav-item__icon" width="20" height="20" viewBox="0 0 20 20" fill="none">
              <circle cx="10" cy="10" r="3" stroke="currentColor" stroke-width="2"/>
              <path d="M10 1v2M10 17v2M18.5 10h-2M3.5 10h-2M15.5 4.5l-1.4 1.4M5.9 14.1l-1.4 1.4M15.5 15.5l-1.4-1.4M5.9 5.9L4.5 4.5" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
            </svg>
            <span class="wizard-nav-item__text">Appearance</span>
          </button>
          <div class="theme-toggle-box">
            <div class="theme-toggle" role="radiogroup" aria-labelledby="theme-toggle-label-group">
              <span id="theme-toggle-label-group" class="sr-only">Appearance</span>
              <div class="theme-toggle__options">
                <label class="theme-toggle__option">
                  <input type="radio" name="ui-theme-group" value="auto" aria-label="Use system appearance" checked>
                  <span>Auto</span>
                </label>
                <label class="theme-toggle__option">
                  <input type="radio" name="ui-theme-group" value="light" aria-label="Use light theme">
                  <span>Light</span>
                </label>
                <label class="theme-toggle__option">
                  <input type="radio" name="ui-theme-group" value="dark" aria-label="Use dark theme">
                  <span>Dark</span>
                </label>
              </div>
            </div>
          </div>
        </div>
      </div>
      <!-- End Group Sidebar -->

      <!-- Document Sidebar -->
      <div class="sidebar-section" data-sidebar="document" hidden>
        <!-- Sidebar Header with Branding -->
        <div class="wizard-sidebar__header">
          <button class="brand" aria-label="Return to template selection" type="button" onclick="showScreen('welcome', { force: true })">
            <div class="brand__icon">
              <img src="https://media.dash.org/wp-content/uploads/dash-d-rounded-square-1000.png" alt="Dash" width="32" height="32">
            </div>
            <span class="brand__title">Documentation</span>
          </button>
        </div>

        <!-- Search Bar -->
        <div class="wizard-sidebar__search">
          <svg class="search-icon" width="20" height="20" viewBox="0 0 20 20" fill="none">
            <path d="M9 17A8 8 0 1 0 9 1a8 8 0 0 0 0 16zM18 18l-4.35-4.35" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
          <input type="text" class="wizard-sidebar__search-input" placeholder="Search..." aria-label="Search navigation">
        </div>

        <!-- Navigation -->
        <nav class="wizard-nav" aria-label="Documentation navigation">
          <div class="wizard-nav__label">Document Menu</div>

          <div class="wizard-nav-section">
            <div class="wizard-nav__label">Review</div>
            <button class="wizard-nav-item" data-step="overview">
              <svg class="wizard-nav-item__icon" width="20" height="20" viewBox="0 0 20 20" fill="none">
                <path d="M10 13a3 3 0 1 0 0-6 3 3 0 0 0 0 6z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                <path d="M2 10s3-7 8-7 8 7 8 7-3 7-8 7-8-7-8-7z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
              <span class="wizard-nav-item__text">Overview</span>
              <span class="wizard-path__pill pill" id="status-overview" aria-live="polite"></span>
            </button>
          </div>

          <div class="wizard-nav-section">
            <!-- Placeholder navigation items - to be filled later -->
            <button class="wizard-nav-item" data-step="doc-export">
              <svg class="wizard-nav-item__icon" width="20" height="20" viewBox="0 0 20 20" fill="none">
                <path d="M10 3v8M7 8l3 3 3-3M4 13v4h12v-4" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
              <span class="wizard-nav-item__text">Export</span>
              <span class="wizard-path__pill pill" id="status-doc-export" aria-live="polite"></span>
            </button>

            <button class="wizard-nav-item" data-step="doc-share">
              <svg class="wizard-nav-item__icon" width="20" height="20" viewBox="0 0 20 20" fill="none">
                <circle cx="15" cy="5" r="3" stroke="currentColor" stroke-width="2"/>
                <circle cx="5" cy="10" r="3" stroke="currentColor" stroke-width="2"/>
                <circle cx="15" cy="15" r="3" stroke="currentColor" stroke-width="2"/>
                <path d="M7.5 11.5l5 2M7.5 8.5l5-2" stroke="currentColor" stroke-width="2"/>
              </svg>
              <span class="wizard-nav-item__text">Share</span>
              <span class="wizard-path__pill pill" id="status-doc-share" aria-live="polite"></span>
            </button>
          </div>
        </nav>

        <!-- Footer with Theme Toggle -->
        <div class="wizard-sidebar__footer">
          <button class="wizard-nav-item">
            <svg class="wizard-nav-item__icon" width="20" height="20" viewBox="0 0 20 20" fill="none">
              <circle cx="10" cy="10" r="3" stroke="currentColor" stroke-width="2"/>
              <path d="M10 1v2M10 17v2M18.5 10h-2M3.5 10h-2M15.5 4.5l-1.4 1.4M5.9 14.1l-1.4 1.4M15.5 15.5l-1.4-1.4M5.9 5.9L4.5 4.5" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
            </svg>
            <span class="wizard-nav-item__text">Appearance</span>
          </button>
          <div class="theme-toggle-box">
            <div class="theme-toggle" role="radiogroup" aria-labelledby="theme-toggle-label-doc">
              <span id="theme-toggle-label-doc" class="sr-only">Appearance</span>
              <div class="theme-toggle__options">
                <label class="theme-toggle__option">
                  <input type="radio" name="ui-theme-doc" value="auto" aria-label="Use system appearance" checked>
                  <span>Auto</span>
                </label>
                <label class="theme-toggle__option">
                  <input type="radio" name="ui-theme-doc" value="light" aria-label="Use light theme">
                  <span>Light</span>
                </label>
                <label class="theme-toggle__option">
                  <input type="radio" name="ui-theme-doc" value="dark" aria-label="Use dark theme">
                  <span>Dark</span>
                </label>
              </div>
            </div>
          </div>
        </div>
      </div>
      <!-- End Document Sidebar -->
    </aside>

    <main class="wizard-main wizard-container" id="wizard" data-active-step="naming" data-active-tab="token">
      <!-- Tab Navigation -->
      <div class="wizard-tabs" role="tablist" aria-label="Wizard sections">
        <button class="wizard-tab wizard-tab--active" role="tab" aria-selected="true" aria-controls="tab-panel-token" id="tab-token" data-tab="token">
          <svg class="wizard-tab__icon" width="20" height="20" viewBox="0 0 20 20" fill="none">
            <circle cx="10" cy="10" r="8" stroke="currentColor" stroke-width="2"/>
            <path d="M10 6v8M6 10h8" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
          </svg>
          <span class="wizard-tab__text">Token</span>
        </button>
        <button class="wizard-tab" role="tab" aria-selected="false" aria-controls="tab-panel-group" id="tab-group" data-tab="group">
          <svg class="wizard-tab__icon" width="20" height="20" viewBox="0 0 20 20" fill="none">
            <path d="M7 9a3 3 0 1 0 0-6 3 3 0 0 0 0 6zM13 9a3 3 0 1 0 0-6 3 3 0 0 0 0 6zM7 11c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4zM13 11c-.33 0-.69.02-1.07.05C13.05 11.69 14 12.66 14 14v2h6v-2c0-2.66-5.33-4-8-4z" fill="currentColor"/>
          </svg>
          <span class="wizard-tab__text">Group</span>
        </button>
        <button class="wizard-tab" role="tab" aria-selected="false" aria-controls="tab-panel-document" id="tab-document" data-tab="document">
          <svg class="wizard-tab__icon" width="20" height="20" viewBox="0 0 20 20" fill="none">
            <path d="M12 2H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            <path d="M12 2v6h6M6 11h8M6 14h8M6 8h2" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
          <span class="wizard-tab__text">Document</span>
        </button>
      </div>

      <div class="wizard-content">
        <!-- Welcome/Template Selection Screen -->
        <section class="wizard-screen wizard-screen--active" id="screen-welcome" data-step="welcome" data-tab="token">

          <!-- Right Side Guide Panel -->
          <aside class="page-guide" aria-label="Page guide">
            <div class="page-guide__content">
              <h2 class="page-guide__title">Getting Started</h2>
              <p class="page-guide__intro">The Dash Token Wizard helps you create your own digital tokens easily — no advanced technical knowledge needed.</p>

              <div class="page-guide__section">
                <h3 class="page-guide__section-title">How It Works</h3>

                <h4 class="page-guide__step-heading">Choose a starting point</h4>
                <p><strong>Start from Scratch</strong> – Build your token completely your way. You decide how it works and who controls it.</p>
                <p><strong>Simple Fixed Supply</strong> – A basic token with a set amount that never changes. Perfect for simple use cases or small projects.</p>
                <p><strong>Utility Token</strong> – A token used for access, payments, or services within an app or platform.</p>
                <p><strong>Reward/Points Token</strong> – A token that can be given out regularly as rewards or points, for example in loyalty programs.</p>

                <h4 class="page-guide__step-heading">Customize your token</h4>
                <p>After choosing a template, you can adjust settings like how many tokens exist, whether they can be transferred, or if new ones can be created later.</p>

                <h4 class="page-guide__step-heading">Deploy your token</h4>
                <p>When you're happy with your setup, you can publish (or "deploy") your token to the Dash Platform so it becomes active and ready to use.</p>
              </div>

              <div class="page-guide__tip">
                <strong>💡 Pro Tip</strong>
                Templates can save time, but you can customize everything later. Start with what's closest to your needs.
              </div>
            </div>
          </aside>

          <div class="wizard-screen__inner wizard-screen__inner--centered">
            <div class="welcome-container">
              <h1 class="welcome-title">Dash Token Wizard</h1>
              <p class="welcome-subtitle">Create custom tokens on Dash Platform with ease</p>

              <div class="template-selection">
                <h2 class="template-selection__title">Choose a starting point</h2>
                <p class="template-selection__description">Select a template to get started quickly, or start from scratch</p>

                <div class="template-grid">
                  <!-- Start from Scratch -->
                  <button class="template-card" type="button" data-template="scratch">
                    <div class="template-card__icon">✨</div>
                    <div class="template-card__content">
                      <h3 class="template-card__title">Start from Scratch</h3>
                      <p class="template-card__description">Build your token step-by-step with full control over every setting</p>
                    </div>
                  </button>

                  <!-- Simple Fixed Supply -->
                  <button class="template-card" type="button" data-template="simple-fixed">
                    <div class="template-card__icon">🪙</div>
                    <div class="template-card__content">
                      <h3 class="template-card__title">Simple Fixed Supply</h3>
                      <p class="template-card__description">Basic token with fixed supply, no distribution, perfect for simple use cases</p>
                      <div class="template-card__specs">
                        <span class="spec-badge">Fixed Supply</span>
                        <span class="spec-badge">No Emission</span>
                        <span class="spec-badge">Owner Control</span>
                      </div>
                    </div>
                  </button>

                  <!-- Utility Token -->
                  <button class="template-card" type="button" data-template="utility">
                    <div class="template-card__icon">🔧</div>
                    <div class="template-card__content">
                      <h3 class="template-card__title">Utility Token</h3>
                      <p class="template-card__description">Token for platform access, payments, and services with transfer controls</p>
                      <div class="template-card__specs">
                        <span class="spec-badge">Max Supply</span>
                        <span class="spec-badge">Transferable</span>
                        <span class="spec-badge">Burn Enabled</span>
                      </div>
                    </div>
                  </button>

                  <!-- Reward Token -->
                  <button class="template-card" type="button" data-template="reward">
                    <div class="template-card__icon">🎁</div>
                    <div class="template-card__content">
                      <h3 class="template-card__title">Reward/Points Token</h3>
                      <p class="template-card__description">Continuous emission for user rewards and loyalty programs</p>
                      <div class="template-card__specs">
                        <span class="spec-badge">Time-Based</span>
                        <span class="spec-badge">Fixed Emission</span>
                        <span class="spec-badge">Burn Enabled</span>
                      </div>
                    </div>
                  </button>
                </div>
              </div>
            </div>
          </div>
        </section>

        <!-- Template Confirmation Modal -->
        <div class="modal" id="template-confirmation-modal" hidden>
          <div class="modal__overlay"></div>
          <div class="modal__content">
            <div class="modal__header">
              <h2 class="modal__title" id="template-modal-title">Apply Template?</h2>
            </div>
            <div class="modal__body">
              <p id="template-modal-description">This will replace your current configuration with the template settings.</p>
              <div class="template-preview" id="template-modal-preview">
                <!-- Template details will be inserted here -->
              </div>
              <p class="modal__warning">⚠️ Any unsaved changes will be lost.</p>
            </div>
            <div class="modal__footer">
              <button class="wizard-button wizard-button--secondary" type="button" id="template-cancel-btn">Cancel</button>
              <button class="wizard-button wizard-button--primary" type="button" id="template-confirm-btn">Apply Template</button>
            </div>
          </div>
        </div>

        <!-- Naming: Token Name Sub-step -->
        <section class="wizard-screen" id="screen-naming" data-step="naming" data-substep="naming" data-tab="token" hidden>

      <!-- Right Side Guide Panel -->
      <aside class="page-guide" aria-label="Page guide">
        <div class="page-guide__content">
          <h2 class="page-guide__title">Welcome to your Token Name setup!</h2>
          <p class="page-guide__intro">Here you can define how your token will appear across your project. This name helps users recognize and interact with your token easily.</p>

          <div class="page-guide__section">
            <h3 class="page-guide__section-title">Steps:</h3>
            <ol class="page-guide__steps">
              <li>
                <strong>Enter your Token Name</strong>
                <p>Choose a unique and descriptive name for your token (2–64 characters).</p>
                <p><em>Example: Mega Awesome Token</em></p>
              </li>
              <li>
                <strong>Define Plural Form</strong>
                <p>Specify how multiple units of your token will be displayed.</p>
                <p><em>Example: "Coins"</em></p>
              </li>
              <li>
                <strong>Optional: Capitalize Token Name</strong>
                <p>When enabled, your token name will always appear with an initial capital letter (e.g., "Token" instead of "token").</p>
              </li>
            </ol>
          </div>

          <div class="page-guide__tip">
            <strong>💡 Tips:</strong>
            <ul style="margin: var(--space-2) 0 0 0; padding-left: var(--space-5); list-style: disc;">
              <li>Keep your name short, clear, and easy to remember.</li>
              <li>Avoid using symbols or special characters unless necessary.</li>
              <li>The chosen name will be visible to all users.</li>
            </ul>
          </div>
        </div>
      </aside>

      <div class="wizard-screen__inner">
        <form class="wizard-form" id="naming-form" novalidate>
          <h1 class="wizard-screen__title" id="title-naming" tabindex="-1">What would you like to name your token?</h1>
          <p class="wizard-screen__subtitle">Give your token a memorable name that users will recognize and trust.</p>

          <!-- Token Name Card -->
          <div class="form-card" style="max-width: 100%;">
            <div class="form-card__header">
              <h3 class="form-card__title">Token Name</h3>
              <p class="form-card__description">Choose a unique name for your token and define how it should be displayed<br>This will be your English localization which is required</p>
            </div>
            <div class="form-card__body">
              <div class="field-group">
                <label class="wizard-field__label" for="token-name">
                  Token Name *
                </label>
                <input class="wizard-field__input" id="token-name" name="token-name" type="text" inputmode="text" autocomplete="off" placeholder="e.g., Mega Awesome Token" required maxlength="64" aria-describedby="token-name-message">
                <span class="field-hint">2-64 characters • This is what users will see</span>
                <p class="wizard-field__message" id="token-name-message" role="status" aria-live="polite"></p>
              </div>

              <div class="field-group">
                <label class="wizard-field__label" for="token-plural">Plural form</label>
                <input class="wizard-field__input" id="token-plural" name="token-plural" type="text" inputmode="text" autocomplete="off" placeholder="Tokens" required minlength="3" maxlength="25" aria-describedby="token-plural-message">
                <span class="field-hint">3-25 characters • How multiple units are displayed (e.g., "Tokens", "Coins")</span>
                <p class="wizard-field__message" id="token-plural-message" role="status" aria-live="polite"></p>
              </div>

              <div class="field-group">
                <label class="wizard-checkbox" for="token-capitalize">
                  <input class="wizard-checkbox__input" type="checkbox" id="token-capitalize" name="token-capitalize">
                  <span class="wizard-checkbox__label">Capitalize token name</span>
                </label>
                <span class="field-hint">When enabled, "token" becomes "Token" in displays</span>
              </div>
            </div>
          </div>

          <div class="wizard-actions wizard-actions--end wizard-actions--sticky">
            <button class="wizard-button wizard-button--primary" id="naming-next" type="submit" disabled>Continue →</button>
          </div>
        </form>
      </div>
    </section>

    <!-- Naming: Localization Sub-step -->
    <section class="wizard-screen" id="screen-naming-localization" data-step="naming" data-substep="naming-localization" data-tab="token" hidden>

      <!-- Right Side Guide Panel -->
      <aside class="page-guide" aria-label="Page guide">
        <div class="page-guide__content">
          <h2 class="page-guide__title">Localization Guide</h2>
          <p class="page-guide__intro">You can add translations to make your token accessible to users in different languages. This is optional, but helpful if you want to reach a global audience.</p>

          <div class="page-guide__section">
            <h3 class="page-guide__section-title">How it works:</h3>
            <ol class="page-guide__steps">
              <li>Select a language from the dropdown list.</li>
              <li>Enter the translated name and description for your token.</li>
              <li>Repeat the process if you want to add more languages.</li>
            </ol>
          </div>

          <div class="page-guide__tip">
            <strong>💡 Tip:</strong>
            <p style="margin: var(--space-2) 0 0 0;">If you are not sure about the translation, you can use any online translation tool or ask a native speaker.</p>
          </div>
        </div>
      </aside>

      <div class="wizard-screen__inner">
        <form class="wizard-form" id="naming-localization-form" novalidate>
          <h1 class="wizard-screen__title" id="title-naming-localization" tabindex="-1">How should your token appear in other languages?</h1>
          <p class="wizard-screen__subtitle">Add translations to make your token accessible to a global audience.</p>

          <!-- Localization Card -->
          <div class="form-card">
            <div class="form-card__header">
              <h3 class="form-card__title">Localization <span class="wizard-badge wizard-badge--optional" style="margin-left: var(--space-2);">Optional</span></h3>
              <p class="form-card__description">Support multiple languages for international reach</p>
            </div>
            <div class="form-card__body">
              <section class="localization-section" aria-labelledby="localization-heading">
                <p class="localization-section__lead" id="localization-guidance">Add translations to make your token accessible worldwide. English is recommended as the first language.</p>
                <div class="localization-empty" id="localization-empty-state">
                  <button class="wizard-button wizard-button--secondary" type="button" id="localization-add" aria-expanded="false">Add localization</button>
                </div>
                <div class="localization-wrapper" id="localization-wrapper" hidden>
                  <div class="localization-section__list" id="localization-list"></div>
                  <button class="wizard-button wizard-button--secondary" type="button" id="localization-add-more" style="margin-top: var(--space-3);">+ Add language</button>
                  <p class="localization-section__message" id="localization-global-message" role="status" aria-live="polite"></p>
                </div>
              </section>
            </div>
          </div>

          <div class="wizard-actions wizard-actions--between wizard-actions--sticky">
            <button class="wizard-button wizard-button--secondary" type="button" data-step-back="naming-localization">← Back</button>
            <button class="wizard-button wizard-button--secondary" type="button" id="contract-preview-btn">📄 Contract Preview</button>
            <button class="wizard-button wizard-button--primary" id="naming-localization-next" type="submit">Continue →</button>
          </div>
        </form>
      </div>
    </section>

    <!-- Naming: Update Sub-step -->
    <section class="wizard-screen" id="screen-naming-update" data-step="naming" data-substep="naming-update" data-tab="token" hidden>

      <!-- Right Side Guide Panel -->
      <aside class="page-guide" aria-label="Page guide">
        <div class="page-guide__content">
          <h2 class="page-guide__title">Update Names</h2>
          <p class="page-guide__intro">Control whether token names can be modified after deployment.</p>

          <div class="page-guide__section">
            <h3 class="page-guide__section-title">Step-by-step guide</h3>
            <ol class="page-guide__steps">
              <li>
                <strong>Enable Name Updates</strong>
                <p>Turn on to allow changing token names after the token is created.</p>
              </li>
              <li>
                <strong>Set Update Permissions</strong>
                <p>Who can update the token names. This could be the owner, a specific identity, or a group.</p>
              </li>
            </ol>
          </div>

          <div class="page-guide__tip">
            <strong>💡 Pro Tip</strong>
            Keeping names fixed provides consistency, but allowing updates can be useful for rebranding or correcting errors.
          </div>
        </div>
      </aside>

      <div class="wizard-screen__inner">
        <form class="wizard-form" id="naming-update-form" novalidate>
          <h1 class="wizard-screen__title" id="title-naming-update" tabindex="-1">Can the token names be changed?</h1>
          <p class="wizard-screen__subtitle">Configure permissions for updating token names after deployment.</p>

          <!-- Update Names Card -->
          <div class="form-card">
            <div class="form-card__header">
              <h3 class="form-card__title">Updating Names</h3>
              <p class="form-card__description">Choose whether token names can be modified after deployment</p>
            </div>
            <div class="form-card__body">
              <fieldset class="wizard-fieldset">
                <legend class="wizard-field__label">Enable updating names?</legend>

                <!-- No Option -->
                <label class="wizard-choice">
                  <input class="wizard-choice__input" type="radio" name="update-names-enabled" value="disabled" checked>
                  <span class="wizard-choice__content">
                    <span class="wizard-choice__title">No</span>
                    <span class="wizard-choice__hint">Token names are fixed and cannot be changed</span>
                  </span>
                </label>

                <!-- Yes Option -->
                <label class="wizard-choice">
                  <input class="wizard-choice__input" type="radio" name="update-names-enabled" value="enabled" data-toggle-panel="update-names-permissions-panel">
                  <span class="wizard-choice__content">
                    <span class="wizard-choice__title">Yes</span>
                    <span class="wizard-choice__hint">Allow changing token names after deployment</span>
                  </span>
                </label>
              </fieldset>

              <!-- Permission Configuration (shown only when Yes is selected) -->
              <div class="distribution-inline-panel" id="update-names-permissions-panel" hidden>
                <fieldset class="wizard-fieldset" style="margin-top: var(--space-6);">
                  <legend class="wizard-field__label">Who is allowed to update token names?</legend>

                  <!-- Owner Only Option -->
                  <label class="wizard-choice">
                    <input class="wizard-choice__input" type="radio" name="update-names-permission" value="owner-only" checked>
                    <span class="wizard-choice__content">
                      <span class="wizard-choice__title">Owner Only</span>
                      <span class="wizard-choice__hint">Only the contract owner can change token names</span>
                    </span>
                  </label>

                  <!-- Specific Identity Option -->
                  <label class="wizard-choice">
                    <input class="wizard-choice__input" type="radio" name="update-names-permission" value="specific-identity" data-toggle-panel="update-names-panel-identity">
                  <span class="wizard-choice__content">
                    <span class="wizard-choice__title">Specific Identity</span>
                    <span class="wizard-choice__hint">Only a designated identity can change token names</span>
                  </span>
                </label>
                <div class="distribution-inline-panel" id="update-names-panel-identity" hidden>
                  <div class="field-group">
                    <label class="wizard-field__label" for="update-names-identity-id">Identity ID</label>
                    <input class="wizard-field__input" type="text" id="update-names-identity-id" name="update-names-identity-id" placeholder="e.g., 4hKFP3mFB9vku8VJKcZvwVN123...">
                    <span class="field-hint">Enter the Dash Platform identity ID that can change token names</span>
                  </div>
                </div>

                <!-- Group Option -->
                <label class="wizard-choice">
                  <input class="wizard-choice__input" type="radio" name="update-names-permission" value="group" data-toggle-panel="update-names-panel-group">
                  <span class="wizard-choice__content">
                    <span class="wizard-choice__title">Group</span>
                    <span class="wizard-choice__hint">Members of a designated group can change token names</span>
                  </span>
                </label>
                <div class="distribution-inline-panel" id="update-names-panel-group" hidden>
                  <div class="field-group" id="update-names-group-selector-container">
                    <label class="wizard-field__label" for="update-names-group-id">Select group</label>
                    <select class="wizard-field__input" id="update-names-group-id" name="update-names-group-id">
                      <option value="">Select a group...</option>
                    </select>
                    <span class="field-hint" id="update-names-group-hint">Choose which group can perform this action</span>
                  </div>
                  <div class="field-message field-message--info" id="update-names-no-groups-message" hidden>
                    <p>No group has been created yet.</p>
                    <button class="wizard-button wizard-button--secondary wizard-button--small" type="button" id="update-names-create-group-btn">Create Group</button>
                  </div>
                  </div>
                </fieldset>
              </div>
            </div>
          </div>

          <p class="wizard-field__message" id="naming-update-message" role="status" aria-live="polite"></p>
          <div class="wizard-actions wizard-actions--between wizard-actions--sticky">
            <button class="wizard-button wizard-button--secondary" type="button" data-step-back="naming-update">← Back</button>
            <button class="wizard-button wizard-button--secondary" type="button" id="contract-preview-btn">📄 Contract Preview</button>
            <button class="wizard-button wizard-button--primary" id="naming-update-next" type="submit">Continue →</button>
          </div>
        </form>
      </div>
    </section>

        <!-- Permissions: Token Supply Sub-step -->
        <section class="wizard-screen" id="screen-permissions" data-step="permissions" data-substep="permissions" data-tab="token" hidden>

      <!-- Right Side Guide Panel -->
      <aside class="page-guide" aria-label="Page guide">
        <div class="page-guide__content">
          <h2 class="page-guide__title">Token Supply Settings</h2>
          <p class="page-guide__intro">Configure your token's economic foundation. These settings are permanent and cannot be changed.</p>

          <div class="page-guide__section">
            <h3 class="page-guide__section-title">Step-by-step guide</h3>
            <ol class="page-guide__steps">
              <li>
                <strong>Choose an Action Preset</strong>
                <p>Quick setup: "Owner Only" gives full control, "Restricted" balances security, "All Allowed" maximizes flexibility.</p>
              </li>
              <li>
                <strong>Set Initial Supply</strong>
                <p>How many tokens at launch? Examples: 1M for loyalty programs, 100 for limited editions.</p>
              </li>
              <li>
                <strong>Choose Decimals</strong>
                <p>8 decimals = standard (like Bitcoin). 0 decimals = whole units only (tickets, memberships).</p>
              </li>
              <li>
                <strong>Set Maximum Supply</strong>
                <p>Optional: Add a cap for scarcity (like Bitcoin's 21M). Leave empty for unlimited.</p>
              </li>
              <li>
                <strong>Launch Paused?</strong>
                <p>Recommended: Start paused to test safely before enabling transfers.</p>
              </li>
            </ol>
          </div>

          <div class="page-guide__tip">
            <strong>💡 Pro Tip</strong>
            Most tokens use 8 decimals with a maximum supply cap. Starting paused is recommended for security.
          </div>
        </div>
      </aside>

      <div class="wizard-screen__inner">
        <form class="wizard-form" id="permissions-form" novalidate>
          <h1 class="wizard-screen__title" id="title-permissions" tabindex="-1">How do you want to manage your token supply?</h1>
          <p class="wizard-screen__subtitle">Set the initial amount, divisibility, and supply limits for your token.</p>

          <!-- Decimals Card -->
          <div class="form-card">
            <div class="form-card__header">
              <h3 class="form-card__title">Decimal Places</h3>
              <p class="form-card__description">How divisible should your token be?</p>
            </div>
            <div class="form-card__body">
              <div class="field-group">
                <label class="wizard-field__label" for="decimals">
                  Decimals *
                </label>
                <input class="wizard-field__input" id="decimals" name="decimals" type="number" min="0" max="16" value="8" required aria-describedby="decimals-hint">
                <span class="field-hint">8 decimals (like Bitcoin) is standard • 0 for whole units only • Max: 16</span>
              </div>
            </div>
          </div>

          <!-- Supply Amount Card -->
          <div class="form-card">
            <div class="form-card__header">
              <h3 class="form-card__title">Initial Supply</h3>
              <p class="form-card__description">How many tokens should the creator receive after creation?</p>
            </div>
            <div class="form-card__body">
              <!-- Supply Mode Selector (shown only when decimals > 0) -->
              <div class="supply-mode-selector" id="base-supply-mode-selector" hidden>
                <label class="wizard-radio">
                  <input type="radio" name="base-supply-mode" value="token" id="base-supply-mode-token" checked>
                  <span class="wizard-radio__label">Token Amount</span>
                </label>
                <label class="wizard-radio">
                  <input type="radio" name="base-supply-mode" value="base" id="base-supply-mode-base">
                  <span class="wizard-radio__label">Base Units</span>
                </label>
              </div>

              <div class="field-group">
                <label class="wizard-field__label" for="base-supply">
                  <span id="base-supply-label">Initial Supply</span> *
                </label>
                <input class="wizard-field__input" id="base-supply" name="base-supply" type="text" inputmode="decimal" placeholder="e.g., 1000000" required aria-describedby="base-supply-hint base-supply-conversion">
                <span class="field-hint" id="base-supply-hint">Enter the number of tokens to create</span>
                <div class="supply-conversion" id="base-supply-conversion" hidden>
                  <span class="supply-conversion__label">= </span>
                  <span class="supply-conversion__value" id="base-supply-conversion-value">0</span>
                  <span class="supply-conversion__unit" id="base-supply-conversion-unit">base units</span>
                </div>
              </div>
            </div>
          </div>

          <!-- Supply Limits Card (Optional) -->
          <div class="form-card">
            <div class="form-card__header">
              <h3 class="form-card__title">Supply Limits <span class="wizard-badge wizard-badge--optional" style="margin-left: var(--space-2);">Optional</span></h3>
              <p class="form-card__description">Set a maximum cap on total supply</p>
            </div>
            <div class="form-card__body">
              <!-- Supply Mode Selector (shown only when decimals > 0) -->
              <div class="supply-mode-selector" id="max-supply-mode-selector" hidden>
                <label class="wizard-radio">
                  <input type="radio" name="max-supply-mode" value="token" id="max-supply-mode-token" checked>
                  <span class="wizard-radio__label">Token Amount</span>
                </label>
                <label class="wizard-radio">
                  <input type="radio" name="max-supply-mode" value="base" id="max-supply-mode-base">
                  <span class="wizard-radio__label">Base Units</span>
                </label>
              </div>

              <div class="field-group">
                <label class="wizard-field__label" for="max-supply">
                  <span id="max-supply-label">Maximum Supply</span> (leave empty for unlimited)
                </label>
                <input class="wizard-field__input" id="max-supply" name="max-supply" type="text" inputmode="decimal" placeholder="e.g., 10000000" aria-describedby="max-supply-hint max-supply-conversion max-supply-message">
                <span class="field-hint" id="max-supply-hint">Optional • Leave blank for no limit • Must be ≥ initial supply</span>
                <p class="wizard-field__message" id="max-supply-message" role="status" aria-live="polite"></p>
                <div class="supply-conversion" id="max-supply-conversion" hidden>
                  <span class="supply-conversion__label">= </span>
                  <span class="supply-conversion__value" id="max-supply-conversion-value">0</span>
                  <span class="supply-conversion__unit" id="max-supply-conversion-unit">base units</span>
                </div>
              </div>
            </div>
          </div>

          <!-- Changing Max Supply Card -->
          <div class="form-card">
            <div class="form-card__header">
              <h3 class="form-card__title">Changing Max Supply</h3>
              <p class="form-card__description">Choose whether the maximum supply can be modified after deployment</p>
            </div>
            <div class="form-card__body">
              <fieldset class="wizard-fieldset">
                <legend class="wizard-field__label">Can the max supply be changed?</legend>

                <!-- No Option -->
                <label class="wizard-choice">
                  <input class="wizard-choice__input" type="radio" name="change-max-supply-enabled" value="disabled" checked>
                  <span class="wizard-choice__content">
                    <span class="wizard-choice__title">No</span>
                    <span class="wizard-choice__hint">Maximum supply is fixed and cannot be changed</span>
                  </span>
                </label>

                <!-- Yes Option -->
                <label class="wizard-choice">
                  <input class="wizard-choice__input" type="radio" name="change-max-supply-enabled" value="enabled" data-toggle-panel="change-max-supply-permissions-panel">
                  <span class="wizard-choice__content">
                    <span class="wizard-choice__title">Yes</span>
                    <span class="wizard-choice__hint">Allow changing the maximum supply after deployment</span>
                  </span>
                </label>
              </fieldset>

              <!-- Permission Configuration (shown only when Yes is selected) -->
              <div class="distribution-inline-panel" id="change-max-supply-permissions-panel" hidden>
                <fieldset class="wizard-fieldset" style="margin-top: var(--space-6);">
                  <legend class="wizard-field__label">Who can change the max supply?</legend>

                  <!-- Owner Only Option -->
                  <label class="wizard-choice">
                    <input class="wizard-choice__input" type="radio" name="change-max-supply-permission" value="owner-only" checked>
                    <span class="wizard-choice__content">
                      <span class="wizard-choice__title">Owner Only</span>
                      <span class="wizard-choice__hint">Only the contract owner can change the max supply</span>
                    </span>
                  </label>

                  <!-- Specific Identity Option -->
                  <label class="wizard-choice">
                    <input class="wizard-choice__input" type="radio" name="change-max-supply-permission" value="specific-identity" data-toggle-panel="change-max-supply-panel-identity">
                  <span class="wizard-choice__content">
                    <span class="wizard-choice__title">Specific Identity</span>
                    <span class="wizard-choice__hint">Only a designated identity can change the max supply</span>
                  </span>
                </label>
                <div class="distribution-inline-panel" id="change-max-supply-panel-identity" hidden>
                  <div class="field-group">
                    <label class="wizard-field__label" for="change-max-supply-identity-id">Identity ID</label>
                    <input class="wizard-field__input" type="text" id="change-max-supply-identity-id" name="change-max-supply-identity-id" placeholder="e.g., 4hKFP3mFB9vku8VJKcZvwVN123...">
                    <span class="field-hint">Enter the Dash Platform identity ID that can change the max supply</span>
                  </div>
                </div>

                <!-- Group Option -->
                <label class="wizard-choice">
                  <input class="wizard-choice__input" type="radio" name="change-max-supply-permission" value="group" data-toggle-panel="change-max-supply-panel-group">
                  <span class="wizard-choice__content">
                    <span class="wizard-choice__title">Group</span>
                    <span class="wizard-choice__hint">Members of a designated group can change the max supply</span>
                  </span>
                </label>
                <div class="distribution-inline-panel" id="change-max-supply-panel-group" hidden>
                  <div class="field-group" id="change-max-supply-group-selector-container">
                    <label class="wizard-field__label" for="change-max-supply-group-id">Select group</label>
                    <select class="wizard-field__input" id="change-max-supply-group-id" name="change-max-supply-group-id">
                      <option value="">Select a group...</option>
                    </select>
                    <span class="field-hint" id="change-max-supply-group-hint">Choose which group can perform this action</span>
                  </div>
                  <div class="field-message field-message--info" id="change-max-supply-no-groups-message" hidden>
                    <p>No group has been created yet.</p>
                    <button class="wizard-button wizard-button--secondary wizard-button--small" type="button" id="change-max-supply-create-group-btn">Create Group</button>
                  </div>
                  </div>
                </fieldset>
              </div>
            </div>
          </div>

          <p class="wizard-field__message" id="permissions-message" role="status" aria-live="polite"></p>
          <div class="wizard-actions wizard-actions--between wizard-actions--sticky">
            <button class="wizard-button wizard-button--secondary" type="button" data-step-back="permissions">← Back</button>
            <button class="wizard-button wizard-button--secondary" type="button" id="contract-preview-btn">📄 Contract Preview</button>
            <button class="wizard-button wizard-button--primary" id="permissions-next" type="submit" disabled>Continue →</button>
          </div>
        </form>
      </div>
    </section>

    <!-- Permissions: Minting Sub-step -->
    <section class="wizard-screen" id="screen-permissions-manual-mint" data-step="permissions" data-substep="permissions-manual-mint" data-tab="token" hidden>

      <!-- Right Side Guide Panel -->
      <aside class="page-guide" aria-label="Page guide">
        <div class="page-guide__content">
          <h2 class="page-guide__title">Minting</h2>
          <p class="page-guide__intro">Who can create new tokens on demand.</p>

          <div class="page-guide__section">
            <h3 class="page-guide__section-title">Step-by-step guide</h3>
            <ol class="page-guide__steps">
              <li>
                <strong>Enable Minting</strong>
                <p>Turn on to allow creating new tokens after launch. Good for rewards programs.</p>
              </li>
              <li>
                <strong>Set Who Can Mint</strong>
                <p>Owner only, committee approval, or no one. Consider your trust model.</p>
              </li>
            </ol>
          </div>

          <div class="page-guide__tip">
            <strong>💡 Pro Tip</strong>
            Disable if you want fixed supply. Enable for flexible reward systems.
          </div>
        </div>
      </aside>

      <div class="wizard-screen__inner">
        <form class="wizard-form" id="permissions-manual-mint-form" novalidate>
          <h1 class="wizard-screen__title" id="title-permissions-manual-mint" tabindex="-1">Can this token be minted?</h1>
          <p class="wizard-screen__subtitle">Configure permissions for creating new tokens on-demand (outside of automatic distribution).</p>

          <!-- Enable/Disable Minting Card -->
          <div class="form-card">
            <div class="form-card__header">
              <h3 class="form-card__title">Minting</h3>
              <p class="form-card__description">Choose whether new tokens can be created after initial deployment</p>
            </div>
            <div class="form-card__body">
              <fieldset class="wizard-fieldset">
                <legend class="wizard-field__label">Enable minting?</legend>

                <!-- No Option -->
                <label class="wizard-choice">
                  <input class="wizard-choice__input" type="radio" name="manual-mint-enabled" value="disabled" checked>
                  <span class="wizard-choice__content">
                    <span class="wizard-choice__title">No</span>
                    <span class="wizard-choice__hint">Fixed supply - no new tokens can be created</span>
                  </span>
                </label>

                <!-- Yes Option -->
                <label class="wizard-choice">
                  <input class="wizard-choice__input" type="radio" name="manual-mint-enabled" value="enabled" data-toggle-panel="manual-mint-permissions-panel">
                  <span class="wizard-choice__content">
                    <span class="wizard-choice__title">Yes</span>
                    <span class="wizard-choice__hint">Allow creating new tokens after deployment</span>
                  </span>
                </label>
              </fieldset>

              <!-- Permission Configuration (shown only when Yes is selected) -->
              <div class="distribution-inline-panel" id="manual-mint-permissions-panel" hidden>
                <fieldset class="wizard-fieldset" style="margin-top: var(--space-6);">
                  <legend class="wizard-field__label">Who is allowed to mint the token?</legend>

                  <!-- Owner Only Option -->
                  <label class="wizard-choice">
                    <input class="wizard-choice__input" type="radio" name="manual-mint-permission" value="owner-only" checked>
                    <span class="wizard-choice__content">
                      <span class="wizard-choice__title">Owner Only</span>
                      <span class="wizard-choice__hint">Only the contract owner can mint tokens</span>
                    </span>
                  </label>

                  <!-- Specific Identity Option -->
                  <label class="wizard-choice">
                    <input class="wizard-choice__input" type="radio" name="manual-mint-permission" value="specific-identity" data-toggle-panel="manual-mint-panel-identity">
                    <span class="wizard-choice__content">
                      <span class="wizard-choice__title">Specific Identity</span>
                      <span class="wizard-choice__hint">Only a designated identity can mint tokens</span>
                    </span>
                  </label>
                  <div class="distribution-inline-panel" id="manual-mint-panel-identity" hidden>
                    <div class="field-group">
                      <label class="wizard-field__label" for="manual-mint-identity-id">Identity ID</label>
                      <input class="wizard-field__input" type="text" id="manual-mint-identity-id" name="manual-mint-identity-id" placeholder="e.g., 4hKFP3mFB9vku8VJKcZvwVN123...">
                      <span class="field-hint">Enter the Dash Platform identity ID that can mint tokens</span>
                    </div>
                  </div>

                  <!-- Group Option -->
                  <label class="wizard-choice">
                    <input class="wizard-choice__input" type="radio" name="manual-mint-permission" value="group" data-toggle-panel="manual-mint-panel-group">
                    <span class="wizard-choice__content">
                      <span class="wizard-choice__title">Group</span>
                      <span class="wizard-choice__hint">Members of a designated group can mint</span>
                    </span>
                  </label>
                  <div class="distribution-inline-panel" id="manual-mint-panel-group" hidden>
                    <div class="field-group" id="manual-mint-group-selector-container">
                      <label class="wizard-field__label" for="manual-mint-group-id">Select group</label>
                      <select class="wizard-field__input" id="manual-mint-group-id" name="manual-mint-group-id">
                        <option value="">Select a group...</option>
                      </select>
                      <span class="field-hint" id="manual-mint-group-hint">Choose which group can perform this action</span>
                    </div>
                    <div class="field-message field-message--info" id="manual-mint-no-groups-message" hidden>
                      <p>No group has been created yet.</p>
                      <button class="wizard-button wizard-button--secondary wizard-button--small" type="button" id="manual-mint-create-group-btn">Create Group</button>
                    </div>
                  </div>
                </fieldset>

                <!-- Minting Destination Configuration -->
                <fieldset class="wizard-fieldset" style="margin-top: var(--space-6);">
                  <legend class="wizard-field__label">Default destination for minted tokens</legend>

                  <!-- Contract Owner Option -->
                  <label class="wizard-choice">
                    <input class="wizard-choice__input" type="radio" name="manual-mint-destination" value="contract-owner" checked>
                    <span class="wizard-choice__content">
                      <span class="wizard-choice__title">Contract Owner</span>
                      <span class="wizard-choice__hint">Newly minted tokens go to the contract owner (you)</span>
                    </span>
                  </label>

                  <!-- Default Identity Option -->
                  <label class="wizard-choice">
                    <input class="wizard-choice__input" type="radio" name="manual-mint-destination" value="default-identity" data-toggle-panel="manual-mint-panel-default-identity">
                    <span class="wizard-choice__content">
                      <span class="wizard-choice__title">Default Identity</span>
                      <span class="wizard-choice__hint">Use a specific identity to receive newly minted tokens</span>
                    </span>
                  </label>
                  <div class="distribution-inline-panel" id="manual-mint-panel-default-identity" hidden>
                    <div class="field-group">
                      <label class="wizard-field__label" for="manual-mint-destination-id">Default Identity ID</label>
                      <input class="wizard-field__input" type="text" id="manual-mint-destination-id" placeholder="Base58 or Hex format (e.g., 4hKFP3mFB9vku8VJKcZvwVN123...)">
                      <span class="field-hint">Enter the Dash Platform identity ID in base58 or hex format</span>
                    </div>
                  </div>
                </fieldset>

                <!-- Allow Custom Destination Checkbox -->
                <fieldset class="wizard-fieldset" style="margin-top: var(--space-6);">
                  <legend class="wizard-field__label">Minting flexibility</legend>
                  <div class="wizard-field wizard-field--checkbox">
                    <label class="wizard-checkbox">
                      <input class="wizard-checkbox__input" type="checkbox" id="manual-mint-allow-custom-destination">
                      <span class="wizard-checkbox__label">
                        <span class="wizard-checkbox__title">Allow choosing different destination on each mint</span>
                        <span class="wizard-checkbox__hint" style="display: block; margin-top: var(--space-2xs);">When enabled, the minter can override the default destination and specify a custom recipient for each mint operation</span>
                      </span>
                    </label>
                  </div>
                </fieldset>
              </div>
            </div>
          </div>

          <p class="wizard-field__message" id="permissions-manual-mint-message" role="status" aria-live="polite"></p>
          <div class="wizard-actions wizard-actions--between wizard-actions--sticky">
            <button class="wizard-button wizard-button--secondary" type="button" data-step-back="permissions-manual-mint">← Back</button>
            <button class="wizard-button wizard-button--secondary" type="button" id="contract-preview-btn">📄 Contract Preview</button>
            <button class="wizard-button wizard-button--primary" id="permissions-manual-mint-next" type="submit">Continue →</button>
          </div>
        </form>
      </div>
    </section>

    <!-- Permissions: Burning Sub-step -->
    <section class="wizard-screen" id="screen-permissions-manual-burn" data-step="permissions" data-substep="permissions-manual-burn" data-tab="token" hidden>

      <!-- Right Side Guide Panel -->
      <aside class="page-guide" aria-label="Page guide">
        <div class="page-guide__content">
          <h2 class="page-guide__title">Burning</h2>
          <p class="page-guide__intro">Who can permanently destroy tokens to reduce supply.</p>

          <div class="page-guide__section">
            <h3 class="page-guide__section-title">Step-by-step guide</h3>
            <ol class="page-guide__steps">
              <li>
                <strong>Enable Burning</strong>
                <p>Allow tokens to be permanently destroyed. Useful for buybacks or deflationary economics.</p>
              </li>
              <li>
                <strong>Set Burn Permissions</strong>
                <p>Who can burn: owner, committee, or anyone from their own balance.</p>
              </li>
            </ol>
          </div>

          <div class="page-guide__tip">
            <strong>💡 Pro Tip</strong>
            Burning creates scarcity. Common for deflationary tokens or buyback programs.
          </div>
        </div>
      </aside>

      <div class="wizard-screen__inner">
        <form class="wizard-form" id="permissions-manual-burn-form" novalidate>
          <h1 class="wizard-screen__title" id="title-permissions-manual-burn" tabindex="-1">Can this token be burned?</h1>
          <p class="wizard-screen__subtitle">Configure permissions for destroying tokens (reducing supply).</p>

          <!-- Enable/Disable Burning Card -->
          <div class="form-card">
            <div class="form-card__header">
              <h3 class="form-card__title">Burning</h3>
              <p class="form-card__description">Choose whether tokens can be permanently destroyed</p>
            </div>
            <div class="form-card__body">
              <fieldset class="wizard-fieldset">
                <legend class="wizard-field__label">Enable burning?</legend>

                <!-- No Option -->
                <label class="wizard-choice">
                  <input class="wizard-choice__input" type="radio" name="manual-burn-enabled" value="disabled" checked>
                  <span class="wizard-choice__content">
                    <span class="wizard-choice__title">No</span>
                    <span class="wizard-choice__hint">Tokens cannot be destroyed</span>
                  </span>
                </label>

                <!-- Yes Option -->
                <label class="wizard-choice">
                  <input class="wizard-choice__input" type="radio" name="manual-burn-enabled" value="enabled" data-toggle-panel="manual-burn-permissions-panel">
                  <span class="wizard-choice__content">
                    <span class="wizard-choice__title">Yes</span>
                    <span class="wizard-choice__hint">Allow destroying tokens to reduce supply</span>
                  </span>
                </label>
              </fieldset>

              <!-- Permission Configuration (shown only when Yes is selected) -->
              <div class="distribution-inline-panel" id="manual-burn-permissions-panel" hidden>
                <fieldset class="wizard-fieldset" style="margin-top: var(--space-6);">
                  <legend class="wizard-field__label">Who is allowed to burn the token?</legend>

                  <!-- Owner Only Option -->
                  <label class="wizard-choice">
                    <input class="wizard-choice__input" type="radio" name="manual-burn-permission" value="owner-only" checked>
                    <span class="wizard-choice__content">
                      <span class="wizard-choice__title">Owner Only</span>
                      <span class="wizard-choice__hint">Only the contract owner can burn tokens</span>
                    </span>
                  </label>

                  <!-- Specific Identity Option -->
                  <label class="wizard-choice">
                    <input class="wizard-choice__input" type="radio" name="manual-burn-permission" value="specific-identity" data-toggle-panel="manual-burn-panel-identity">
                    <span class="wizard-choice__content">
                      <span class="wizard-choice__title">Specific Identity</span>
                      <span class="wizard-choice__hint">Only a designated identity can burn tokens</span>
                    </span>
                  </label>
                  <div class="distribution-inline-panel" id="manual-burn-panel-identity" hidden>
                    <div class="field-group">
                      <label class="wizard-field__label" for="manual-burn-identity-id">Identity ID</label>
                      <input class="wizard-field__input" type="text" id="manual-burn-identity-id" name="manual-burn-identity-id" placeholder="e.g., 4hKFP3mFB9vku8VJKcZvwVN123...">
                      <span class="field-hint">Enter the Dash Platform identity ID that can burn tokens</span>
                    </div>
                  </div>

                  <!-- Group Option -->
                  <label class="wizard-choice">
                    <input class="wizard-choice__input" type="radio" name="manual-burn-permission" value="group" data-toggle-panel="manual-burn-panel-group">
                    <span class="wizard-choice__content">
                      <span class="wizard-choice__title">Group</span>
                      <span class="wizard-choice__hint">Members of a designated group can burn</span>
                    </span>
                  </label>
                  <div class="distribution-inline-panel" id="manual-burn-panel-group" hidden>
                  <div class="field-group" id="manual-burn-group-selector-container">
                    <label class="wizard-field__label" for="manual-burn-group-id">Select group</label>
                    <select class="wizard-field__input" id="manual-burn-group-id" name="manual-burn-group-id">
                      <option value="">Select a group...</option>
                    </select>
                    <span class="field-hint" id="manual-burn-group-hint">Choose which group can perform this action</span>
                  </div>
                  <div class="field-message field-message--info" id="manual-burn-no-groups-message" hidden>
                    <p>No group has been created yet.</p>
                    <button class="wizard-button wizard-button--secondary wizard-button--small" type="button" id="manual-burn-create-group-btn">Create Group</button>
                    </div>
                  </div>
                </fieldset>
              </div>
            </div>
          </div>

          <p class="wizard-field__message" id="permissions-manual-burn-message" role="status" aria-live="polite"></p>
          <div class="wizard-actions wizard-actions--between wizard-actions--sticky">
            <button class="wizard-button wizard-button--secondary" type="button" data-step-back="permissions-manual-burn">← Back</button>
            <button class="wizard-button wizard-button--secondary" type="button" id="contract-preview-btn">📄 Contract Preview</button>
            <button class="wizard-button wizard-button--primary" id="permissions-manual-burn-next" type="submit">Continue →</button>
          </div>
        </form>
      </div>
    </section>

    <!-- Permissions: Freezing Sub-step -->
    <section class="wizard-screen" id="screen-permissions-manual-freeze" data-step="permissions" data-substep="permissions-manual-freeze" data-tab="token" hidden>

      <!-- Right Side Guide Panel -->
      <aside class="page-guide" aria-label="Page guide">
        <div class="page-guide__content">
          <h2 class="page-guide__title">Freezing</h2>
          <p class="page-guide__intro">Block or allow token transfers for specific accounts.</p>

          <div class="page-guide__section">
            <h3 class="page-guide__section-title">Step-by-step guide</h3>
            <ol class="page-guide__steps">
              <li>
                <strong>Enable Freeze Powers</strong>
                <p>Turn on to allow blocking suspicious accounts or enforcing compliance.</p>
              </li>
              <li>
                <strong>Set Freeze Permissions</strong>
                <p>Who can freeze/unfreeze accounts. Important for security and compliance.</p>
              </li>
            </ol>
          </div>

          <div class="page-guide__tip">
            <strong>💡 Pro Tip</strong>
            Only enable if you need compliance controls. Can be controversial for decentralized tokens.
          </div>
        </div>
      </aside>

      <div class="wizard-screen__inner">
        <form class="wizard-form" id="permissions-manual-freeze-form" novalidate>
          <h1 class="wizard-screen__title" id="title-permissions-manual-freeze" tabindex="-1">Can token balances be frozen?</h1>
          <p class="wizard-screen__subtitle">Configure permissions for freezing and unfreezing identities to prevent token transfers.</p>

          <!-- Enable/Disable Freezing Card -->
          <div class="form-card">
            <div class="form-card__header">
              <h3 class="form-card__title">Freezing</h3>
              <p class="form-card__description">Choose whether balances can be frozen to prevent transfers</p>
            </div>
            <div class="form-card__body">
              <fieldset class="wizard-fieldset">
                <legend class="wizard-field__label">Enable freezing?</legend>

                <!-- No Option -->
                <label class="wizard-choice">
                  <input class="wizard-choice__input" type="radio" name="manual-freeze-enabled" value="disabled" checked>
                  <span class="wizard-choice__content">
                    <span class="wizard-choice__title">No</span>
                    <span class="wizard-choice__hint">Freezing functionality is disabled</span>
                  </span>
                </label>

                <!-- Yes Option -->
                <label class="wizard-choice">
                  <input class="wizard-choice__input" type="radio" name="manual-freeze-enabled" value="enabled" data-toggle-panel="manual-freeze-permissions-panel">
                  <span class="wizard-choice__content">
                    <span class="wizard-choice__title">Yes</span>
                    <span class="wizard-choice__hint">Allow freezing balances for compliance</span>
                  </span>
                </label>
              </fieldset>

              <!-- Permission Configuration (shown only when Yes is selected) -->
              <div class="distribution-inline-panel" id="manual-freeze-permissions-panel" hidden>
                <fieldset class="wizard-fieldset" style="margin-top: var(--space-6);">
                  <legend class="wizard-field__label">Who is allowed to freeze balances?</legend>

                  <!-- Owner Only Option -->
                  <label class="wizard-choice">
                    <input class="wizard-choice__input" type="radio" name="manual-freeze-permission" value="owner-only" checked>
                    <span class="wizard-choice__content">
                      <span class="wizard-choice__title">Owner Only</span>
                      <span class="wizard-choice__hint">Only the contract owner can freeze balances</span>
                    </span>
                  </label>

                  <!-- Specific Identity Option -->
                  <label class="wizard-choice">
                    <input class="wizard-choice__input" type="radio" name="manual-freeze-permission" value="specific-identity" data-toggle-panel="manual-freeze-panel-identity">
                  <span class="wizard-choice__content">
                    <span class="wizard-choice__title">Specific Identity</span>
                    <span class="wizard-choice__hint">Only a designated identity can freeze balances</span>
                  </span>
                </label>
                <div class="distribution-inline-panel" id="manual-freeze-panel-identity" hidden>
                  <div class="field-group">
                    <label class="wizard-field__label" for="manual-freeze-identity-id">Identity ID</label>
                    <input class="wizard-field__input" type="text" id="manual-freeze-identity-id" name="manual-freeze-identity-id" placeholder="e.g., 4hKFP3mFB9vku8VJKcZvwVN123...">
                    <span class="field-hint">Enter the Dash Platform identity ID that can freeze balances</span>
                  </div>
                </div>

                <!-- Group Option -->
                <label class="wizard-choice">
                  <input class="wizard-choice__input" type="radio" name="manual-freeze-permission" value="group" data-toggle-panel="manual-freeze-panel-group">
                  <span class="wizard-choice__content">
                    <span class="wizard-choice__title">Group</span>
                    <span class="wizard-choice__hint">Members of a designated group can freeze balances</span>
                  </span>
                </label>
                <div class="distribution-inline-panel" id="manual-freeze-panel-group" hidden>
                  <div class="field-group" id="manual-freeze-group-selector-container">
                    <label class="wizard-field__label" for="manual-freeze-group-id">Select group</label>
                    <select class="wizard-field__input" id="manual-freeze-group-id" name="manual-freeze-group-id">
                      <option value="">Select a group...</option>
                    </select>
                    <span class="field-hint" id="manual-freeze-group-hint">Choose which group can perform this action</span>
                  </div>
                  <div class="field-message field-message--info" id="manual-freeze-no-groups-message" hidden>
                    <p>No group has been created yet.</p>
                    <button class="wizard-button wizard-button--secondary wizard-button--small" type="button" id="manual-freeze-create-group-btn">Create Group</button>
                  </div>
                  </div>
                </fieldset>

                <!-- Unfreezing Section (inside freeze permissions panel) -->
                <fieldset class="wizard-fieldset" style="margin-top: var(--space-8); padding-top: var(--space-6); border-top: 1px solid var(--color-border);">
                  <legend class="wizard-field__label">Unfreezing</legend>
                  <p class="wizard-subsection__body" style="margin-bottom: var(--space-4);">Choose whether frozen balances can be restored to active status</p>

                <!-- No Option -->
                <label class="wizard-choice">
                  <input class="wizard-choice__input" type="radio" name="manual-unfreeze-enabled" value="disabled" checked>
                  <span class="wizard-choice__content">
                    <span class="wizard-choice__title">No</span>
                    <span class="wizard-choice__hint">Unfreezing functionality is disabled (frozen accounts stay frozen)</span>
                  </span>
                </label>

                <!-- Yes Option -->
                <label class="wizard-choice">
                  <input class="wizard-choice__input" type="radio" name="manual-unfreeze-enabled" value="enabled" data-toggle-panel="manual-unfreeze-permissions-panel">
                  <span class="wizard-choice__content">
                    <span class="wizard-choice__title">Yes</span>
                    <span class="wizard-choice__hint">Allow unfreezing balances to restore transfer capabilities</span>
                  </span>
                </label>
              </fieldset>

              <!-- Permission Configuration (shown only when Yes is selected) -->
              <div class="distribution-inline-panel" id="manual-unfreeze-permissions-panel" hidden>
                <fieldset class="wizard-fieldset" style="margin-top: var(--space-6);">
                  <legend class="wizard-field__label">Who is allowed to unfreeze balances?</legend>

                  <!-- Owner Only Option -->
                  <label class="wizard-choice">
                    <input class="wizard-choice__input" type="radio" name="manual-unfreeze-permission" value="owner-only" checked>
                    <span class="wizard-choice__content">
                      <span class="wizard-choice__title">Owner Only</span>
                      <span class="wizard-choice__hint">Only the contract owner can unfreeze balances</span>
                    </span>
                  </label>

                  <!-- Specific Identity Option -->
                  <label class="wizard-choice">
                    <input class="wizard-choice__input" type="radio" name="manual-unfreeze-permission" value="specific-identity" data-toggle-panel="manual-unfreeze-panel-identity">
                  <span class="wizard-choice__content">
                    <span class="wizard-choice__title">Specific Identity</span>
                    <span class="wizard-choice__hint">Only a designated identity can unfreeze balances</span>
                  </span>
                </label>
                <div class="distribution-inline-panel" id="manual-unfreeze-panel-identity" hidden>
                  <div class="field-group">
                    <label class="wizard-field__label" for="manual-unfreeze-identity-id">Identity ID</label>
                    <input class="wizard-field__input" type="text" id="manual-unfreeze-identity-id" name="manual-unfreeze-identity-id" placeholder="e.g., 4hKFP3mFB9vku8VJKcZvwVN123...">
                    <span class="field-hint">Enter the Dash Platform identity ID that can unfreeze balances</span>
                  </div>
                </div>

                <!-- Group Option -->
                <label class="wizard-choice">
                  <input class="wizard-choice__input" type="radio" name="manual-unfreeze-permission" value="group" data-toggle-panel="manual-unfreeze-panel-group">
                  <span class="wizard-choice__content">
                    <span class="wizard-choice__title">Group</span>
                    <span class="wizard-choice__hint">Members of a designated group can unfreeze balances</span>
                  </span>
                </label>
                <div class="distribution-inline-panel" id="manual-unfreeze-panel-group" hidden>
                  <div class="field-group" id="manual-unfreeze-group-selector-container">
                    <label class="wizard-field__label" for="manual-unfreeze-group-id">Select group</label>
                    <select class="wizard-field__input" id="manual-unfreeze-group-id" name="manual-unfreeze-group-id">
                      <option value="">Select a group...</option>
                    </select>
                    <span class="field-hint" id="manual-unfreeze-group-hint">Choose which group can perform this action</span>
                  </div>
                  <div class="field-message field-message--info" id="manual-unfreeze-no-groups-message" hidden>
                    <p>No group has been created yet.</p>
                    <button class="wizard-button wizard-button--secondary wizard-button--small" type="button" id="manual-unfreeze-create-group-btn">Create Group</button>
                  </div>
                  </div>
                </fieldset>
              </div>

                <!-- Destroy Frozen Section (inside freeze permissions panel) -->
                <fieldset class="wizard-fieldset" style="margin-top: var(--space-8); padding-top: var(--space-6); border-top: 1px solid var(--color-border);">
                  <legend class="wizard-field__label">Destroy Frozen Funds</legend>
                  <p class="wizard-subsection__body" style="margin-bottom: var(--space-4);">Choose whether frozen tokens can be permanently destroyed</p>

                <!-- No Option -->
                <label class="wizard-choice">
                  <input class="wizard-choice__input" type="radio" name="destroy-frozen-enabled" value="disabled" checked>
                  <span class="wizard-choice__content">
                    <span class="wizard-choice__title">No</span>
                    <span class="wizard-choice__hint">Frozen funds cannot be destroyed</span>
                  </span>
                </label>

                <!-- Yes Option -->
                <label class="wizard-choice">
                  <input class="wizard-choice__input" type="radio" name="destroy-frozen-enabled" value="enabled" data-toggle-panel="destroy-frozen-permissions-panel">
                  <span class="wizard-choice__content">
                    <span class="wizard-choice__title">Yes</span>
                    <span class="wizard-choice__hint">Allow destroying frozen funds for compliance</span>
                  </span>
                </label>

                <!-- Permission Configuration (shown only when Yes is selected) -->
                <div class="distribution-inline-panel" id="destroy-frozen-permissions-panel" hidden style="margin-top: var(--space-4);">
                  <div class="wizard-field__label" style="margin-bottom: var(--space-3);">Who is allowed to destroy frozen funds?</div>

                  <!-- Owner Only Option -->
                  <label class="wizard-choice">
                    <input class="wizard-choice__input" type="radio" name="destroy-frozen-permission" value="owner-only" checked>
                    <span class="wizard-choice__content">
                      <span class="wizard-choice__title">Owner Only</span>
                      <span class="wizard-choice__hint">Only the contract owner can destroy frozen funds</span>
                    </span>
                  </label>

                  <!-- Specific Identity Option -->
                  <label class="wizard-choice">
                    <input class="wizard-choice__input" type="radio" name="destroy-frozen-permission" value="specific-identity" data-toggle-panel="destroy-frozen-panel-identity">
                    <span class="wizard-choice__content">
                      <span class="wizard-choice__title">Specific Identity</span>
                      <span class="wizard-choice__hint">Only a designated identity can destroy frozen funds</span>
                    </span>
                  </label>
                  <div class="distribution-inline-panel" id="destroy-frozen-panel-identity" hidden>
                    <div class="field-group">
                      <label class="wizard-field__label" for="destroy-frozen-identity-id">Identity ID</label>
                      <input class="wizard-field__input" type="text" id="destroy-frozen-identity-id" name="destroy-frozen-identity-id" placeholder="e.g., 4hKFP3mFB9vku8VJKcZvwVN123...">
                      <span class="field-hint">Enter the Dash Platform identity ID that can destroy frozen funds</span>
                    </div>
                  </div>

                  <!-- Group Option -->
                  <label class="wizard-choice">
                    <input class="wizard-choice__input" type="radio" name="destroy-frozen-permission" value="group" data-toggle-panel="destroy-frozen-panel-group">
                    <span class="wizard-choice__content">
                      <span class="wizard-choice__title">Group</span>
                      <span class="wizard-choice__hint">Members of a designated group can destroy frozen funds</span>
                    </span>
                  </label>
                  <div class="distribution-inline-panel" id="destroy-frozen-panel-group" hidden>
                    <div class="field-group" id="destroy-frozen-group-selector-container">
                      <label class="wizard-field__label" for="destroy-frozen-group-id">Select group</label>
                      <select class="wizard-field__input" id="destroy-frozen-group-id" name="destroy-frozen-group-id">
                        <option value="">Select a group...</option>
                      </select>
                      <span class="field-hint" id="destroy-frozen-group-hint">Choose which group can perform this action</span>
                    </div>
                    <div class="field-message field-message--info" id="destroy-frozen-no-groups-message" hidden>
                      <p>No group has been created yet.</p>
                      <button class="wizard-button wizard-button--secondary wizard-button--small" type="button" id="destroy-frozen-create-group-btn">Create Group</button>
                    </div>
                  </div>
                </div>
              </fieldset>
              </div>
            </div>
          </div>

          <p class="wizard-field__message" id="permissions-manual-freeze-message" role="status" aria-live="polite"></p>
          <div class="wizard-actions wizard-actions--between wizard-actions--sticky">
            <button class="wizard-button wizard-button--secondary" type="button" data-step-back="permissions-manual-freeze">← Back</button>
            <button class="wizard-button wizard-button--secondary" type="button" id="contract-preview-btn">📄 Contract Preview</button>
            <button class="wizard-button wizard-button--primary" id="permissions-manual-freeze-next" type="submit">Continue →</button>
          </div>
        </form>
      </div>
    </section>

    <!-- Permissions: Emergency Actions Sub-step -->
    <section class="wizard-screen" id="screen-permissions-emergency" data-step="permissions" data-substep="permissions-emergency" data-tab="token" hidden>

      <!-- Right Side Guide Panel -->
      <aside class="page-guide" aria-label="Page guide">
        <div class="page-guide__content">
          <h2 class="page-guide__title">Emergency Actions</h2>
          <p class="page-guide__intro">Pause all transfers in case of security issues.</p>

          <div class="page-guide__section">
            <h3 class="page-guide__section-title">Step-by-step guide</h3>
            <ol class="page-guide__steps">
              <li>
                <strong>Enable Emergency Pause</strong>
                <p>Turn on to allow freezing ALL transfers globally in case of bugs or attacks.</p>
              </li>
              <li>
                <strong>Set Pause Permissions</strong>
                <p>Who can pause/unpause. Critical security control - choose carefully.</p>
              </li>
            </ol>
          </div>

          <div class="page-guide__tip">
            <strong>💡 Pro Tip</strong>
            Recommended for new tokens. Safety net for bugs. Can unpause once confident.
          </div>
        </div>
      </aside>

      <div class="wizard-screen__inner">
        <form class="wizard-form" id="permissions-emergency-form" novalidate>
          <h1 class="wizard-screen__title" id="title-permissions-emergency" tabindex="-1">Can emergency actions be performed?</h1>
          <p class="wizard-screen__subtitle">Configure permissions for global pause/resume in emergencies. When paused, all token transfers are frozen.</p>

          <!-- Enable/Disable Emergency Actions Card -->
          <div class="form-card">
            <div class="form-card__header">
              <h3 class="form-card__title">Emergency Actions</h3>
              <p class="form-card__description">Choose whether emergency pause/resume can be triggered</p>
            </div>
            <div class="form-card__body">
              <fieldset class="wizard-fieldset">
                <legend class="wizard-field__label">Enable emergency actions?</legend>

                <!-- No Option -->
                <label class="wizard-choice">
                  <input class="wizard-choice__input" type="radio" name="emergency-enabled" value="disabled" checked>
                  <span class="wizard-choice__content">
                    <span class="wizard-choice__title">No</span>
                    <span class="wizard-choice__hint">Emergency actions are disabled</span>
                  </span>
                </label>

                <!-- Yes Option -->
                <label class="wizard-choice">
                  <input class="wizard-choice__input" type="radio" name="emergency-enabled" value="enabled" data-toggle-panel="emergency-permissions-panel">
                  <span class="wizard-choice__content">
                    <span class="wizard-choice__title">Yes</span>
                    <span class="wizard-choice__hint">Allow global pause/resume for emergencies</span>
                  </span>
                </label>
              </fieldset>

              <!-- Permission Configuration (shown only when Yes is selected) -->
              <div class="distribution-inline-panel" id="emergency-permissions-panel" hidden>
                <fieldset class="wizard-fieldset" style="margin-top: var(--space-6);">
                  <legend class="wizard-field__label">Who is allowed to perform emergency actions?</legend>

                  <!-- Owner Only Option -->
                  <label class="wizard-choice">
                    <input class="wizard-choice__input" type="radio" name="emergency-permission" value="owner-only" checked>
                    <span class="wizard-choice__content">
                      <span class="wizard-choice__title">Owner Only</span>
                      <span class="wizard-choice__hint">Only the contract owner can freeze/unfreeze all transfers globally</span>
                    </span>
                  </label>

                  <!-- Specific Identity Option -->
                  <label class="wizard-choice">
                    <input class="wizard-choice__input" type="radio" name="emergency-permission" value="specific-identity" data-toggle-panel="emergency-panel-identity">
                    <span class="wizard-choice__content">
                      <span class="wizard-choice__title">Specific Identity</span>
                      <span class="wizard-choice__hint">Only a designated identity can trigger emergency pause/resume</span>
                    </span>
                  </label>
                  <div class="distribution-inline-panel" id="emergency-panel-identity" hidden>
                    <div class="field-group">
                      <label class="wizard-field__label" for="emergency-identity-id">Identity ID</label>
                      <input class="wizard-field__input" type="text" id="emergency-identity-id" name="emergency-identity-id" placeholder="e.g., 4hKFP3mFB9vku8VJKcZvwVN123...">
                      <span class="field-hint">Enter the Dash Platform identity ID that can perform emergency actions</span>
                    </div>
                  </div>

                  <!-- Group Option -->
                  <label class="wizard-choice">
                    <input class="wizard-choice__input" type="radio" name="emergency-permission" value="group" data-toggle-panel="emergency-panel-group">
                    <span class="wizard-choice__content">
                      <span class="wizard-choice__title">Group</span>
                      <span class="wizard-choice__hint">Members of a designated group can freeze/unfreeze all transfers globally</span>
                    </span>
                  </label>
                  <div class="distribution-inline-panel" id="emergency-panel-group" hidden>
                    <div class="field-group" id="emergency-group-selector-container">
                      <label class="wizard-field__label" for="emergency-group-id">Select group</label>
                      <select class="wizard-field__input" id="emergency-group-id" name="emergency-group-id">
                        <option value="">Select a group...</option>
                      </select>
                      <span class="field-hint" id="emergency-group-hint">Choose which group can perform this action</span>
                    </div>
                    <div class="field-message field-message--info" id="emergency-no-groups-message" hidden>
                      <p>No group has been created yet.</p>
                      <button class="wizard-button wizard-button--secondary wizard-button--small" type="button" id="emergency-create-group-btn">Create Group</button>
                    </div>
                  </div>
                </fieldset>
              </div>
            </div>
          </div>

          <p class="wizard-field__message" id="permissions-emergency-message" role="status" aria-live="polite"></p>
          <div class="wizard-actions wizard-actions--between wizard-actions--sticky">
            <button class="wizard-button wizard-button--secondary" type="button" data-step-back="permissions-emergency">← Back</button>
            <button class="wizard-button wizard-button--secondary" type="button" id="contract-preview-btn">📄 Contract Preview</button>
            <button class="wizard-button wizard-button--primary" id="permissions-emergency-next" type="submit">Continue →</button>
          </div>
        </form>
      </div>
    </section>

    <!-- Permissions: Conventions Change Sub-step -->
    <section class="wizard-screen" id="screen-permissions-conventions-change" data-step="permissions" data-substep="permissions-conventions-change" data-tab="token" hidden>

      <!-- Right Side Guide Panel -->
      <aside class="page-guide" aria-label="Page guide">
        <div class="page-guide__content">
          <h2 class="page-guide__title">Conventions Change</h2>
          <p class="page-guide__intro">Control who can modify token conventions and rules.</p>

          <div class="page-guide__section">
            <h3 class="page-guide__section-title">Understanding Conventions Change in Crypto Tokens</h3>
            <p>A conventions change in crypto tokens refers to a significant alteration in the rules or standards governing how tokens operate within a blockchain ecosystem. This can include changes in token functionality, governance, or the underlying technology that supports the token.</p>
          </div>

          <div class="page-guide__section">
            <h3 class="page-guide__section-title">Types of Conventions Changes</h3>
            <ul class="page-guide__steps">
              <li>
                <strong>Token Migration</strong>
                <p>Moving a token from one blockchain to another. May happen when a project transitions to its own blockchain or improves its technology.</p>
              </li>
              <li>
                <strong>Token Swaps</strong>
                <p>Exchanging one token for another, often during a migration. Can happen on the same blockchain or across different blockchains using bridges.</p>
              </li>
              <li>
                <strong>Protocol Upgrades</strong>
                <p>Changes in the underlying protocol that affect how tokens function, including updates to smart contracts or consensus mechanisms.</p>
              </li>
            </ul>
          </div>

          <div class="page-guide__section">
            <h3 class="page-guide__section-title">Implications</h3>
            <ul class="page-guide__steps">
              <li>
                <strong>Investor Impact</strong>
                <p>Changes can affect the value and utility of tokens. Stay informed about conventions changes to understand their impact on holdings.</p>
              </li>
              <li>
                <strong>Regulatory Considerations</strong>
                <p>Regulatory bodies may scrutinize conventions changes, especially if they affect how tokens are classified or traded.</p>
              </li>
              <li>
                <strong>Technical Adjustments</strong>
                <p>May require technical adjustments from users, such as migrating tokens to new wallets or participating in swaps.</p>
              </li>
            </ul>
          </div>

          <div class="page-guide__tip">
            <strong>💡 Important</strong>
            Understanding these changes is crucial for anyone involved in the crypto space, as they can significantly influence the market and individual investments.
          </div>
        </div>
      </aside>

      <div class="wizard-screen__inner">
        <form class="wizard-form" id="permissions-conventions-change-form" novalidate>
          <h1 class="wizard-screen__title" id="title-permissions-conventions-change" tabindex="-1">Do you want to enable Conventions Change? <span class="wizard-badge wizard-badge--optional">Optional</span></h1>
          <p class="wizard-screen__subtitle">Control who can modify token conventions and rules, including migrations, swaps, and protocol upgrades.</p>

          <!-- Info Card -->
          <div class="form-card form-card--highlight">
            <div class="form-card__body">
              <p><strong>What are Conventions Changes?</strong></p>
              <p>Conventions changes allow authorized parties to modify core token rules and standards, such as token migrations, swaps, or protocol upgrades. This is an advanced feature that gives flexibility but requires careful authorization management.</p>
            </div>
          </div>

          <!-- Enable Conventions Change -->
          <div class="form-card">
            <div class="form-card__header">
              <h3 class="form-card__title">Enable Conventions Change</h3>
              <p class="form-card__description">Allow modifications to token conventions and rules</p>
            </div>
            <div class="form-card__body">
              <fieldset class="wizard-fieldset">
                <legend class="wizard-field__label">Enable conventions changes?</legend>

                <!-- No Option -->
                <label class="wizard-choice">
                  <input class="wizard-choice__input" type="radio" name="conventions-change-enable" value="disabled" checked>
                  <span class="wizard-choice__content">
                    <span class="wizard-choice__title">No</span>
                    <span class="wizard-choice__hint">Token conventions cannot be changed</span>
                  </span>
                </label>

                <!-- Yes Option -->
                <label class="wizard-choice">
                  <input class="wizard-choice__input" type="radio" name="conventions-change-enable" value="enabled" data-toggle-panel="conventions-change-config-container">
                  <span class="wizard-choice__content">
                    <span class="wizard-choice__title">Yes</span>
                    <span class="wizard-choice__hint">Enable conventions changes with authorized parties</span>
                  </span>
                </label>
              </fieldset>

                <!-- Conventions Change Configuration (shown when Yes is selected) -->
                <div class="distribution-inline-panel" id="conventions-change-config-container" hidden>

                  <!-- Authorized to perform action -->
                  <fieldset class="wizard-fieldset" style="margin-bottom: var(--space-6);">
                    <legend class="wizard-field__label">Authorized to perform action</legend>
                    <p class="field-hint" style="margin-bottom: var(--space-3);">Who can execute conventions changes?</p>

                    <!-- Contract Owner Option -->
                    <label class="wizard-choice">
                      <input class="wizard-choice__input" type="radio" name="conventions-perform" value="owner" checked>
                      <span class="wizard-choice__content">
                        <span class="wizard-choice__title">Contract Owner</span>
                        <span class="wizard-choice__hint">Only the contract owner can perform conventions changes</span>
                      </span>
                    </label>

                    <!-- Specific Identity Option -->
                    <label class="wizard-choice">
                      <input class="wizard-choice__input" type="radio" name="conventions-perform" value="identity" data-toggle-panel="conventions-perform-identity-panel">
                      <span class="wizard-choice__content">
                        <span class="wizard-choice__title">Identity</span>
                        <span class="wizard-choice__hint">A specific identity can perform conventions changes</span>
                      </span>
                    </label>
                    <div class="distribution-inline-panel" id="conventions-perform-identity-panel" hidden>
                      <div class="field-group">
                        <label class="wizard-field__label" for="conventions-perform-identity-id">Identity ID</label>
                        <input class="wizard-field__input" type="text" id="conventions-perform-identity-id" placeholder="e.g., 4hKFP3mFB9vku8VJKcZvwVN123...">
                        <span class="field-hint">Enter the Dash Platform identity ID</span>
                      </div>
                    </div>

                    <!-- Group Option -->
                    <label class="wizard-choice">
                      <input class="wizard-choice__input" type="radio" name="conventions-perform" value="group" data-toggle-panel="conventions-perform-group-panel">
                      <span class="wizard-choice__content">
                        <span class="wizard-choice__title">Group</span>
                        <span class="wizard-choice__hint">Members of a group can perform conventions changes</span>
                      </span>
                    </label>
                    <div class="distribution-inline-panel" id="conventions-perform-group-panel" hidden>
                      <div class="field-group">
                        <label class="wizard-field__label" for="conventions-perform-group-id">Select group</label>
                        <select class="wizard-field__input" id="conventions-perform-group-id">
                          <option value="">Select a group...</option>
                        </select>
                        <span class="field-hint">Choose which group can perform this action</span>
                      </div>
                    </div>
                  </fieldset>

                  <!-- Authorized to change rules -->
                  <fieldset class="wizard-fieldset">
                    <legend class="wizard-field__label">Authorized to change rules</legend>
                    <p class="field-hint" style="margin-bottom: var(--space-3);">Who can modify the authorization rules for conventions changes?</p>

                    <!-- Owner Option -->
                    <label class="wizard-choice">
                      <input class="wizard-choice__input" type="radio" name="conventions-change-rules" value="owner" checked>
                      <span class="wizard-choice__content">
                        <span class="wizard-choice__title">Owner</span>
                        <span class="wizard-choice__hint">Only the owner can change authorization rules</span>
                      </span>
                    </label>

                    <!-- Identity Option -->
                    <label class="wizard-choice">
                      <input class="wizard-choice__input" type="radio" name="conventions-change-rules" value="identity" data-toggle-panel="conventions-rules-identity-panel">
                      <span class="wizard-choice__content">
                        <span class="wizard-choice__title">Identity</span>
                        <span class="wizard-choice__hint">A specific identity can change authorization rules</span>
                      </span>
                    </label>
                    <div class="distribution-inline-panel" id="conventions-rules-identity-panel" hidden>
                      <div class="field-group">
                        <label class="wizard-field__label" for="conventions-rules-identity-id">Identity ID</label>
                        <input class="wizard-field__input" type="text" id="conventions-rules-identity-id" placeholder="e.g., 4hKFP3mFB9vku8VJKcZvwVN123...">
                        <span class="field-hint">Enter the Dash Platform identity ID</span>
                      </div>
                    </div>

                    <!-- Group Option -->
                    <label class="wizard-choice">
                      <input class="wizard-choice__input" type="radio" name="conventions-change-rules" value="group" data-toggle-panel="conventions-rules-group-panel">
                      <span class="wizard-choice__content">
                        <span class="wizard-choice__title">Group</span>
                        <span class="wizard-choice__hint">Members of a group can change authorization rules</span>
                      </span>
                    </label>
                    <div class="distribution-inline-panel" id="conventions-rules-group-panel" hidden>
                      <div class="field-group">
                        <label class="wizard-field__label" for="conventions-rules-group-id">Select group</label>
                        <select class="wizard-field__input" id="conventions-rules-group-id">
                          <option value="">Select a group...</option>
                        </select>
                        <span class="field-hint">Choose which group can modify rules</span>
                      </div>
                    </div>
                  </fieldset>

                </div>
              </fieldset>
            </div>
          </div>

          <p class="wizard-field__message" id="permissions-conventions-change-message" role="status" aria-live="polite"></p>

          <div class="wizard-actions wizard-actions--between wizard-actions--sticky">
            <button class="wizard-button wizard-button--secondary" type="button" data-step-back="permissions-conventions-change">← Back</button>
            <button class="wizard-button wizard-button--secondary" type="button" id="contract-preview-btn">📄 Contract Preview</button>
            <button class="wizard-button wizard-button--primary" id="permissions-conventions-change-next" type="submit">Continue →</button>
          </div>
        </form>
      </div>
    </section>

    <!-- Permissions: Marketplace Trade Mode Change -->
    <section class="wizard-screen" id="screen-permissions-marketplace-trade-mode-change" data-step="permissions" data-substep="permissions-marketplace-trade-mode-change" data-tab="token" hidden>

      <!-- Right Side Guide Panel -->
      <aside class="page-guide" aria-label="Page guide">
        <div class="page-guide__content">
          <h2 class="page-guide__title">Marketplace Trade Mode Change</h2>
          <p class="page-guide__intro">Control adjustments to trading mechanisms and policies.</p>

          <div class="page-guide__section">
            <h3 class="page-guide__section-title">Introduction</h3>
            <p>A Marketplace Trade Mode Change refers to adjustments in the trading mechanisms or policies on cryptocurrency platforms. These changes can significantly influence how tokens are traded, impacting both user experience and market behavior.</p>
          </div>

          <div class="page-guide__section">
            <h3 class="page-guide__section-title">Key Concepts to Understand</h3>
            <ul class="page-guide__steps">
              <li>
                <strong>Order Types</strong>
                <p><strong>Market Order:</strong> This order type allows you to buy or sell a token immediately at the current market price, ensuring quick execution.</p>
                <p><strong>Limit Order:</strong> With this type of order, you set a specific price at which you want to buy or sell. The transaction will only execute when the market reaches this price.</p>
              </li>
              <li>
                <strong>Trading Pairs</strong>
                <p>The availability of trading pairs indicates which tokens can be exchanged for each other. Changes may involve the introduction of new pairs or the removal of existing ones, affecting trading options and liquidity.</p>
              </li>
              <li>
                <strong>Transaction Fees</strong>
                <p>Platforms may adjust their transaction fees to either encourage trading or enhance profitability. Being aware of these changes is critical, as they can influence your overall trading costs.</p>
              </li>
              <li>
                <strong>Liquidity Modes</strong>
                <p>Adjustments in liquidity models, such as the introduction of liquidity pools, can affect how easily tokens are traded. Better liquidity generally leads to smoother transactions.</p>
              </li>
              <li>
                <strong>Staking Mechanisms</strong>
                <p>Some changes may also involve options for staking, allowing users to earn rewards over time by locking their tokens within the platform. This change can lead to different ways of utilizing tokens beyond trading.</p>
              </li>
            </ul>
          </div>

          <div class="page-guide__section">
            <h3 class="page-guide__section-title">Implications of Trade Mode Changes</h3>
            <ul class="page-guide__steps">
              <li>
                <strong>User Experience:</strong> Changes can simplify or complicate the trading process. It's important to stay informed to make effective trading decisions.
              </li>
              <li>
                <strong>Market Liquidity:</strong> Adjustments can lead to more or less liquidity for specific tokens. High liquidity generally stabilizes the price and improves trading conditions.
              </li>
              <li>
                <strong>Volatility:</strong> Changes in trading modes can lead to increased volatility, particularly if they alter user behavior significantly.
              </li>
            </ul>
          </div>
        </div>
      </aside>

      <div class="wizard-screen__inner">
        <form class="wizard-form" id="permissions-marketplace-trade-mode-change-form" novalidate>

          <div class="form-card">
            <div class="form-card__header">
              <h3 class="form-card__title">Enable Marketplace Trade Mode Change</h3>
              <p class="form-card__description">Allow modifications to marketplace trading mechanisms and policies</p>
            </div>
            <div class="form-card__body">
              <fieldset class="wizard-fieldset">
                <legend class="wizard-field__label">Enable marketplace trade mode changes?</legend>

                <!-- No Option -->
                <label class="wizard-choice">
                  <input class="wizard-choice__input" type="radio" name="marketplace-trade-mode-enable" value="disabled" checked>
                  <span class="wizard-choice__content">
                    <span class="wizard-choice__title">No</span>
                    <span class="wizard-choice__hint">Marketplace trade mode cannot be changed</span>
                  </span>
                </label>

                <!-- Yes Option -->
                <label class="wizard-choice">
                  <input class="wizard-choice__input" type="radio" name="marketplace-trade-mode-enable" value="enabled" data-toggle-panel="marketplace-trade-mode-config-container">
                  <span class="wizard-choice__content">
                    <span class="wizard-choice__title">Yes</span>
                    <span class="wizard-choice__hint">Enable marketplace trade mode changes with authorized parties</span>
                  </span>
                </label>
              </fieldset>

                <!-- Marketplace Trade Mode Configuration (shown when Yes is selected) -->
                <div class="distribution-inline-panel" id="marketplace-trade-mode-config-container" hidden>

                  <!-- Authorized to perform action -->
                  <fieldset class="wizard-fieldset" style="margin-bottom: var(--space-6);">
                    <legend class="wizard-field__label">Authorized to perform action</legend>
                    <p class="field-hint" style="margin-bottom: var(--space-3);">Who can execute marketplace trade mode changes?</p>

                    <!-- Contract Owner Option -->
                    <label class="wizard-choice">
                      <input class="wizard-choice__input" type="radio" name="marketplace-trade-mode-perform" value="owner" checked>
                      <span class="wizard-choice__content">
                        <span class="wizard-choice__title">Contract Owner</span>
                        <span class="wizard-choice__hint">Only the contract owner can perform marketplace trade mode changes</span>
                      </span>
                    </label>

                    <!-- Specific Identity Option -->
                    <label class="wizard-choice">
                      <input class="wizard-choice__input" type="radio" name="marketplace-trade-mode-perform" value="identity" data-toggle-panel="marketplace-trade-mode-perform-identity-panel">
                      <span class="wizard-choice__content">
                        <span class="wizard-choice__title">Identity</span>
                        <span class="wizard-choice__hint">A specific identity can perform marketplace trade mode changes</span>
                      </span>
                    </label>
                    <div class="distribution-inline-panel" id="marketplace-trade-mode-perform-identity-panel" hidden>
                      <div class="field-group">
                        <label class="wizard-field__label" for="marketplace-trade-mode-perform-identity-id">Identity ID</label>
                        <input class="wizard-field__input" type="text" id="marketplace-trade-mode-perform-identity-id" placeholder="e.g., 4hKFP3mFB9vku8VJKcZvwVN123...">
                        <span class="field-hint">Enter the Dash Platform identity ID</span>
                      </div>
                    </div>

                    <!-- Group Option -->
                    <label class="wizard-choice">
                      <input class="wizard-choice__input" type="radio" name="marketplace-trade-mode-perform" value="group" data-toggle-panel="marketplace-trade-mode-perform-group-panel">
                      <span class="wizard-choice__content">
                        <span class="wizard-choice__title">Group</span>
                        <span class="wizard-choice__hint">Members of a group can perform marketplace trade mode changes</span>
                      </span>
                    </label>
                    <div class="distribution-inline-panel" id="marketplace-trade-mode-perform-group-panel" hidden>
                      <div class="field-group">
                        <label class="wizard-field__label" for="marketplace-trade-mode-perform-group-id">Select group</label>
                        <select class="wizard-field__input" id="marketplace-trade-mode-perform-group-id">
                          <option value="">Select a group...</option>
                        </select>
                        <span class="field-hint">Choose which group can perform this action</span>
                      </div>
                    </div>
                  </fieldset>

                  <!-- Authorized to change rules -->
                  <fieldset class="wizard-fieldset">
                    <legend class="wizard-field__label">Authorized to change rules</legend>
                    <p class="field-hint" style="margin-bottom: var(--space-3);">Who can modify the authorization rules for marketplace trade mode changes?</p>

                    <!-- Owner Option -->
                    <label class="wizard-choice">
                      <input class="wizard-choice__input" type="radio" name="marketplace-trade-mode-change-rules" value="owner" checked>
                      <span class="wizard-choice__content">
                        <span class="wizard-choice__title">Owner</span>
                        <span class="wizard-choice__hint">Only the owner can change authorization rules</span>
                      </span>
                    </label>

                    <!-- Identity Option -->
                    <label class="wizard-choice">
                      <input class="wizard-choice__input" type="radio" name="marketplace-trade-mode-change-rules" value="identity" data-toggle-panel="marketplace-trade-mode-rules-identity-panel">
                      <span class="wizard-choice__content">
                        <span class="wizard-choice__title">Identity</span>
                        <span class="wizard-choice__hint">A specific identity can change authorization rules</span>
                      </span>
                    </label>
                    <div class="distribution-inline-panel" id="marketplace-trade-mode-rules-identity-panel" hidden>
                      <div class="field-group">
                        <label class="wizard-field__label" for="marketplace-trade-mode-rules-identity-id">Identity ID</label>
                        <input class="wizard-field__input" type="text" id="marketplace-trade-mode-rules-identity-id" placeholder="e.g., 4hKFP3mFB9vku8VJKcZvwVN123...">
                        <span class="field-hint">Enter the Dash Platform identity ID</span>
                      </div>
                    </div>

                    <!-- Group Option -->
                    <label class="wizard-choice">
                      <input class="wizard-choice__input" type="radio" name="marketplace-trade-mode-change-rules" value="group" data-toggle-panel="marketplace-trade-mode-rules-group-panel">
                      <span class="wizard-choice__content">
                        <span class="wizard-choice__title">Group</span>
                        <span class="wizard-choice__hint">Members of a group can change authorization rules</span>
                      </span>
                    </label>
                    <div class="distribution-inline-panel" id="marketplace-trade-mode-rules-group-panel" hidden>
                      <div class="field-group">
                        <label class="wizard-field__label" for="marketplace-trade-mode-rules-group-id">Select group</label>
                        <select class="wizard-field__input" id="marketplace-trade-mode-rules-group-id">
                          <option value="">Select a group...</option>
                        </select>
                        <span class="field-hint">Choose which group can modify rules</span>
                      </div>
                    </div>
                  </fieldset>

                </div>
              </fieldset>
            </div>
          </div>

          <p class="wizard-field__message" id="permissions-marketplace-trade-mode-change-message" role="status" aria-live="polite"></p>

          <div class="wizard-actions wizard-actions--between wizard-actions--sticky">
            <button class="wizard-button wizard-button--secondary" type="button" data-step-back="permissions-marketplace-trade-mode-change">← Back</button>
            <button class="wizard-button wizard-button--secondary" type="button" id="contract-preview-btn">📄 Contract Preview</button>
            <button class="wizard-button wizard-button--primary" id="permissions-marketplace-trade-mode-change-next" type="submit">Continue →</button>
          </div>
        </form>
      </div>
    </section>

    <!-- Permissions: Direct Purchase Pricing Change -->
    <section class="wizard-screen" id="screen-permissions-direct-pricing-change" data-step="permissions" data-substep="permissions-direct-pricing-change" data-tab="token" hidden>

      <!-- Right Side Guide Panel -->
      <aside class="page-guide" aria-label="Page guide">
        <div class="page-guide__content">
          <h2 class="page-guide__title">Direct Purchase Pricing Change</h2>
          <p class="page-guide__intro">Control modifications to direct purchase pricing mechanisms.</p>

          <div class="page-guide__section">
            <h3 class="page-guide__section-title">Understanding Direct Purchase Pricing in Cryptocurrency</h3>
            <p><strong>What is Direct Purchase Pricing?</strong></p>
            <p>Direct purchase pricing refers to the method of buying cryptocurrencies at a set price without intermediaries. This pricing model allows users to buy coins directly from exchanges or platforms at the current market rate.</p>
          </div>

          <div class="page-guide__section">
            <h3 class="page-guide__section-title">How Token Consumption Works</h3>
            <p>Token consumption in cryptocurrency involves using digital tokens for transactions, fees, or access to services. Each action, like buying or selling, consumes a certain number of tokens based on the complexity of the transaction. This model helps track usage and manage costs effectively.</p>
          </div>

          <div class="page-guide__section">
            <h3 class="page-guide__section-title">Factors Influencing Pricing Changes</h3>
            <p>Several factors can lead to changes in direct purchase pricing for cryptocurrencies:</p>
            <ul class="page-guide__steps">
              <li>
                <strong>Supply and Demand:</strong> Prices fluctuate based on how many people want to buy a coin versus how many are available. High demand with limited supply typically drives prices up.
              </li>
              <li>
                <strong>Market Sentiment:</strong> News, trends, and public perception can significantly impact prices. Positive developments can lead to price increases, while negative news can cause declines.
              </li>
              <li>
                <strong>Liquidity:</strong> The ease with which a cryptocurrency can be bought or sold affects its price stability. Higher liquidity usually results in more stable prices, while lower liquidity can lead to greater volatility.
              </li>
              <li>
                <strong>Production Costs:</strong> The cost of mining or producing a cryptocurrency can also influence its price. If production costs rise, the price may increase to maintain profitability.
              </li>
            </ul>
          </div>

          <div class="page-guide__tip">
            <strong>💡 Conclusion</strong>
            Direct purchase pricing in cryptocurrency is influenced by various factors, including market dynamics, token consumption, and external events. Understanding these elements can help users navigate the complexities of cryptocurrency pricing.
          </div>
        </div>
      </aside>

      <div class="wizard-screen__inner">
        <form class="wizard-form" id="permissions-direct-pricing-change-form" novalidate>

          <div class="form-card">
            <div class="form-card__header">
              <h3 class="form-card__title">Enable Direct Purchase Pricing Change</h3>
              <p class="form-card__description">Allow modifications to direct purchase pricing mechanisms</p>
            </div>
            <div class="form-card__body">
              <fieldset class="wizard-fieldset">
                <legend class="wizard-field__label">Enable direct purchase pricing changes?</legend>

                <!-- No Option -->
                <label class="wizard-choice">
                  <input class="wizard-choice__input" type="radio" name="direct-pricing-enable" value="disabled" checked>
                  <span class="wizard-choice__content">
                    <span class="wizard-choice__title">No</span>
                    <span class="wizard-choice__hint">Direct purchase pricing cannot be changed</span>
                  </span>
                </label>

                <!-- Yes Option -->
                <label class="wizard-choice">
                  <input class="wizard-choice__input" type="radio" name="direct-pricing-enable" value="enabled" data-toggle-panel="direct-pricing-config-container">
                  <span class="wizard-choice__content">
                    <span class="wizard-choice__title">Yes</span>
                    <span class="wizard-choice__hint">Enable direct purchase pricing changes with authorized parties</span>
                  </span>
                </label>
              </fieldset>

                <!-- Direct Pricing Configuration (shown when Yes is selected) -->
                <div class="distribution-inline-panel" id="direct-pricing-config-container" hidden>

                  <!-- Authorized to perform action -->
                  <fieldset class="wizard-fieldset" style="margin-bottom: var(--space-6);">
                    <legend class="wizard-field__label">Authorized to perform action</legend>
                    <p class="field-hint" style="margin-bottom: var(--space-3);">Who can execute direct purchase pricing changes?</p>

                    <!-- Contract Owner Option -->
                    <label class="wizard-choice">
                      <input class="wizard-choice__input" type="radio" name="direct-pricing-perform" value="owner" checked>
                      <span class="wizard-choice__content">
                        <span class="wizard-choice__title">Contract Owner</span>
                        <span class="wizard-choice__hint">Only the contract owner can perform direct purchase pricing changes</span>
                      </span>
                    </label>

                    <!-- Specific Identity Option -->
                    <label class="wizard-choice">
                      <input class="wizard-choice__input" type="radio" name="direct-pricing-perform" value="identity" data-toggle-panel="direct-pricing-perform-identity-panel">
                      <span class="wizard-choice__content">
                        <span class="wizard-choice__title">Identity</span>
                        <span class="wizard-choice__hint">A specific identity can perform direct purchase pricing changes</span>
                      </span>
                    </label>
                    <div class="distribution-inline-panel" id="direct-pricing-perform-identity-panel" hidden>
                      <div class="field-group">
                        <label class="wizard-field__label" for="direct-pricing-perform-identity-id">Identity ID</label>
                        <input class="wizard-field__input" type="text" id="direct-pricing-perform-identity-id" placeholder="e.g., 4hKFP3mFB9vku8VJKcZvwVN123...">
                        <span class="field-hint">Enter the Dash Platform identity ID</span>
                      </div>
                    </div>

                    <!-- Group Option -->
                    <label class="wizard-choice">
                      <input class="wizard-choice__input" type="radio" name="direct-pricing-perform" value="group" data-toggle-panel="direct-pricing-perform-group-panel">
                      <span class="wizard-choice__content">
                        <span class="wizard-choice__title">Group</span>
                        <span class="wizard-choice__hint">Members of a group can perform direct purchase pricing changes</span>
                      </span>
                    </label>
                    <div class="distribution-inline-panel" id="direct-pricing-perform-group-panel" hidden>
                      <div class="field-group">
                        <label class="wizard-field__label" for="direct-pricing-perform-group-id">Select group</label>
                        <select class="wizard-field__input" id="direct-pricing-perform-group-id">
                          <option value="">Select a group...</option>
                        </select>
                        <span class="field-hint">Choose which group can perform this action</span>
                      </div>
                    </div>
                  </fieldset>

                  <!-- Authorized to change rules -->
                  <fieldset class="wizard-fieldset">
                    <legend class="wizard-field__label">Authorized to change rules</legend>
                    <p class="field-hint" style="margin-bottom: var(--space-3);">Who can modify the authorization rules for direct purchase pricing changes?</p>

                    <!-- Owner Option -->
                    <label class="wizard-choice">
                      <input class="wizard-choice__input" type="radio" name="direct-pricing-change-rules" value="owner" checked>
                      <span class="wizard-choice__content">
                        <span class="wizard-choice__title">Owner</span>
                        <span class="wizard-choice__hint">Only the owner can change authorization rules</span>
                      </span>
                    </label>

                    <!-- Identity Option -->
                    <label class="wizard-choice">
                      <input class="wizard-choice__input" type="radio" name="direct-pricing-change-rules" value="identity" data-toggle-panel="direct-pricing-rules-identity-panel">
                      <span class="wizard-choice__content">
                        <span class="wizard-choice__title">Identity</span>
                        <span class="wizard-choice__hint">A specific identity can change authorization rules</span>
                      </span>
                    </label>
                    <div class="distribution-inline-panel" id="direct-pricing-rules-identity-panel" hidden>
                      <div class="field-group">
                        <label class="wizard-field__label" for="direct-pricing-rules-identity-id">Identity ID</label>
                        <input class="wizard-field__input" type="text" id="direct-pricing-rules-identity-id" placeholder="e.g., 4hKFP3mFB9vku8VJKcZvwVN123...">
                        <span class="field-hint">Enter the Dash Platform identity ID</span>
                      </div>
                    </div>

                    <!-- Group Option -->
                    <label class="wizard-choice">
                      <input class="wizard-choice__input" type="radio" name="direct-pricing-change-rules" value="group" data-toggle-panel="direct-pricing-rules-group-panel">
                      <span class="wizard-choice__content">
                        <span class="wizard-choice__title">Group</span>
                        <span class="wizard-choice__hint">Members of a group can change authorization rules</span>
                      </span>
                    </label>
                    <div class="distribution-inline-panel" id="direct-pricing-rules-group-panel" hidden>
                      <div class="field-group">
                        <label class="wizard-field__label" for="direct-pricing-rules-group-id">Select group</label>
                        <select class="wizard-field__input" id="direct-pricing-rules-group-id">
                          <option value="">Select a group...</option>
                        </select>
                        <span class="field-hint">Choose which group can modify rules</span>
                      </div>
                    </div>
                  </fieldset>

                </div>
              </fieldset>
            </div>
          </div>

          <p class="wizard-field__message" id="permissions-direct-pricing-change-message" role="status" aria-live="polite"></p>

          <div class="wizard-actions wizard-actions--between wizard-actions--sticky">
            <button class="wizard-button wizard-button--secondary" type="button" data-step-back="permissions-direct-pricing-change">← Back</button>
            <button class="wizard-button wizard-button--secondary" type="button" id="contract-preview-btn">📄 Contract Preview</button>
            <button class="wizard-button wizard-button--primary" id="permissions-direct-pricing-change-next" type="submit">Continue →</button>
          </div>
        </form>
      </div>
    </section>

    <!-- Permissions: Main Control Group Change -->
    <section class="wizard-screen" id="screen-permissions-main-control-change" data-step="permissions" data-substep="permissions-main-control-change" data-tab="token" hidden>

      <!-- Right Side Guide Panel -->
      <aside class="page-guide" aria-label="Page guide">
        <div class="page-guide__content">
          <h2 class="page-guide__title">Main Control Group Change</h2>
          <p class="page-guide__intro">Manage the primary administrative entity that governs your token.</p>

          <div class="page-guide__section">
            <h3 class="page-guide__section-title">Overview</h3>
            <p>The Main Control Group refers to the primary administrative entity that holds governance or management privileges over a crypto token or smart contract.</p>
            <p>This group can consist of one or multiple blockchain addresses (e.g. a multi-signature wallet, DAO contract, or project owner).</p>
            <p>Changing the Main Control Group updates who has authority over the token's core functions and configuration.</p>
          </div>

          <div class="page-guide__section">
            <h3 class="page-guide__section-title">Purpose</h3>
            <p>A Main Control Group Change is typically performed when:</p>
            <ul class="page-guide__steps">
              <li>Ownership or governance of the token is being transferred (e.g. from developers to a DAO).</li>
              <li>Security upgrades are implemented, such as moving control from a single owner to a multi-signature wallet.</li>
              <li>Project management responsibilities are handed over to a new team or entity.</li>
            </ul>
          </div>

          <div class="page-guide__section">
            <h3 class="page-guide__section-title">Effects of a Control Group Change</h3>
            <p>After the change:</p>
            <ul class="page-guide__steps">
              <li>The new control group gains full or partial administrative rights.</li>
              <li>The previous control group may lose access to token management features.</li>
              <li>
                Depending on the smart contract logic, this may include permissions to:
                <ul style="margin-top: var(--space-2); margin-left: var(--space-4);">
                  <li>Mint or burn tokens</li>
                  <li>Pause or resume transfers</li>
                  <li>Update configuration parameters</li>
                  <li>Manage whitelists, blacklists, or fees</li>
                </ul>
              </li>
            </ul>
            <p style="margin-top: var(--space-3);">It's essential to verify the new control group addresses to ensure the change is legitimate and aligns with the project's governance policy.</p>
          </div>

          <div class="page-guide__tip">
            <strong>🔒 Security Note</strong>
            Always treat a Main Control Group Change as a significant governance event.
            Users, investors, and auditors should:
            <ul style="margin-top: var(--space-2);">
              <li>Review the transaction on-chain,</li>
              <li>Confirm the authenticity of the new controlling addresses,</li>
              <li>And monitor for any unusual activity following the change.</li>
            </ul>
            <p style="margin-top: var(--space-2);"><strong>Warning:</strong> Improper or malicious control changes can lead to unauthorized actions, including minting or fund withdrawals.</p>
          </div>
        </div>
      </aside>

      <div class="wizard-screen__inner">
        <form class="wizard-form" id="permissions-main-control-change-form" novalidate>

          <div class="form-card">
            <div class="form-card__header">
              <h3 class="form-card__title">Enable Main Control Group Change</h3>
              <p class="form-card__description">Allow modifications to the primary administrative control group</p>
            </div>
            <div class="form-card__body">
              <fieldset class="wizard-fieldset">
                <legend class="wizard-field__label">Enable main control group changes?</legend>

                <!-- No Option -->
                <label class="wizard-choice">
                  <input class="wizard-choice__input" type="radio" name="main-control-enable" value="disabled" checked>
                  <span class="wizard-choice__content">
                    <span class="wizard-choice__title">No</span>
                    <span class="wizard-choice__hint">Main control group cannot be changed</span>
                  </span>
                </label>

                <!-- Yes Option -->
                <label class="wizard-choice">
                  <input class="wizard-choice__input" type="radio" name="main-control-enable" value="enabled" data-toggle-panel="main-control-config-container">
                  <span class="wizard-choice__content">
                    <span class="wizard-choice__title">Yes</span>
                    <span class="wizard-choice__hint">Enable main control group changes with authorized parties</span>
                  </span>
                </label>
              </fieldset>

                <!-- Main Control Configuration (shown when Yes is selected) -->
                <div class="distribution-inline-panel" id="main-control-config-container" hidden>

                  <!-- Authorized to change the Main Control group -->
                  <fieldset class="wizard-fieldset">
                    <legend class="wizard-field__label">Authorized to change the Main Control group</legend>
                    <p class="field-hint" style="margin-bottom: var(--space-3);">Who can modify the main control group?</p>

                    <!-- Contract Owner Option -->
                    <label class="wizard-choice">
                      <input class="wizard-choice__input" type="radio" name="main-control-perform" value="owner" checked>
                      <span class="wizard-choice__content">
                        <span class="wizard-choice__title">Contract Owner</span>
                        <span class="wizard-choice__hint">Only the contract owner can change the main control group</span>
                      </span>
                    </label>

                    <!-- Specific Identity Option -->
                    <label class="wizard-choice">
                      <input class="wizard-choice__input" type="radio" name="main-control-perform" value="identity" data-toggle-panel="main-control-perform-identity-panel">
                      <span class="wizard-choice__content">
                        <span class="wizard-choice__title">Identity</span>
                        <span class="wizard-choice__hint">A specific identity can change the main control group</span>
                      </span>
                    </label>
                    <div class="distribution-inline-panel" id="main-control-perform-identity-panel" hidden>
                      <div class="field-group">
                        <label class="wizard-field__label" for="main-control-perform-identity-id">Identity ID</label>
                        <input class="wizard-field__input" type="text" id="main-control-perform-identity-id" placeholder="e.g., 4hKFP3mFB9vku8VJKcZvwVN123...">
                        <span class="field-hint">Enter the Dash Platform identity ID</span>
                      </div>
                    </div>

                    <!-- Group Option -->
                    <label class="wizard-choice">
                      <input class="wizard-choice__input" type="radio" name="main-control-perform" value="group" data-toggle-panel="main-control-perform-group-panel">
                      <span class="wizard-choice__content">
                        <span class="wizard-choice__title">Group</span>
                        <span class="wizard-choice__hint">Members of a group can change the main control group</span>
                      </span>
                    </label>
                    <div class="distribution-inline-panel" id="main-control-perform-group-panel" hidden>
                      <div class="field-group">
                        <label class="wizard-field__label" for="main-control-perform-group-id">Select group</label>
                        <select class="wizard-field__input" id="main-control-perform-group-id">
                          <option value="">Select a group...</option>
                        </select>
                        <span class="field-hint">Choose which group can perform this action</span>
                      </div>
                    </div>
                  </fieldset>

                </div>
              </fieldset>
            </div>
          </div>

          <p class="wizard-field__message" id="permissions-main-control-change-message" role="status" aria-live="polite"></p>

          <div class="wizard-actions wizard-actions--between wizard-actions--sticky">
            <button class="wizard-button wizard-button--secondary" type="button" data-step-back="permissions-main-control-change">← Back</button>
            <button class="wizard-button wizard-button--secondary" type="button" id="contract-preview-btn">📄 Contract Preview</button>
            <button class="wizard-button wizard-button--primary" id="permissions-main-control-change-next" type="submit">Continue →</button>
          </div>
        </form>
      </div>
    </section>

    <!-- Permissions: Group Sub-step -->
    <section class="wizard-screen" id="screen-permissions-group" data-step="permissions" data-substep="permissions-group" data-tab="group" hidden>

      <!-- Right Side Guide Panel -->
      <aside class="page-guide" aria-label="Page guide">
        <div class="page-guide__content">
          <h2 class="page-guide__title">Multi-Signature Groups</h2>
          <p class="page-guide__intro">Share token control with multiple people for enhanced security.</p>

          <div class="page-guide__section">
            <h3 class="page-guide__section-title">Step-by-step guide</h3>
            <ol class="page-guide__steps">
              <li>
                <strong>Enable Group Control</strong>
                <p>Turn on to create a multi-sig wallet. Multiple people must approve critical actions.</p>
              </li>
              <li>
                <strong>Set Approval Threshold</strong>
                <p>How many members must approve? Example: 2 of 3 members = any 2 can approve.</p>
              </li>
              <li>
                <strong>Add Group Members</strong>
                <p>Enter Dash Platform identity IDs for each member. They'll all share control.</p>
              </li>
            </ol>
          </div>

          <div class="page-guide__tip">
            <strong>💡 Pro Tip</strong>
            Groups prevent single point of failure. Recommended for valuable tokens or DAOs.
          </div>
        </div>
      </aside>

      <div class="wizard-screen__inner">
        <form class="wizard-form" id="permissions-group-form" novalidate>
          <h1 class="wizard-screen__title" id="title-permissions-group" tabindex="-1">Would you like to create a group for multi-signature control?</h1>
          <p class="wizard-screen__subtitle">Set up a group of identities that can collectively manage your token with configurable approval rules.</p>

          <!-- Group Info Card -->
          <div class="form-card form-card--highlight">
            <div class="form-card__body">
              <p><strong>What's a group?</strong></p>
              <p>A group allows multiple identities to collectively control your token, requiring approval from several members before critical actions can be taken. This provides enhanced security through multi-signature governance.</p>
              <p style="margin-bottom: 0;"><strong>Use cases:</strong> DAO governance • Multi-owner tokens • Team-managed assets • Enhanced security</p>
            </div>
          </div>

          <!-- Enable Group Card -->
          <div class="form-card">
            <div class="form-card__header">
              <h3 class="form-card__title">Group Control <span class="wizard-badge wizard-badge--optional" style="margin-left: var(--space-2);">Optional</span></h3>
              <p class="form-card__description">Enable multi-signature group management</p>
            </div>
            <div class="form-card__body">
              <div class="wizard-field wizard-field--checkbox">
                <label class="wizard-checkbox">
                  <input class="wizard-checkbox__input" type="checkbox" id="enable-group">
                  <span class="wizard-checkbox__label">Enable group-based control</span>
                </label>
              </div>
            </div>
          </div>

          <!-- Group Configuration (shown when enabled) -->
          <div class="form-card" id="group-config-section" style="display: none;">
            <div class="form-card__header">
              <h3 class="form-card__title">Group Configuration</h3>
              <p class="form-card__description">Define group members and approval rules</p>
            </div>
            <div class="form-card__body">
              <!-- Group Name -->
              <div class="field-group">
                <label class="wizard-field__label" for="group-name">Group Name *</label>
                <input class="wizard-field__input" id="group-name" name="group-name" type="text" placeholder="e.g., Token Governance Committee" maxlength="64">
                <span class="field-hint">A descriptive name for this group</span>
              </div>

              <!-- Approval Threshold -->
              <div class="field-group">
                <label class="wizard-field__label" for="group-threshold">Approval Threshold *</label>
                <input class="wizard-field__input" id="group-threshold" name="group-threshold" type="number" min="1" value="2" placeholder="e.g., 2">
                <span class="field-hint">Number of approvals required for actions (must be ≤ number of members)</span>
              </div>

              <!-- Group Members -->
              <div class="field-group">
                <label class="wizard-field__label">Group Members</label>
                <p class="field-hint" style="margin-bottom: var(--space-3);">Add Dash Platform identity IDs for group members. Each member can approve token management actions.</p>

                <div id="group-members-list" style="margin-bottom: var(--space-3);">
                  <!-- Dynamic member entries will be added here -->
                </div>

                <button class="wizard-button wizard-button--secondary" type="button" id="add-group-member">+ Add Member</button>
              </div>
            </div>
          </div>

          <p class="wizard-field__message" id="permissions-group-message" role="status" aria-live="polite"></p>
        </form>
      </div>
    </section>

    <!-- Distribution: Pre-Programmed Sub-step -->
    <section class="wizard-screen" id="screen-distribution-preprogrammed" data-step="distribution" data-substep="distribution-preprogrammed" data-tab="token" hidden>

      <!-- Right Side Guide Panel -->
      <aside class="page-guide" aria-label="Page guide">
        <div class="page-guide__content">
          <h2 class="page-guide__title">Pre-Programmed Distribution</h2>
          <p class="page-guide__intro">Set up one-time token releases at specific times.</p>

          <div class="page-guide__section">
            <h3 class="page-guide__section-title">What is Pre-Programmed Distribution?</h3>
            <p>Pre-Programmed distribution lets you schedule specific token releases at exact timestamps. This is perfect for:</p>
            <ul class="page-guide__steps">
              <li>
                <strong>Airdrops</strong>
                <p>Release tokens to community members at a specific date/time.</p>
              </li>
              <li>
                <strong>Vesting Schedules</strong>
                <p>Gradually release tokens to team members over months or years.</p>
              </li>
              <li>
                <strong>Milestone Rewards</strong>
                <p>Release tokens when your project reaches certain dates.</p>
              </li>
            </ul>
          </div>

          <div class="page-guide__tip">
            <strong>💡 How it works</strong>
            You create distribution entries with timestamps and amounts. Recipients can claim their tokens after the timestamp passes.
          </div>

          <div class="page-guide__tip">
            <strong>ℹ️ Note</strong>
            This is separate from continuous distribution (like mining). If you don't need scheduled one-time releases, you can skip this.
          </div>
        </div>
      </aside>

      <div class="wizard-screen__inner">
        <form class="wizard-form" id="distribution-preprogrammed-form" novalidate>
          <h1 class="wizard-screen__title" id="title-distribution-preprogrammed" tabindex="-1">Do you want to enable Pre-Programmed distribution? <span class="wizard-badge wizard-badge--optional">Optional</span></h1>
          <p class="wizard-screen__subtitle">Pre-Programmed distribution lets you schedule specific token releases at exact timestamps - perfect for airdrops, vesting, or milestone rewards.</p>

          <!-- Pre-Programmed Info Card -->
          <div class="form-card form-card--highlight">
            <div class="form-card__body">
              <p><strong>What's Pre-Programmed Distribution?</strong></p>
              <p>Schedule one-time token releases at specific dates/times. Recipients can claim their tokens after the timestamp. This is different from continuous distribution (mining).</p>
              <p style="margin-bottom: 0;"><strong>Use cases:</strong> Team vesting • Community airdrops • Milestone rewards • Scheduled releases</p>
            </div>
          </div>

          <!-- Enable Pre-Programmed Distribution -->
          <div class="form-card">
            <div class="form-card__header">
              <h3 class="form-card__title">Enable Pre-Programmed Distribution</h3>
              <p class="form-card__description">Do you want to schedule token releases at specific timestamps?</p>
            </div>
            <div class="form-card__body">
              <fieldset class="wizard-fieldset">
                <legend class="wizard-field__label">Enable Pre-Programmed Distribution?</legend>

                <label class="wizard-choice">
                  <input class="wizard-choice__input" type="radio" name="preprogrammed-enable" value="no" data-toggle-panel="preprogrammed-entries-container" checked>
                  <span class="wizard-choice__content">
                    <span class="wizard-choice__title">No</span>
                    <span class="wizard-choice__hint">Skip to continuous distribution settings</span>
                  </span>
                </label>

                <label class="wizard-choice">
                  <input class="wizard-choice__input" type="radio" name="preprogrammed-enable" value="yes" data-toggle-panel="preprogrammed-entries-container">
                  <span class="wizard-choice__content">
                    <span class="wizard-choice__title">Yes</span>
                    <span class="wizard-choice__hint">Schedule one-time token releases at specific times</span>
                  </span>
                </label>

                <!-- Pre-Programmed Distribution Entries (shown when Yes is selected) -->
                <div class="distribution-inline-panel" id="preprogrammed-entries-container" hidden>
                  <div id="preprogrammed-entries-list">
                    <!-- Entries will be dynamically added here -->
                  </div>
                  <button class="wizard-button wizard-button--secondary wizard-button--sm" type="button" id="add-preprogrammed-entry-btn">+ Add New Distribution Entry</button>
                </div>
              </fieldset>
            </div>
          </div>

          <p class="wizard-field__message" id="distribution-preprogrammed-message" role="status" aria-live="polite"></p>

          <div class="wizard-actions wizard-actions--between wizard-actions--sticky">
            <button class="wizard-button wizard-button--secondary" type="button" data-step-back="distribution-preprogrammed">← Back</button>
            <button class="wizard-button wizard-button--secondary" type="button" id="contract-preview-btn">📄 Contract Preview</button>
            <button class="wizard-button wizard-button--primary" id="distribution-preprogrammed-next" type="submit">Continue →</button>
          </div>
        </form>
      </div>
    </section>

    <!-- Distribution: Perpetual Sub-step -->
    <section class="wizard-screen" id="screen-distribution-perpetual" data-step="distribution" data-substep="distribution-perpetual" data-tab="token" hidden>

      <!-- Right Side Guide Panel -->
      <aside class="page-guide" aria-label="Page guide">
        <div class="page-guide__content">
          <h2 class="page-guide__title">Perpetual Distribution</h2>
          <p class="page-guide__intro">Set up continuous token release over time.</p>

          <div class="page-guide__section">
            <h3 class="page-guide__section-title">What is Perpetual Distribution?</h3>
            <p>Perpetual distribution automatically releases tokens continuously over time - perfect for:</p>
            <ul class="page-guide__steps">
              <li>
                <strong>Mining Rewards</strong>
                <p>Release tokens to miners/validators at regular intervals.</p>
              </li>
              <li>
                <strong>Staking Rewards</strong>
                <p>Continuously reward users who stake their tokens.</p>
              </li>
              <li>
                <strong>Ongoing Incentives</strong>
                <p>Keep users engaged with regular token releases.</p>
              </li>
            </ul>
          </div>

          <div class="page-guide__tip">
            <strong>💡 How it works</strong>
            You set a schedule (every X blocks/time/epochs) and an emission function (how many tokens per release).
          </div>

          <div class="page-guide__tip">
            <strong>ℹ️ Note</strong>
            This creates ongoing distributions. If you want one-time scheduled releases, use Pre-Programmed instead.
          </div>
        </div>
      </aside>

      <div class="wizard-screen__inner">
        <form class="wizard-form" id="distribution-perpetual-form" novalidate>
          <h1 class="wizard-screen__title" id="title-distribution-perpetual" tabindex="-1">Do you want to enable Perpetual distribution? <span class="wizard-badge wizard-badge--optional">Optional</span></h1>
          <p class="wizard-screen__subtitle">Perpetual distribution continuously releases tokens over time - perfect for mining rewards, staking, or ongoing incentives.</p>

          <!-- Perpetual Info Card -->
          <div class="form-card form-card--highlight">
            <div class="form-card__body">
              <p><strong>What's Perpetual Distribution?</strong></p>
              <p>Automatically release tokens at regular intervals (every X blocks, hours, or epochs). This is different from Pre-Programmed which is for one-time scheduled releases.</p>
              <p style="margin-bottom: 0;"><strong>Use cases:</strong> Mining rewards • Staking rewards • Continuous incentives • Gradual supply increase</p>
            </div>
          </div>

          <!-- Enable Perpetual Distribution -->
          <div class="form-card">
            <div class="form-card__header">
              <h3 class="form-card__title">Enable Perpetual Distribution</h3>
              <p class="form-card__description">Do you want to set up continuous token releases?</p>
            </div>
            <div class="form-card__body">
              <fieldset class="wizard-fieldset">
                <legend class="wizard-field__label">Enable Perpetual Distribution?</legend>

                <label class="wizard-choice">
                  <input class="wizard-choice__input" type="radio" name="perpetual-enable" value="no" data-toggle-panel="perpetual-config-container" checked>
                  <span class="wizard-choice__content">
                    <span class="wizard-choice__title">No</span>
                    <span class="wizard-choice__hint">Skip perpetual distribution</span>
                  </span>
                </label>

                <label class="wizard-choice">
                  <input class="wizard-choice__input" type="radio" name="perpetual-enable" value="yes" data-toggle-panel="perpetual-config-container">
                  <span class="wizard-choice__content">
                    <span class="wizard-choice__title">Yes</span>
                    <span class="wizard-choice__hint">Set up continuous token releases</span>
                  </span>
                </label>

                <!-- Perpetual Configuration (shown when Yes is selected) -->
                <div class="distribution-inline-panel" id="perpetual-config-container" hidden>

                  <!-- Schedule Type Section -->
                  <div style="margin-bottom: var(--space-4);">
                    <h4 style="font-size: 1rem; font-weight: 600; margin: 0 0 var(--space-2) 0;">Release Schedule</h4>
                    <p style="font-size: 0.875rem; color: var(--color-text-subtle); margin: 0 0 var(--space-3) 0;">When should tokens be released?</p>

                    <fieldset class="wizard-fieldset">
                      <legend class="wizard-field__label">Schedule type</legend>

                      <!-- Block-based Option -->
                      <label class="wizard-choice">
                        <input class="wizard-choice__input" type="radio" name="distribution-type" value="block" data-toggle-panel="distribution-panel-block">
                        <span class="wizard-choice__content">
                          <span class="wizard-choice__title">Block-based (Perpetual)</span>
                          <span class="wizard-choice__hint">Continuous emission - Release tokens every N blocks</span>
                        </span>
                      </label>
                      <div class="distribution-inline-panel" id="distribution-panel-block" hidden>
                        <div class="field-group">
                          <label class="wizard-field__label" for="dist-block-interval">Release every (blocks)</label>
                          <input class="wizard-field__input" type="number" id="dist-block-interval" placeholder="e.g., 1000" min="1">
                          <span class="field-hint">Example: 1000 blocks ≈ 2.5 hours • Tokens are claimable at each interval</span>
                        </div>
                      </div>

                      <!-- Time-based Option -->
                      <label class="wizard-choice">
                        <input class="wizard-choice__input" type="radio" name="distribution-type" value="time" data-toggle-panel="distribution-panel-time">
                        <span class="wizard-choice__content">
                          <span class="wizard-choice__title">Time-based (Perpetual)</span>
                          <span class="wizard-choice__hint">Continuous emission - Release tokens every N hours/days</span>
                        </span>
                      </label>
                      <div class="distribution-inline-panel" id="distribution-panel-time" hidden>
                        <div class="field-group">
                          <label class="wizard-field__label" for="dist-time-interval">Release every</label>
                          <input class="wizard-field__input" type="number" id="dist-time-interval" placeholder="e.g., 24" min="1">
                          <span class="field-hint">Hours (24 = daily, 168 = weekly) • Tokens are claimable at each interval</span>
                        </div>
                      </div>

                      <!-- Epoch-based Option -->
                      <label class="wizard-choice">
                        <input class="wizard-choice__input" type="radio" name="distribution-type" value="epoch" data-toggle-panel="distribution-panel-epoch">
                        <span class="wizard-choice__content">
                          <span class="wizard-choice__title">Epoch-based (Perpetual)</span>
                          <span class="wizard-choice__hint">Continuous emission - Release at platform epoch changes (advanced)</span>
                        </span>
                      </label>
                      <div class="distribution-inline-panel" id="distribution-panel-epoch" hidden>
                        <div class="field-group">
                          <label class="wizard-field__label" for="dist-epoch-interval">Release every (epochs)</label>
                          <input class="wizard-field__input" type="number" id="dist-epoch-interval" placeholder="e.g., 1" min="1" value="1">
                          <span class="field-hint">1 = every epoch change</span>
                        </div>
                      </div>
                    </fieldset>
                  </div>

                  <!-- Emission Function Section -->
                  <div style="margin-top: var(--space-5);">
                    <h4 style="font-size: 1rem; font-weight: 600; margin: 0 0 var(--space-2) 0;">Emission Function</h4>
                    <p style="font-size: 0.875rem; color: var(--color-text-subtle); margin: 0 0 var(--space-3) 0;">How much should be released each time?</p>

                    <fieldset class="wizard-fieldset">
                      <legend class="wizard-field__label">Emission type</legend>

                      <!-- Fixed Amount Option -->
                      <label class="wizard-choice">
                        <input class="wizard-choice__input" type="radio" name="emission-type" value="fixed" data-toggle-panel="emission-panel-fixed">
                        <span class="wizard-choice__content">
                          <span class="wizard-choice__title">Fixed amount</span>
                          <span class="wizard-choice__hint">Release the same amount every time</span>
                        </span>
                      </label>
                      <div class="distribution-inline-panel" id="emission-panel-fixed" hidden>
                        <div class="field-group">
                          <label class="wizard-field__label" for="emission-fixed-amount">Amount per release</label>
                          <input class="wizard-field__input" type="text" id="emission-fixed-amount" placeholder="e.g., 100">
                          <span class="field-hint">This exact amount will be released each time</span>
                        </div>
                      </div>

                      <!-- Exponential Option -->
                      <label class="wizard-choice">
                        <input class="wizard-choice__input" type="radio" name="emission-type" value="exponential" data-toggle-panel="emission-panel-exponential">
                        <span class="wizard-choice__content">
                          <span class="wizard-choice__title">Exponential</span>
                          <span class="wizard-choice__hint">Amount changes by percentage (like Bitcoin halving)</span>
                        </span>
                      </label>
                      <div class="distribution-inline-panel" id="emission-panel-exponential" hidden>
                        <div class="field-group">
                          <label class="wizard-field__label" for="emission-exp-a">Scaling Factor (a, { 0 < a ≤ 256 })</label>
                          <input class="wizard-field__input" type="number" id="emission-exp-a" placeholder="e.g., 1" min="1" max="256">
                        </div>
                        <div class="field-group">
                          <label class="wizard-field__label" for="emission-exp-m">Exponent Rate Numerator (m, { -8 ≤ m ≤ 8 ; m ≠ 0 })</label>
                          <input class="wizard-field__input" type="number" id="emission-exp-m" placeholder="e.g., 2" min="-8" max="8">
                          <span class="field-hint">Cannot be 0</span>
                        </div>
                        <div class="field-group">
                          <label class="wizard-field__label" for="emission-exp-n">Exponent Rate Denominator (n, { 0 < n ≤ 32 })</label>
                          <input class="wizard-field__input" type="number" id="emission-exp-n" placeholder="e.g., 1" min="1" max="32">
                        </div>
                        <div class="field-group">
                          <label class="wizard-field__label" for="emission-exp-d">Divisor (d, { u64 ; d ≠ 0 })</label>
                          <input class="wizard-field__input" type="text" id="emission-exp-d" placeholder="e.g., 1">
                          <span class="field-hint">Cannot be 0</span>
                        </div>
                        <div class="field-group">
                          <label class="wizard-field__label" for="emission-exp-s">Start Period Offset (s, optional, u64)</label>
                          <input class="wizard-field__input" type="text" id="emission-exp-s" placeholder="None">
                          <span class="field-hint">Optional starting period offset</span>
                        </div>
                        <div class="field-group">
                          <label class="wizard-field__label" for="emission-exp-o">Offset (o, i64)</label>
                          <input class="wizard-field__input" type="text" id="emission-exp-o" placeholder="e.g., 0">
                        </div>
                        <div class="field-group">
                          <label class="wizard-field__label" for="emission-exp-b">Base amount (b, u64)</label>
                          <input class="wizard-field__input" type="text" id="emission-exp-b" placeholder="e.g., 100">
                        </div>
                        <div class="field-group">
                          <label class="wizard-field__label" for="emission-exp-min-value">Minimum Emission Value (optional, u64)</label>
                          <input class="wizard-field__input" type="text" id="emission-exp-min-value" placeholder="None">
                          <span class="field-hint">Optional minimum emission value</span>
                        </div>
                        <div class="field-group">
                          <label class="wizard-field__label" for="emission-exp-max-value">Maximum Emission Value (optional, u64)</label>
                          <input class="wizard-field__input" type="text" id="emission-exp-max-value" placeholder="None">
                          <span class="field-hint">Optional maximum emission value</span>
                        </div>
                      </div>

                      <!-- Linear Option -->
                      <label class="wizard-choice">
                        <input class="wizard-choice__input" type="radio" name="emission-type" value="linear" data-toggle-panel="emission-panel-linear">
                        <span class="wizard-choice__content">
                          <span class="wizard-choice__title">Linear</span>
                          <span class="wizard-choice__hint">Amount increases or decreases gradually</span>
                        </span>
                      </label>
                      <div class="distribution-inline-panel" id="emission-panel-linear" hidden>
                        <div class="field-group">
                          <label class="wizard-field__label" for="emission-linear-slope-numerator">Slope Numerator (a, { -255 ≤ a ≤ 256 })</label>
                          <input class="wizard-field__input" type="number" id="emission-linear-slope-numerator" placeholder="e.g., 1" min="-255" max="256">
                        </div>
                        <div class="field-group">
                          <label class="wizard-field__label" for="emission-linear-slope-divisor">Slope Divisor (d, u64)</label>
                          <input class="wizard-field__input" type="text" id="emission-linear-slope-divisor" placeholder="e.g., 1">
                        </div>
                        <div class="field-group">
                          <label class="wizard-field__label" for="emission-linear-start-step">Start Step (s, i64, optional)</label>
                          <input class="wizard-field__input" type="text" id="emission-linear-start-step" placeholder="None">
                          <span class="field-hint">Optional starting step value</span>
                        </div>
                        <div class="field-group">
                          <label class="wizard-field__label" for="emission-linear-starting-amount">Starting Amount (b, i64)</label>
                          <input class="wizard-field__input" type="text" id="emission-linear-starting-amount" placeholder="e.g., 100">
                        </div>
                        <div class="field-group">
                          <label class="wizard-field__label" for="emission-linear-min-value">Minimum Emission Value (optional)</label>
                          <input class="wizard-field__input" type="text" id="emission-linear-min-value" placeholder="None">
                          <span class="field-hint">Optional minimum emission value</span>
                        </div>
                        <div class="field-group">
                          <label class="wizard-field__label" for="emission-linear-max-value">Maximum Emission Value (optional)</label>
                          <input class="wizard-field__input" type="text" id="emission-linear-max-value" placeholder="None">
                          <span class="field-hint">Optional maximum emission value</span>
                        </div>
                      </div>

                      <!-- Random Option -->
                      <label class="wizard-choice">
                        <input class="wizard-choice__input" type="radio" name="emission-type" value="random" data-toggle-panel="emission-panel-random">
                        <span class="wizard-choice__content">
                          <span class="wizard-choice__title">Random</span>
                          <span class="wizard-choice__hint">Random amount within a range (gamified rewards)</span>
                        </span>
                      </label>
                      <div class="distribution-inline-panel" id="emission-panel-random" hidden>
                        <div class="field-group">
                          <label class="wizard-field__label" for="emission-random-min">Minimum amount</label>
                          <input class="wizard-field__input" type="text" id="emission-random-min" placeholder="e.g., 50">
                        </div>
                        <div class="field-group">
                          <label class="wizard-field__label" for="emission-random-max">Maximum amount</label>
                          <input class="wizard-field__input" type="text" id="emission-random-max" placeholder="e.g., 150">
                          <span class="field-hint">Each release will be a random value between min and max</span>
                        </div>
                      </div>

                      <!-- Step Decreasing Option -->
                      <label class="wizard-choice">
                        <input class="wizard-choice__input" type="radio" name="emission-type" value="step-decreasing" data-toggle-panel="emission-panel-step-decreasing">
                        <span class="wizard-choice__content">
                          <span class="wizard-choice__title">Step Decreasing</span>
                          <span class="wizard-choice__hint">Amount decreases in steps (like Bitcoin halving)</span>
                        </span>
                      </label>
                      <div class="distribution-inline-panel" id="emission-panel-step-decreasing" hidden>
                        <div class="field-group">
                          <label class="wizard-field__label" for="emission-step-count">Step Count</label>
                          <input class="wizard-field__input" type="number" id="emission-step-count" placeholder="e.g., 4" min="1">
                          <span class="field-hint">Number of emissions before decreasing</span>
                        </div>
                        <div class="field-group">
                          <label class="wizard-field__label" for="emission-step-numerator">Decrease per Interval Numerator (n < 65,536)</label>
                          <input class="wizard-field__input" type="number" id="emission-step-numerator" placeholder="e.g., 1" min="0" max="65535">
                        </div>
                        <div class="field-group">
                          <label class="wizard-field__label" for="emission-step-denominator">Decrease per Interval Denominator (d < 65,536)</label>
                          <input class="wizard-field__input" type="number" id="emission-step-denominator" placeholder="e.g., 2" min="1" max="65535">
                          <span class="field-hint">1/2 = halving, 3/4 = 75% of previous, etc.</span>
                        </div>
                        <div class="field-group">
                          <label class="wizard-field__label" for="emission-step-offset">Start Period Offset (i64, optional)</label>
                          <input class="wizard-field__input" type="text" id="emission-step-offset" placeholder="None">
                          <span class="field-hint">Optional starting period offset</span>
                        </div>
                        <div class="field-group">
                          <label class="wizard-field__label" for="emission-step-start">Initial Token Emission Amount</label>
                          <input class="wizard-field__input" type="text" id="emission-step-start" placeholder="e.g., 1000">
                        </div>
                        <div class="field-group">
                          <label class="wizard-field__label" for="emission-step-min-value">Minimum Emission Value (optional)</label>
                          <input class="wizard-field__input" type="text" id="emission-step-min-value" placeholder="None">
                          <span class="field-hint">Optional minimum emission value</span>
                        </div>
                        <div class="field-group">
                          <label class="wizard-field__label" for="emission-step-max-interval">Maximum Interval Count (optional)</label>
                          <input class="wizard-field__input" type="text" id="emission-step-max-interval" placeholder="None">
                          <span class="field-hint">Optional maximum number of intervals</span>
                        </div>
                        <div class="field-group">
                          <label class="wizard-field__label" for="emission-step-trailing">Trailing Distribution Interval Token Amount</label>
                          <input class="wizard-field__input" type="text" id="emission-step-trailing" placeholder="e.g., 10">
                          <span class="field-hint">Final emission amount after all decreases</span>
                        </div>
                      </div>

                      <!-- Stepwise Option -->
                      <label class="wizard-choice">
                        <input class="wizard-choice__input" type="radio" name="emission-type" value="stepwise" data-toggle-panel="emission-panel-stepwise">
                        <span class="wizard-choice__content">
                          <span class="wizard-choice__title">Stepwise</span>
                          <span class="wizard-choice__hint">Custom amounts at specific intervals</span>
                        </span>
                      </label>
                      <div class="distribution-inline-panel" id="emission-panel-stepwise" hidden>
                        <div id="stepwise-entries">
                          <div class="field-group stepwise-entry" data-entry-index="0">
                            <label class="wizard-field__label">
                              At interval <input class="wizard-field__input" type="number" name="stepwise-interval" placeholder="0" min="0" style="width: 120px; display: inline-block; margin: 0 var(--space-2);">
                              emit <input class="wizard-field__input" type="text" name="stepwise-amount" placeholder="1000" style="width: 120px; display: inline-block; margin: 0 var(--space-2);"> tokens
                            </label>
                            <button class="wizard-button wizard-button--text wizard-button--sm" type="button" data-remove-stepwise style="margin-left: var(--space-2);">Remove</button>
                          </div>
                        </div>
                        <button class="wizard-button wizard-button--secondary wizard-button--sm" type="button" id="add-stepwise-entry" style="margin-top: var(--space-3);">+ Add Interval</button>
                        <span class="field-hint" style="display: block; margin-top: var(--space-2);">Define custom emission amounts for specific intervals</span>
                      </div>

                      <!-- Polynomial Option -->
                      <label class="wizard-choice">
                        <input class="wizard-choice__input" type="radio" name="emission-type" value="polynomial" data-toggle-panel="emission-panel-polynomial">
                        <span class="wizard-choice__content">
                          <span class="wizard-choice__title">Polynomial</span>
                          <span class="wizard-choice__hint">Complex polynomial curve (advanced)</span>
                        </span>
                      </label>
                      <div class="distribution-inline-panel" id="emission-panel-polynomial" hidden>
                        <div class="field-group">
                          <label class="wizard-field__label" for="emission-poly-a">Scaling Factor (a, { -255 ≤ a ≤ 256 })</label>
                          <input class="wizard-field__input" type="number" id="emission-poly-a" placeholder="e.g., 1" min="-255" max="256">
                        </div>
                        <div class="field-group">
                          <label class="wizard-field__label" for="emission-poly-m">Exponent Numerator (m, { -8 ≤ m ≤ 8 })</label>
                          <input class="wizard-field__input" type="number" id="emission-poly-m" placeholder="e.g., 2" min="-8" max="8">
                        </div>
                        <div class="field-group">
                          <label class="wizard-field__label" for="emission-poly-n">Exponent Denominator (n, { 0 < n ≤ 32 })</label>
                          <input class="wizard-field__input" type="number" id="emission-poly-n" placeholder="e.g., 1" min="1" max="32">
                        </div>
                        <div class="field-group">
                          <label class="wizard-field__label" for="emission-poly-d">Divisor (d, u64)</label>
                          <input class="wizard-field__input" type="text" id="emission-poly-d" placeholder="e.g., 1">
                        </div>
                        <div class="field-group">
                          <label class="wizard-field__label" for="emission-poly-s">Start Period Offset (s, optional, u64)</label>
                          <input class="wizard-field__input" type="text" id="emission-poly-s" placeholder="None">
                          <span class="field-hint">Optional starting period offset</span>
                        </div>
                        <div class="field-group">
                          <label class="wizard-field__label" for="emission-poly-o">Offset (o, i64)</label>
                          <input class="wizard-field__input" type="text" id="emission-poly-o" placeholder="e.g., 0">
                        </div>
                        <div class="field-group">
                          <label class="wizard-field__label" for="emission-poly-b">Initial Token Emission (b, u64)</label>
                          <input class="wizard-field__input" type="text" id="emission-poly-b" placeholder="e.g., 100">
                        </div>
                        <div class="field-group">
                          <label class="wizard-field__label" for="emission-poly-min-value">Minimum Emission Value (optional, u64)</label>
                          <input class="wizard-field__input" type="text" id="emission-poly-min-value" placeholder="None">
                          <span class="field-hint">Optional minimum emission value</span>
                        </div>
                        <div class="field-group">
                          <label class="wizard-field__label" for="emission-poly-max-value">Maximum Emission Value (optional, u64)</label>
                          <input class="wizard-field__input" type="text" id="emission-poly-max-value" placeholder="None">
                          <span class="field-hint">Optional maximum emission value</span>
                        </div>
                      </div>

                      <!-- Logarithmic Option -->
                      <label class="wizard-choice">
                        <input class="wizard-choice__input" type="radio" name="emission-type" value="logarithmic" data-toggle-panel="emission-panel-logarithmic">
                        <span class="wizard-choice__content">
                          <span class="wizard-choice__title">Logarithmic</span>
                          <span class="wizard-choice__hint">Diminishing emission rate over time</span>
                        </span>
                      </label>
                      <div class="distribution-inline-panel" id="emission-panel-logarithmic" hidden>
                        <div class="field-group">
                          <label class="wizard-field__label" for="emission-log-a">Scaling Factor (a, i64, { -32_766 ≤ a ≤ 32_767 })</label>
                          <input class="wizard-field__input" type="number" id="emission-log-a" placeholder="e.g., 100" min="-32766" max="32767">
                        </div>
                        <div class="field-group">
                          <label class="wizard-field__label" for="emission-log-d">Divisor (d, u64)</label>
                          <input class="wizard-field__input" type="text" id="emission-log-d" placeholder="e.g., 1">
                        </div>
                        <div class="field-group">
                          <label class="wizard-field__label" for="emission-log-m">Exponent Numerator (m, u64)</label>
                          <input class="wizard-field__input" type="text" id="emission-log-m" placeholder="e.g., 1">
                        </div>
                        <div class="field-group">
                          <label class="wizard-field__label" for="emission-log-n">Exponent Denominator (n, u64)</label>
                          <input class="wizard-field__input" type="text" id="emission-log-n" placeholder="e.g., 1">
                        </div>
                        <div class="field-group">
                          <label class="wizard-field__label" for="emission-log-s">Start Period Offset (s, optional, u64)</label>
                          <input class="wizard-field__input" type="text" id="emission-log-s" placeholder="None">
                          <span class="field-hint">Optional starting period offset</span>
                        </div>
                        <div class="field-group">
                          <label class="wizard-field__label" for="emission-log-o">Offset (o, i64)</label>
                          <input class="wizard-field__input" type="text" id="emission-log-o" placeholder="e.g., 0">
                        </div>
                        <div class="field-group">
                          <label class="wizard-field__label" for="emission-log-b">Base Amount (b, u64)</label>
                          <input class="wizard-field__input" type="text" id="emission-log-b" placeholder="e.g., 100">
                        </div>
                        <div class="field-group">
                          <label class="wizard-field__label" for="emission-log-min-value">Minimum Emission Value (optional, u64)</label>
                          <input class="wizard-field__input" type="text" id="emission-log-min-value" placeholder="None">
                          <span class="field-hint">Optional minimum emission value</span>
                        </div>
                        <div class="field-group">
                          <label class="wizard-field__label" for="emission-log-max-value">Maximum Emission Value (optional, u64)</label>
                          <input class="wizard-field__input" type="text" id="emission-log-max-value" placeholder="None">
                          <span class="field-hint">Optional maximum emission value</span>
                        </div>
                      </div>

                      <!-- Inverted Logarithmic Option -->
                      <label class="wizard-choice">
                        <input class="wizard-choice__input" type="radio" name="emission-type" value="inverted-logarithmic" data-toggle-panel="emission-panel-inverted-logarithmic">
                        <span class="wizard-choice__content">
                          <span class="wizard-choice__title">Inverted Logarithmic</span>
                          <span class="wizard-choice__hint">Increasing emission rate that levels off</span>
                        </span>
                      </label>
                      <div class="distribution-inline-panel" id="emission-panel-inverted-logarithmic" hidden>
                        <div class="field-group">
                          <label class="wizard-field__label" for="emission-invlog-a">Scaling Factor (a, i64, { -32_766 ≤ a ≤ 32_767 })</label>
                          <input class="wizard-field__input" type="number" id="emission-invlog-a" placeholder="e.g., 100" min="-32766" max="32767">
                        </div>
                        <div class="field-group">
                          <label class="wizard-field__label" for="emission-invlog-d">Divisor (d, u64)</label>
                          <input class="wizard-field__input" type="text" id="emission-invlog-d" placeholder="e.g., 1">
                        </div>
                        <div class="field-group">
                          <label class="wizard-field__label" for="emission-invlog-m">Exponent Numerator (m, u64)</label>
                          <input class="wizard-field__input" type="text" id="emission-invlog-m" placeholder="e.g., 1">
                        </div>
                        <div class="field-group">
                          <label class="wizard-field__label" for="emission-invlog-n">Exponent Denominator (n, u64)</label>
                          <input class="wizard-field__input" type="text" id="emission-invlog-n" placeholder="e.g., 1">
                        </div>
                        <div class="field-group">
                          <label class="wizard-field__label" for="emission-invlog-s">Start Period Offset (s, optional, u64)</label>
                          <input class="wizard-field__input" type="text" id="emission-invlog-s" placeholder="None">
                          <span class="field-hint">Optional starting period offset</span>
                        </div>
                        <div class="field-group">
                          <label class="wizard-field__label" for="emission-invlog-o">Offset (o, i64)</label>
                          <input class="wizard-field__input" type="text" id="emission-invlog-o" placeholder="e.g., 0">
                        </div>
                        <div class="field-group">
                          <label class="wizard-field__label" for="emission-invlog-b">Base Amount (b, u64)</label>
                          <input class="wizard-field__input" type="text" id="emission-invlog-b" placeholder="e.g., 100">
                        </div>
                        <div class="field-group">
                          <label class="wizard-field__label" for="emission-invlog-min-value">Minimum Emission Value (optional, u64)</label>
                          <input class="wizard-field__input" type="text" id="emission-invlog-min-value" placeholder="None">
                          <span class="field-hint">Optional minimum emission value</span>
                        </div>
                        <div class="field-group">
                          <label class="wizard-field__label" for="emission-invlog-max-value">Maximum Emission Value (optional, u64)</label>
                          <input class="wizard-field__input" type="text" id="emission-invlog-max-value" placeholder="None">
                          <span class="field-hint">Optional maximum emission value</span>
                        </div>
                      </div>

                    </fieldset>
                  </div>

                </div>
              </fieldset>
            </div>
          </div>

          <p class="wizard-field__message" id="distribution-perpetual-message" role="status" aria-live="polite"></p>

          <div class="wizard-actions wizard-actions--between wizard-actions--sticky">
            <button class="wizard-button wizard-button--secondary" type="button" data-step-back="distribution-perpetual">← Back</button>
            <button class="wizard-button wizard-button--secondary" type="button" id="contract-preview-btn">📄 Contract Preview</button>
            <button class="wizard-button wizard-button--primary" id="distribution-perpetual-next" type="submit">Continue →</button>
          </div>
        </form>
      </div>
    </section>

        <!-- Distribution: Schedule Sub-step -->
        <section class="wizard-screen" id="screen-distribution" data-step="distribution" data-substep="distribution" data-tab="token" hidden>

      <!-- Right Side Guide Panel -->
      <aside class="page-guide" aria-label="Page guide">
        <div class="page-guide__content">
          <h2 class="page-guide__title">Token Distribution</h2>
          <p class="page-guide__intro">Set up automatic token release over time. This is optional.</p>

          <div class="page-guide__section">
            <h3 class="page-guide__section-title">Step-by-step guide</h3>
            <ol class="page-guide__steps">
              <li>
                <strong>Enable Distribution</strong>
                <p>Turn on if you want tokens released automatically over time (like mining).</p>
              </li>
              <li>
                <strong>Choose Cadence Type</strong>
                <p>Block-based = every X blocks. Time-based = every X seconds. Epoch-based = per era.</p>
              </li>
              <li>
                <strong>Set Interval</strong>
                <p>How often tokens are released. Example: Every 100 blocks.</p>
              </li>
            </ol>
          </div>

          <div class="page-guide__tip">
            <strong>💡 Pro Tip</strong>
            Skip this if you don't need automatic distribution. You can manually mint instead.
          </div>
        </div>
      </aside>

      <div class="wizard-screen__inner">
        <form class="wizard-form" id="distribution-form" novalidate>
          <h1 class="wizard-screen__title" id="title-distribution" tabindex="-1">How should tokens be distributed over time? <span class="wizard-badge wizard-badge--optional">Optional</span></h1>
          <p class="wizard-screen__subtitle">Set up automatic token distribution with a release schedule (like mining rewards).</p>

          <!-- Distribution Info Card -->
          <div class="form-card form-card--highlight">
            <div class="form-card__body">
              <p><strong>What's this for?</strong></p>
              <p>Distribution lets you automatically release tokens over time - perfect for rewards, staking, or gradual release schedules. If you don't need this, you can skip it!</p>
              <p style="margin-bottom: 0;"><strong>Common uses:</strong> Mining rewards • Staking rewards • Team vesting • Community incentives</p>
            </div>
          </div>

          <!-- Distribution Schedule Section -->
          <div class="form-card">
            <div class="form-card__header">
              <h3 class="form-card__title">Release Schedule</h3>
              <p class="form-card__description">When should tokens be released?</p>
            </div>
            <div class="form-card__body">
              <fieldset class="wizard-fieldset" aria-describedby="distribution-message">
                <legend class="wizard-field__label">Schedule type</legend>

                <!-- Block-based Option -->
                <label class="wizard-choice">
                  <input class="wizard-choice__input" type="radio" name="distribution-type" value="block" data-toggle-panel="distribution-panel-block">
                  <span class="wizard-choice__content">
                    <span class="wizard-choice__title">Block-based (Perpetual)</span>
                    <span class="wizard-choice__hint">Continuous emission - Release tokens every N blocks</span>
                  </span>
                </label>
                <div class="distribution-inline-panel" id="distribution-panel-block" hidden>
                  <div class="field-group">
                    <label class="wizard-field__label" for="dist-block-interval">Release every (blocks)</label>
                    <input class="wizard-field__input" type="number" id="dist-block-interval" placeholder="e.g., 1000" min="1">
                    <span class="field-hint">Example: 1000 blocks ≈ 2.5 hours • Tokens are claimable at each interval</span>
                  </div>
                </div>

                <!-- Time-based Option -->
                <label class="wizard-choice">
                  <input class="wizard-choice__input" type="radio" name="distribution-type" value="time" data-toggle-panel="distribution-panel-time">
                  <span class="wizard-choice__content">
                    <span class="wizard-choice__title">Time-based (Perpetual)</span>
                    <span class="wizard-choice__hint">Continuous emission - Release tokens every N hours/days</span>
                  </span>
                </label>
                <div class="distribution-inline-panel" id="distribution-panel-time" hidden>
                  <div class="field-group">
                    <label class="wizard-field__label" for="dist-time-interval">Release every</label>
                    <input class="wizard-field__input" type="number" id="dist-time-interval" placeholder="e.g., 24" min="1">
                    <span class="field-hint">Hours (24 = daily, 168 = weekly) • Tokens are claimable at each interval</span>
                  </div>
                </div>

                <!-- Epoch-based Option -->
                <label class="wizard-choice">
                  <input class="wizard-choice__input" type="radio" name="distribution-type" value="epoch" data-toggle-panel="distribution-panel-epoch">
                  <span class="wizard-choice__content">
                    <span class="wizard-choice__title">Epoch-based (Perpetual)</span>
                    <span class="wizard-choice__hint">Continuous emission - Release at platform epoch changes (advanced)</span>
                  </span>
                </label>
                <div class="distribution-inline-panel" id="distribution-panel-epoch" hidden>
                  <div class="field-group">
                    <label class="wizard-field__label" for="dist-epoch-interval">Release every (epochs)</label>
                    <input class="wizard-field__input" type="number" id="dist-epoch-interval" placeholder="e.g., 1" min="1" value="1">
                    <span class="field-hint">1 = every epoch change</span>
                  </div>
                </div>
              </fieldset>
            </div>
          </div>

          <p class="wizard-field__message" id="distribution-message" role="status" aria-live="polite"></p>
          <div class="wizard-actions wizard-actions--between wizard-actions--sticky">
            <button class="wizard-button wizard-button--secondary" type="button" data-step-back="distribution">← Back</button>
            <button class="wizard-button wizard-button--secondary" type="button" id="contract-preview-btn">📄 Contract Preview</button>
            <button class="wizard-button wizard-button--primary" id="distribution-next" type="submit" disabled>Continue →</button>
          </div>
        </form>
      </div>
    </section>

    <!-- Distribution: Emission Sub-step -->
    <section class="wizard-screen" id="screen-distribution-emission" data-step="distribution" data-substep="distribution-emission" data-tab="token" hidden>

      <!-- Right Side Guide Panel -->
      <aside class="page-guide" aria-label="Page guide">
        <div class="page-guide__content">
          <h2 class="page-guide__title">Emission Function</h2>
          <p class="page-guide__intro">How many tokens are released at each interval.</p>

          <div class="page-guide__section">
            <h3 class="page-guide__section-title">Emission Types</h3>
            <ol class="page-guide__steps">
              <li>
                <strong>Fixed Amount</strong>
                <p>Same number every time. Simple and predictable. Example: 100 tokens per day.</p>
              </li>
              <li>
                <strong>Exponential Decay</strong>
                <p>Decreases over time (like Bitcoin halving). Reduces inflation gradually.</p>
              </li>
              <li>
                <strong>Linear</strong>
                <p>Increases or decreases steadily. Example: Start at 100, add 10 each period.</p>
              </li>
              <li>
                <strong>Step Function</strong>
                <p>Different amounts for different time periods. Most flexible option.</p>
              </li>
            </ol>
          </div>

          <div class="page-guide__tip">
            <strong>💡 Pro Tip</strong>
            Fixed is simplest. Exponential creates scarcity over time. Step gives maximum control.
          </div>
        </div>
      </aside>

      <div class="wizard-screen__inner">
        <form class="wizard-form" id="distribution-emission-form" novalidate>
          <h1 class="wizard-screen__title" id="title-distribution-emission" tabindex="-1">How much should be released each time?</h1>
          <p class="wizard-screen__subtitle">Choose an emission function that determines the amount distributed at each interval.</p>

          <!-- Emission Type Section -->
          <div class="form-card">
            <div class="form-card__header">
              <h3 class="form-card__title">Emission Function</h3>
              <p class="form-card__description">Select how much to release per interval</p>
            </div>
            <div class="form-card__body">
              <fieldset class="wizard-fieldset">
                <legend class="wizard-field__label">Emission type</legend>

                <!-- Fixed Amount Option -->
                <label class="wizard-choice">
                  <input class="wizard-choice__input" type="radio" name="emission-type" value="fixed" data-toggle-panel="emission-panel-fixed">
                  <span class="wizard-choice__content">
                    <span class="wizard-choice__title">Fixed amount</span>
                    <span class="wizard-choice__hint">Release the same amount every time</span>
                  </span>
                </label>
                <div class="distribution-inline-panel" id="emission-panel-fixed" hidden>
                  <div class="field-group">
                    <label class="wizard-field__label" for="emission-fixed-amount">Amount per release</label>
                    <input class="wizard-field__input" type="text" id="emission-fixed-amount" placeholder="e.g., 100">
                    <span class="field-hint">This exact amount will be released each time</span>
                  </div>
                </div>

                <!-- Exponential Option -->
                <label class="wizard-choice">
                  <input class="wizard-choice__input" type="radio" name="emission-type" value="exponential" data-toggle-panel="emission-panel-exponential">
                  <span class="wizard-choice__content">
                    <span class="wizard-choice__title">Exponential</span>
                    <span class="wizard-choice__hint">Amount changes by percentage (like Bitcoin halving)</span>
                  </span>
                </label>
                <div class="distribution-inline-panel" id="emission-panel-exponential" hidden>
                  <div class="field-group">
                    <label class="wizard-field__label" for="emission-exp-a">Scaling Factor (a, { 0 < a ≤ 256 })</label>
                    <input class="wizard-field__input" type="number" id="emission-exp-a" placeholder="e.g., 1" min="1" max="256">
                  </div>
                  <div class="field-group">
                    <label class="wizard-field__label" for="emission-exp-m">Exponent Rate Numerator (m, { -8 ≤ m ≤ 8 ; m ≠ 0 })</label>
                    <input class="wizard-field__input" type="number" id="emission-exp-m" placeholder="e.g., 2" min="-8" max="8">
                    <span class="field-hint">Cannot be 0</span>
                  </div>
                  <div class="field-group">
                    <label class="wizard-field__label" for="emission-exp-n">Exponent Rate Denominator (n, { 0 < n ≤ 32 })</label>
                    <input class="wizard-field__input" type="number" id="emission-exp-n" placeholder="e.g., 1" min="1" max="32">
                  </div>
                  <div class="field-group">
                    <label class="wizard-field__label" for="emission-exp-d">Divisor (d, { u64 ; d ≠ 0 })</label>
                    <input class="wizard-field__input" type="text" id="emission-exp-d" placeholder="e.g., 1">
                    <span class="field-hint">Cannot be 0</span>
                  </div>
                  <div class="field-group">
                    <label class="wizard-field__label" for="emission-exp-s">Start Period Offset (s, optional, u64)</label>
                    <input class="wizard-field__input" type="text" id="emission-exp-s" placeholder="None">
                    <span class="field-hint">Optional starting period offset</span>
                  </div>
                  <div class="field-group">
                    <label class="wizard-field__label" for="emission-exp-o">Offset (o, i64)</label>
                    <input class="wizard-field__input" type="text" id="emission-exp-o" placeholder="e.g., 0">
                  </div>
                  <div class="field-group">
                    <label class="wizard-field__label" for="emission-exp-b">Base amount (b, u64)</label>
                    <input class="wizard-field__input" type="text" id="emission-exp-b" placeholder="e.g., 100">
                  </div>
                  <div class="field-group">
                    <label class="wizard-field__label" for="emission-exp-min-value">Minimum Emission Value (optional, u64)</label>
                    <input class="wizard-field__input" type="text" id="emission-exp-min-value" placeholder="None">
                    <span class="field-hint">Optional minimum emission value</span>
                  </div>
                  <div class="field-group">
                    <label class="wizard-field__label" for="emission-exp-max-value">Maximum Emission Value (optional, u64)</label>
                    <input class="wizard-field__input" type="text" id="emission-exp-max-value" placeholder="None">
                    <span class="field-hint">Optional maximum emission value</span>
                  </div>
                </div>

                <!-- Linear Option -->
                <label class="wizard-choice">
                  <input class="wizard-choice__input" type="radio" name="emission-type" value="linear" data-toggle-panel="emission-panel-linear">
                  <span class="wizard-choice__content">
                    <span class="wizard-choice__title">Linear</span>
                    <span class="wizard-choice__hint">Amount increases or decreases gradually</span>
                  </span>
                </label>
                <div class="distribution-inline-panel" id="emission-panel-linear" hidden>
                  <div class="field-group">
                    <label class="wizard-field__label" for="emission-linear-slope-numerator">Slope Numerator (a, { -255 ≤ a ≤ 256 })</label>
                    <input class="wizard-field__input" type="number" id="emission-linear-slope-numerator" placeholder="e.g., 1" min="-255" max="256">
                  </div>
                  <div class="field-group">
                    <label class="wizard-field__label" for="emission-linear-slope-divisor">Slope Divisor (d, u64)</label>
                    <input class="wizard-field__input" type="text" id="emission-linear-slope-divisor" placeholder="e.g., 1">
                  </div>
                  <div class="field-group">
                    <label class="wizard-field__label" for="emission-linear-start-step">Start Step (s, i64, optional)</label>
                    <input class="wizard-field__input" type="text" id="emission-linear-start-step" placeholder="None">
                    <span class="field-hint">Optional starting step value</span>
                  </div>
                  <div class="field-group">
                    <label class="wizard-field__label" for="emission-linear-starting-amount">Starting Amount (b, i64)</label>
                    <input class="wizard-field__input" type="text" id="emission-linear-starting-amount" placeholder="e.g., 100">
                  </div>
                  <div class="field-group">
                    <label class="wizard-field__label" for="emission-linear-min-value">Minimum Emission Value (optional)</label>
                    <input class="wizard-field__input" type="text" id="emission-linear-min-value" placeholder="None">
                    <span class="field-hint">Optional minimum emission value</span>
                  </div>
                  <div class="field-group">
                    <label class="wizard-field__label" for="emission-linear-max-value">Maximum Emission Value (optional)</label>
                    <input class="wizard-field__input" type="text" id="emission-linear-max-value" placeholder="None">
                    <span class="field-hint">Optional maximum emission value</span>
                  </div>
                </div>

                <!-- Random Option -->
                <label class="wizard-choice">
                  <input class="wizard-choice__input" type="radio" name="emission-type" value="random" data-toggle-panel="emission-panel-random">
                  <span class="wizard-choice__content">
                    <span class="wizard-choice__title">Random</span>
                    <span class="wizard-choice__hint">Random amount within a range (gamified rewards)</span>
                  </span>
                </label>
                <div class="distribution-inline-panel" id="emission-panel-random" hidden>
                  <div class="field-group">
                    <label class="wizard-field__label" for="emission-random-min">Minimum amount</label>
                    <input class="wizard-field__input" type="text" id="emission-random-min" placeholder="e.g., 50">
                  </div>
                  <div class="field-group">
                    <label class="wizard-field__label" for="emission-random-max">Maximum amount</label>
                    <input class="wizard-field__input" type="text" id="emission-random-max" placeholder="e.g., 150">
                    <span class="field-hint">Each release will be a random value between min and max</span>
                  </div>
                </div>

                <!-- Step Decreasing Option -->
                <label class="wizard-choice">
                  <input class="wizard-choice__input" type="radio" name="emission-type" value="step-decreasing" data-toggle-panel="emission-panel-step-decreasing">
                  <span class="wizard-choice__content">
                    <span class="wizard-choice__title">Step Decreasing</span>
                    <span class="wizard-choice__hint">Amount decreases in steps (like Bitcoin halving)</span>
                  </span>
                </label>
                <div class="distribution-inline-panel" id="emission-panel-step-decreasing" hidden>
                  <div class="field-group">
                    <label class="wizard-field__label" for="emission-step-count">Step Count</label>
                    <input class="wizard-field__input" type="number" id="emission-step-count" placeholder="e.g., 4" min="1">
                    <span class="field-hint">Number of emissions before decreasing</span>
                  </div>
                  <div class="field-group">
                    <label class="wizard-field__label" for="emission-step-numerator">Decrease per Interval Numerator (n < 65,536)</label>
                    <input class="wizard-field__input" type="number" id="emission-step-numerator" placeholder="e.g., 1" min="0" max="65535">
                  </div>
                  <div class="field-group">
                    <label class="wizard-field__label" for="emission-step-denominator">Decrease per Interval Denominator (d < 65,536)</label>
                    <input class="wizard-field__input" type="number" id="emission-step-denominator" placeholder="e.g., 2" min="1" max="65535">
                    <span class="field-hint">1/2 = halving, 3/4 = 75% of previous, etc.</span>
                  </div>
                  <div class="field-group">
                    <label class="wizard-field__label" for="emission-step-offset">Start Period Offset (i64, optional)</label>
                    <input class="wizard-field__input" type="text" id="emission-step-offset" placeholder="None">
                    <span class="field-hint">Optional starting period offset</span>
                  </div>
                  <div class="field-group">
                    <label class="wizard-field__label" for="emission-step-start">Initial Token Emission Amount</label>
                    <input class="wizard-field__input" type="text" id="emission-step-start" placeholder="e.g., 1000">
                  </div>
                  <div class="field-group">
                    <label class="wizard-field__label" for="emission-step-min-value">Minimum Emission Value (optional)</label>
                    <input class="wizard-field__input" type="text" id="emission-step-min-value" placeholder="None">
                    <span class="field-hint">Optional minimum emission value</span>
                  </div>
                  <div class="field-group">
                    <label class="wizard-field__label" for="emission-step-max-interval">Maximum Interval Count (optional)</label>
                    <input class="wizard-field__input" type="text" id="emission-step-max-interval" placeholder="None">
                    <span class="field-hint">Optional maximum number of intervals</span>
                  </div>
                  <div class="field-group">
                    <label class="wizard-field__label" for="emission-step-trailing">Trailing Distribution Interval Token Amount</label>
                    <input class="wizard-field__input" type="text" id="emission-step-trailing" placeholder="e.g., 10">
                    <span class="field-hint">Final emission amount after all decreases</span>
                  </div>
                </div>

                <!-- Stepwise Option -->
                <label class="wizard-choice">
                  <input class="wizard-choice__input" type="radio" name="emission-type" value="stepwise" data-toggle-panel="emission-panel-stepwise">
                  <span class="wizard-choice__content">
                    <span class="wizard-choice__title">Stepwise</span>
                    <span class="wizard-choice__hint">Custom amounts at specific intervals</span>
                  </span>
                </label>
                <div class="distribution-inline-panel" id="emission-panel-stepwise" hidden>
                  <div id="stepwise-entries">
                    <div class="field-group stepwise-entry" data-entry-index="0">
                      <label class="wizard-field__label">
                        At interval <input class="wizard-field__input" type="number" name="stepwise-interval" placeholder="0" min="0" style="width: 120px; display: inline-block; margin: 0 var(--space-2);">
                        emit <input class="wizard-field__input" type="text" name="stepwise-amount" placeholder="1000" style="width: 120px; display: inline-block; margin: 0 var(--space-2);"> tokens
                      </label>
                      <button class="wizard-button wizard-button--text wizard-button--sm" type="button" data-remove-stepwise style="margin-left: var(--space-2);">Remove</button>
                    </div>
                  </div>
                  <button class="wizard-button wizard-button--secondary wizard-button--sm" type="button" id="add-stepwise-entry" style="margin-top: var(--space-3);">+ Add Interval</button>
                  <span class="field-hint" style="display: block; margin-top: var(--space-2);">Define custom emission amounts for specific intervals</span>
                </div>

                <!-- Polynomial Option -->
                <label class="wizard-choice">
                  <input class="wizard-choice__input" type="radio" name="emission-type" value="polynomial" data-toggle-panel="emission-panel-polynomial">
                  <span class="wizard-choice__content">
                    <span class="wizard-choice__title">Polynomial</span>
                    <span class="wizard-choice__hint">Complex polynomial curve (advanced)</span>
                  </span>
                </label>
                <div class="distribution-inline-panel" id="emission-panel-polynomial" hidden>
                  <div class="field-group">
                    <label class="wizard-field__label" for="emission-poly-a">Scaling Factor (a, { -255 ≤ a ≤ 256 })</label>
                    <input class="wizard-field__input" type="number" id="emission-poly-a" placeholder="e.g., 1" min="-255" max="256">
                  </div>
                  <div class="field-group">
                    <label class="wizard-field__label" for="emission-poly-m">Exponent Numerator (m, { -8 ≤ m ≤ 8 })</label>
                    <input class="wizard-field__input" type="number" id="emission-poly-m" placeholder="e.g., 2" min="-8" max="8">
                  </div>
                  <div class="field-group">
                    <label class="wizard-field__label" for="emission-poly-n">Exponent Denominator (n, { 0 < n ≤ 32 })</label>
                    <input class="wizard-field__input" type="number" id="emission-poly-n" placeholder="e.g., 1" min="1" max="32">
                  </div>
                  <div class="field-group">
                    <label class="wizard-field__label" for="emission-poly-d">Divisor (d, u64)</label>
                    <input class="wizard-field__input" type="text" id="emission-poly-d" placeholder="e.g., 1">
                  </div>
                  <div class="field-group">
                    <label class="wizard-field__label" for="emission-poly-s">Start Period Offset (s, optional, u64)</label>
                    <input class="wizard-field__input" type="text" id="emission-poly-s" placeholder="None">
                    <span class="field-hint">Optional starting period offset</span>
                  </div>
                  <div class="field-group">
                    <label class="wizard-field__label" for="emission-poly-o">Offset (o, i64)</label>
                    <input class="wizard-field__input" type="text" id="emission-poly-o" placeholder="e.g., 0">
                  </div>
                  <div class="field-group">
                    <label class="wizard-field__label" for="emission-poly-b">Initial Token Emission (b, u64)</label>
                    <input class="wizard-field__input" type="text" id="emission-poly-b" placeholder="e.g., 100">
                  </div>
                  <div class="field-group">
                    <label class="wizard-field__label" for="emission-poly-min-value">Minimum Emission Value (optional, u64)</label>
                    <input class="wizard-field__input" type="text" id="emission-poly-min-value" placeholder="None">
                    <span class="field-hint">Optional minimum emission value</span>
                  </div>
                  <div class="field-group">
                    <label class="wizard-field__label" for="emission-poly-max-value">Maximum Emission Value (optional, u64)</label>
                    <input class="wizard-field__input" type="text" id="emission-poly-max-value" placeholder="None">
                    <span class="field-hint">Optional maximum emission value</span>
                  </div>
                </div>

                <!-- Logarithmic Option -->
                <label class="wizard-choice">
                  <input class="wizard-choice__input" type="radio" name="emission-type" value="logarithmic" data-toggle-panel="emission-panel-logarithmic">
                  <span class="wizard-choice__content">
                    <span class="wizard-choice__title">Logarithmic</span>
                    <span class="wizard-choice__hint">Diminishing emission rate over time</span>
                  </span>
                </label>
                <div class="distribution-inline-panel" id="emission-panel-logarithmic" hidden>
                  <div class="field-group">
                    <label class="wizard-field__label" for="emission-log-a">Scaling Factor (a, i64, { -32_766 ≤ a ≤ 32_767 })</label>
                    <input class="wizard-field__input" type="number" id="emission-log-a" placeholder="e.g., 100" min="-32766" max="32767">
                  </div>
                  <div class="field-group">
                    <label class="wizard-field__label" for="emission-log-d">Divisor (d, u64)</label>
                    <input class="wizard-field__input" type="text" id="emission-log-d" placeholder="e.g., 1">
                  </div>
                  <div class="field-group">
                    <label class="wizard-field__label" for="emission-log-m">Exponent Numerator (m, u64)</label>
                    <input class="wizard-field__input" type="text" id="emission-log-m" placeholder="e.g., 1">
                  </div>
                  <div class="field-group">
                    <label class="wizard-field__label" for="emission-log-n">Exponent Denominator (n, u64)</label>
                    <input class="wizard-field__input" type="text" id="emission-log-n" placeholder="e.g., 1">
                  </div>
                  <div class="field-group">
                    <label class="wizard-field__label" for="emission-log-s">Start Period Offset (s, optional, u64)</label>
                    <input class="wizard-field__input" type="text" id="emission-log-s" placeholder="None">
                    <span class="field-hint">Optional starting period offset</span>
                  </div>
                  <div class="field-group">
                    <label class="wizard-field__label" for="emission-log-o">Offset (o, i64)</label>
                    <input class="wizard-field__input" type="text" id="emission-log-o" placeholder="e.g., 0">
                  </div>
                  <div class="field-group">
                    <label class="wizard-field__label" for="emission-log-b">Base Amount (b, u64)</label>
                    <input class="wizard-field__input" type="text" id="emission-log-b" placeholder="e.g., 100">
                  </div>
                  <div class="field-group">
                    <label class="wizard-field__label" for="emission-log-min-value">Minimum Emission Value (optional, u64)</label>
                    <input class="wizard-field__input" type="text" id="emission-log-min-value" placeholder="None">
                    <span class="field-hint">Optional minimum emission value</span>
                  </div>
                  <div class="field-group">
                    <label class="wizard-field__label" for="emission-log-max-value">Maximum Emission Value (optional, u64)</label>
                    <input class="wizard-field__input" type="text" id="emission-log-max-value" placeholder="None">
                    <span class="field-hint">Optional maximum emission value</span>
                  </div>
                </div>

                <!-- Inverted Logarithmic Option -->
                <label class="wizard-choice">
                  <input class="wizard-choice__input" type="radio" name="emission-type" value="inverted-logarithmic" data-toggle-panel="emission-panel-inverted-logarithmic">
                  <span class="wizard-choice__content">
                    <span class="wizard-choice__title">Inverted Logarithmic</span>
                    <span class="wizard-choice__hint">Increasing emission rate that levels off</span>
                  </span>
                </label>
                <div class="distribution-inline-panel" id="emission-panel-inverted-logarithmic" hidden>
                  <div class="field-group">
                    <label class="wizard-field__label" for="emission-invlog-a">Scaling Factor (a, i64, { -32_766 ≤ a ≤ 32_767 })</label>
                    <input class="wizard-field__input" type="number" id="emission-invlog-a" placeholder="e.g., 100" min="-32766" max="32767">
                  </div>
                  <div class="field-group">
                    <label class="wizard-field__label" for="emission-invlog-d">Divisor (d, u64)</label>
                    <input class="wizard-field__input" type="text" id="emission-invlog-d" placeholder="e.g., 1">
                  </div>
                  <div class="field-group">
                    <label class="wizard-field__label" for="emission-invlog-m">Exponent Numerator (m, u64)</label>
                    <input class="wizard-field__input" type="text" id="emission-invlog-m" placeholder="e.g., 1">
                  </div>
                  <div class="field-group">
                    <label class="wizard-field__label" for="emission-invlog-n">Exponent Denominator (n, u64)</label>
                    <input class="wizard-field__input" type="text" id="emission-invlog-n" placeholder="e.g., 1">
                  </div>
                  <div class="field-group">
                    <label class="wizard-field__label" for="emission-invlog-s">Start Period Offset (s, optional, u64)</label>
                    <input class="wizard-field__input" type="text" id="emission-invlog-s" placeholder="None">
                    <span class="field-hint">Optional starting period offset</span>
                  </div>
                  <div class="field-group">
                    <label class="wizard-field__label" for="emission-invlog-o">Offset (o, i64)</label>
                    <input class="wizard-field__input" type="text" id="emission-invlog-o" placeholder="e.g., 0">
                  </div>
                  <div class="field-group">
                    <label class="wizard-field__label" for="emission-invlog-b">Base Amount (b, u64)</label>
                    <input class="wizard-field__input" type="text" id="emission-invlog-b" placeholder="e.g., 100">
                  </div>
                  <div class="field-group">
                    <label class="wizard-field__label" for="emission-invlog-min-value">Minimum Emission Value (optional, u64)</label>
                    <input class="wizard-field__input" type="text" id="emission-invlog-min-value" placeholder="None">
                    <span class="field-hint">Optional minimum emission value</span>
                  </div>
                  <div class="field-group">
                    <label class="wizard-field__label" for="emission-invlog-max-value">Maximum Emission Value (optional, u64)</label>
                    <input class="wizard-field__input" type="text" id="emission-invlog-max-value" placeholder="None">
                    <span class="field-hint">Optional maximum emission value</span>
                  </div>
                </div>
              </fieldset>
            </div>
          </div>

          <!-- Distribution Recipient Section -->
          <div class="form-card">
            <div class="form-card__header">
              <h3 class="form-card__title">Distribution Recipient</h3>
              <p class="form-card__description">Choose who receives the distributed tokens</p>
            </div>
            <div class="form-card__body">
              <fieldset class="wizard-fieldset">
                <legend class="wizard-field__label">Recipient type</legend>

                <!-- Contract Owner Option -->
                <label class="wizard-choice">
                  <input class="wizard-choice__input" type="radio" name="recipient-type" value="contract-owner" checked>
                  <span class="wizard-choice__content">
                    <span class="wizard-choice__title">Contract Owner</span>
                    <span class="wizard-choice__hint">Tokens go to the contract owner (you)</span>
                  </span>
                </label>

                <!-- Specific Identity Option -->
                <label class="wizard-choice">
                  <input class="wizard-choice__input" type="radio" name="recipient-type" value="identity" data-toggle-panel="recipient-panel-identity">
                  <span class="wizard-choice__content">
                    <span class="wizard-choice__title">Specific Identity</span>
                    <span class="wizard-choice__hint">Tokens go to a specific Dash Platform identity</span>
                  </span>
                </label>
                <div class="distribution-inline-panel" id="recipient-panel-identity" hidden>
                  <div class="field-group">
                    <label class="wizard-field__label" for="recipient-identity-id">Identity ID</label>
                    <input class="wizard-field__input" type="text" id="recipient-identity-id" placeholder="e.g., 4hKFP3mFB9vku8VJKcZvwVN123...">
                    <span class="field-hint">The Dash Platform identity that will receive tokens</span>
                  </div>
                </div>
              </fieldset>
            </div>
          </div>

          <p class="wizard-field__message" id="distribution-emission-message" role="status" aria-live="polite"></p>
          <div class="wizard-actions wizard-actions--between wizard-actions--sticky">
            <button class="wizard-button wizard-button--secondary" type="button" data-step-back="distribution-emission">← Back</button>
            <button class="wizard-button wizard-button--secondary" type="button" id="contract-preview-btn">📄 Contract Preview</button>
            <button class="wizard-button wizard-button--primary" id="distribution-emission-next" type="submit" disabled>Continue →</button>
          </div>
        </form>
      </div>
    </section>

        <!-- Advanced: History Sub-step -->
        <section class="wizard-screen" id="screen-advanced-history" data-step="advanced" data-substep="advanced-history" data-tab="token" hidden>

      <!-- Right Side Guide Panel -->
      <aside class="page-guide" aria-label="Page guide">
        <div class="page-guide__content">
          <h2 class="page-guide__title">History Tracking</h2>
          <p class="page-guide__intro">Configure which token operations should be tracked and queryable.</p>

          <div class="page-guide__section">
            <h3 class="page-guide__section-title">Step-by-step guide</h3>
            <ol class="page-guide__steps">
              <li>
                <strong>Choose What to Track</strong>
                <p>Select which operations you want to maintain a permanent, searchable history for.</p>
              </li>
              <li>
                <strong>Consider Storage Costs</strong>
                <p>More tracking means more on-chain data storage requirements.</p>
              </li>
            </ol>
          </div>

          <div class="page-guide__tip">
            <strong>💡 Pro Tip</strong>
            Tracking transfers and mints is recommended for transparency and auditing purposes.
          </div>
        </div>
      </aside>

      <div class="wizard-screen__inner">
        <form class="wizard-form" id="advanced-history-form" novalidate>
          <h1 class="wizard-screen__title" id="title-advanced-history" tabindex="-1">What history would you like to track?</h1>
          <p class="wizard-screen__subtitle">Enable queryable history tracking for specific token operations.</p>

          <!-- History Tracking Card -->
          <div class="form-card">
            <div class="form-card__header">
              <h3 class="form-card__title">History Tracking Options</h3>
              <p class="form-card__description">Choose which operations to maintain a permanent, searchable record for</p>
            </div>
            <div class="form-card__body">
              <div class="field-group" style="margin-bottom: var(--space-4);">
                <label class="wizard-checkbox" for="history-transfers">
                  <input class="wizard-checkbox__input" type="checkbox" id="history-transfers" name="history-transfers" checked>
                  <span class="wizard-checkbox__label">
                    <span class="wizard-checkbox__title">Would you like to keep a queryable history of transfers?</span>
                    <span class="wizard-checkbox__hint">Track all token transfers between addresses for transparency and audit trails</span>
                  </span>
                </label>
              </div>

              <div class="field-group" style="margin-bottom: var(--space-4);">
                <label class="wizard-checkbox" for="history-freezes">
                  <input class="wizard-checkbox__input" type="checkbox" id="history-freezes" name="history-freezes" checked>
                  <span class="wizard-checkbox__label">
                    <span class="wizard-checkbox__title">Would you like to keep a queryable history of freezes and unfreezes?</span>
                    <span class="wizard-checkbox__hint">Track when token balances are frozen or unfrozen for compliance and security records</span>
                  </span>
                </label>
              </div>

              <div class="field-group" style="margin-bottom: var(--space-4);">
                <label class="wizard-checkbox" for="history-mints">
                  <input class="wizard-checkbox__input" type="checkbox" id="history-mints" name="history-mints" checked>
                  <span class="wizard-checkbox__label">
                    <span class="wizard-checkbox__title">Would you like to keep a queryable history of mints?</span>
                    <span class="wizard-checkbox__hint">Track all token minting operations to maintain a complete supply creation record</span>
                  </span>
                </label>
              </div>

              <div class="field-group" style="margin-bottom: var(--space-4);">
                <label class="wizard-checkbox" for="history-burns">
                  <input class="wizard-checkbox__input" type="checkbox" id="history-burns" name="history-burns" checked>
                  <span class="wizard-checkbox__label">
                    <span class="wizard-checkbox__title">Would you like to keep a queryable history of burns?</span>
                    <span class="wizard-checkbox__hint">Track all token burning operations to document supply reduction events</span>
                  </span>
                </label>
              </div>

              <div class="field-group" style="margin-bottom: var(--space-4);">
                <label class="wizard-checkbox" for="history-pricing-changes">
                  <input class="wizard-checkbox__input" type="checkbox" id="history-pricing-changes" name="history-pricing-changes" checked>
                  <span class="wizard-checkbox__label">
                    <span class="wizard-checkbox__title">Would you like to keep a queryable history of direct-pricing changes?</span>
                    <span class="wizard-checkbox__hint">Track when token pricing is modified for marketplace and valuation transparency</span>
                  </span>
                </label>
              </div>

              <div class="field-group">
                <label class="wizard-checkbox" for="history-purchases">
                  <input class="wizard-checkbox__input" type="checkbox" id="history-purchases" name="history-purchases" checked>
                  <span class="wizard-checkbox__label">
                    <span class="wizard-checkbox__title">Would you like to keep a queryable history of direct purchases?</span>
                    <span class="wizard-checkbox__hint">Track all direct token purchases for transaction records and revenue reporting</span>
                  </span>
                </label>
              </div>
            </div>
          </div>

          <p class="wizard-field__message" id="advanced-history-message" role="status" aria-live="polite"></p>
          <div class="wizard-actions wizard-actions--between wizard-actions--sticky">
            <button class="wizard-button wizard-button--secondary" type="button" data-step-back="advanced">← Back</button>
            <button class="wizard-button wizard-button--secondary" type="button" id="contract-preview-btn">📄 Contract Preview</button>
            <button class="wizard-button wizard-button--primary" id="advanced-history-next" type="submit">Continue →</button>
          </div>
        </form>
      </div>
    </section>

        <!-- Advanced: Trading Rules Sub-step -->
        <section class="wizard-screen" id="screen-advanced" data-step="advanced" data-substep="advanced" data-tab="token" hidden>

      <!-- Right Side Guide Panel -->
      <aside class="page-guide" aria-label="Page guide">
        <div class="page-guide__content">
          <h2 class="page-guide__title">Trading & Marketplace</h2>
          <p class="page-guide__intro">Control how users can transfer and trade your tokens.</p>

          <div class="page-guide__section">
            <h3 class="page-guide__section-title">Step-by-step guide</h3>
            <ol class="page-guide__steps">
              <li>
                <strong>Choose Trade Mode</strong>
                <p>Permissionless = anyone can trade freely. Approval required = you approve each trade.</p>
              </li>
              <li>
                <strong>Set Marketplace Rules</strong>
                <p>Allow or restrict trading on decentralized exchanges.</p>
              </li>
            </ol>
          </div>

          <div class="page-guide__tip">
            <strong>💡 Pro Tip</strong>
            Most tokens use permissionless trading. Only restrict if you have regulatory or security needs.
          </div>
        </div>
      </aside>

      <div class="wizard-screen__inner">
        <form class="wizard-form" id="advanced-form" novalidate>
          <h1 class="wizard-screen__title" id="title-advanced" tabindex="-1">Would you like your token to be tradeable when the feature is turned on on the Dash Evolution blockchain?</h1>
          <p class="wizard-screen__subtitle">Choose the trading permissions that work best for your use case.</p>

          <!-- Trading Rules Card -->
          <div class="form-card">
            <div class="form-card__header">
              <h3 class="form-card__title">Trading Permissions</h3>
              <p class="form-card__description">Control who can transfer and trade your token</p>
            </div>
            <div class="form-card__body">
              <fieldset class="wizard-fieldset">
                <legend class="wizard-field__label">
                  Who can change our token to being tradeable?
                </legend>
                <label class="wizard-choice">
                  <input class="wizard-choice__input" type="radio" name="trade-mode" id="advanced-trade-mode-permissionless" value="permissionless" checked>
                  <span class="wizard-choice__content">
                    <span class="wizard-choice__title">Anyone (permissionless)</span>
                    <span class="wizard-choice__hint">Free trading for everyone • Most common choice</span>
                  </span>
                </label>
                <label class="wizard-choice">
                  <input class="wizard-choice__input" type="radio" name="trade-mode" id="advanced-trade-mode-approval" value="approvalRequired">
                  <span class="wizard-choice__content">
                    <span class="wizard-choice__title">Approval required</span>
                    <span class="wizard-choice__hint">Trades need your permission • Good for controlled access</span>
                  </span>
                </label>
                <label class="wizard-choice">
                  <input class="wizard-choice__input" type="radio" name="trade-mode" id="advanced-trade-mode-closed" value="closed">
                  <span class="wizard-choice__content">
                    <span class="wizard-choice__title">No trading (closed)</span>
                    <span class="wizard-choice__hint">Trading disabled • For internal use only</span>
                  </span>
                </label>
              </fieldset>
              <input type="hidden" id="advanced-trade-mode" name="advanced-trade-mode" value="permissionless">
            </div>
          </div>

          <p class="wizard-field__message" id="advanced-message" role="status" aria-live="polite"></p>
          <div class="wizard-actions wizard-actions--between wizard-actions--sticky">
            <button class="wizard-button wizard-button--secondary" type="button" data-step-back="advanced">← Back</button>
            <button class="wizard-button wizard-button--secondary" type="button" id="contract-preview-btn">📄 Contract Preview</button>
            <button class="wizard-button wizard-button--primary" id="advanced-next" type="submit">Continue →</button>
          </div>
        </form>
      </div>
    </section>

        <!-- Advanced: Launch Settings Sub-step -->
        <section class="wizard-screen" id="screen-advanced-launch" data-step="advanced" data-substep="advanced-launch" data-tab="token" hidden>

      <!-- Right Side Guide Panel -->
      <aside class="page-guide" aria-label="Page guide">
        <div class="page-guide__content">
          <h2 class="page-guide__title">Launch Settings</h2>
          <p class="page-guide__intro">Control the initial state of your token when it's deployed.</p>

          <div class="page-guide__section">
            <h3 class="page-guide__section-title">Step-by-step guide</h3>
            <ol class="page-guide__steps">
              <li>
                <strong>Choose Initial State</strong>
                <p>Decide if your token should start in a paused state or be active immediately.</p>
              </li>
              <li>
                <strong>Review Implications</strong>
                <p>Starting paused gives you time to verify everything before activation.</p>
              </li>
            </ol>
          </div>

          <div class="page-guide__tip">
            <strong>💡 Pro Tip</strong>
            Starting paused is recommended for complex tokens to ensure all settings are correct before activation.
          </div>
        </div>
      </aside>

      <div class="wizard-screen__inner">
        <form class="wizard-form" id="advanced-launch-form" novalidate>
          <h1 class="wizard-screen__title" id="title-advanced-launch" tabindex="-1">How should your token launch?</h1>
          <p class="wizard-screen__subtitle">Configure the initial state of your token when it's deployed.</p>

          <!-- Launch Settings Card -->
          <div class="form-card">
            <div class="form-card__header">
              <h3 class="form-card__title">Initial State</h3>
              <p class="form-card__description">Control whether your token starts active or paused</p>
            </div>
            <div class="form-card__body">
              <div class="field-group">
                <label class="wizard-checkbox" for="permissions-start-paused">
                  <input class="wizard-checkbox__input" type="checkbox" id="permissions-start-paused" name="permissions-start-paused">
                  <span class="wizard-checkbox__label">
                    Start as paused
                  </span>
                </label>
                <span class="field-hint" style="margin-top: 0.5rem; display: block;">By enabling 'Start as Paused', your token enters a blocked state from the moment it is created. In that state, no operations—including transfers, minting, burning or account updates—can occur until you (or the designated pause-key holder) decide to unpause the contract. This extra layer of control adds security, giving you the chance to review and validate all settings before the token becomes active.</span>
              </div>
            </div>
          </div>

          <p class="wizard-field__message" id="advanced-launch-message" role="status" aria-live="polite"></p>
          <div class="wizard-actions wizard-actions--between wizard-actions--sticky">
            <button class="wizard-button wizard-button--secondary" type="button" data-step-back="advanced">← Back</button>
            <button class="wizard-button wizard-button--secondary" type="button" id="contract-preview-btn">📄 Contract Preview</button>
            <button class="wizard-button wizard-button--primary" id="advanced-launch-next" type="submit">Continue →</button>
          </div>
        </form>
      </div>
    </section>

        <!-- Document Tab Screen -->
        <section class="wizard-screen" id="screen-document" data-step="document" data-tab="document" hidden>
      <div class="wizard-screen__inner">
        <div class="wizard-form">
          <h1 class="wizard-screen__title" id="title-document" tabindex="-1">Document Types</h1>
          <p class="wizard-screen__subtitle">Define custom document types for your token's data contract.</p>

          <!-- Info Card -->
          <div class="form-card form-card--highlight">
            <div class="form-card__body">
              <p><strong>What are document types?</strong></p>
              <p>Document types define the structure of data that can be stored with your token on the Dash Platform. Each document type is a JSON Schema that specifies the fields and their properties.</p>
              <p style="margin-bottom: 0;"><strong>Examples:</strong> NFT metadata • User profiles • Transaction records • Custom data structures</p>
            </div>
          </div>

          <!-- Document Types List -->
          <div class="form-card">
            <div class="form-card__header">
              <h3 class="form-card__title">Defined Document Types</h3>
              <p class="form-card__description">Manage your custom document schemas</p>
            </div>
            <div class="form-card__body">
              <div id="document-types-list" class="document-types-list">
                <p class="wizard-subsection__hint" id="document-types-empty">No document types defined yet. Click "Add Document Type" to create one.</p>
              </div>
              <button class="wizard-button wizard-button--secondary" type="button" id="document-type-add" style="margin-top: var(--space-4);">+ Add Document Type</button>
            </div>
          </div>

          <!-- Add/Edit Document Type Modal -->
          <div class="document-modal" id="document-type-modal" hidden>
            <div class="document-modal__overlay"></div>
            <div class="document-modal__content">
              <div class="document-modal__header">
                <h2 class="document-modal__title" id="document-modal-title">Add Document Type</h2>
                <button class="document-modal__close" type="button" id="document-modal-close" aria-label="Close modal">×</button>
              </div>
              <div class="document-modal__body">
                <form id="document-type-form">
                  <!-- Document Type Name -->
                  <div class="field-group">
                    <label class="wizard-field__label" for="document-type-name">Document Type Name *</label>
                    <input class="wizard-field__input" id="document-type-name" name="document-type-name" type="text" placeholder="e.g., nftMetadata" pattern="[a-zA-Z][a-zA-Z0-9_]*" required>
                    <span class="field-hint">Must start with a letter, can contain letters, numbers, and underscores</span>
                  </div>

                  <!-- JSON Schema -->
                  <div class="field-group">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: var(--space-2);">
                      <label class="wizard-field__label" for="document-type-schema" style="margin-bottom: 0;">JSON Schema *</label>
                      <div style="display: flex; gap: var(--space-2);">
                        <button class="wizard-button wizard-button--text wizard-button--small" type="button" id="document-schema-sample">📄 Sample</button>
                        <button class="wizard-button wizard-button--text wizard-button--small" type="button" id="document-schema-paste">📋 Paste</button>
                        <button class="wizard-button wizard-button--text wizard-button--small" type="button" id="document-schema-format">✨ Format</button>
                        <button class="wizard-button wizard-button--text wizard-button--small" type="button" id="document-schema-clear">🗑️ Clear</button>
                      </div>
                    </div>
                    <textarea class="wizard-field__input wizard-field__input--code" id="document-type-schema" name="document-type-schema" rows="16" placeholder='Paste a document schema here or click "Sample" for an example...' required></textarea>
                    <div class="field-hint" style="background: var(--color-info-light); padding: var(--space-3); border-radius: var(--radius-sm); border-left: 3px solid var(--color-info);">
                      <strong>📝 Document Schema Requirements:</strong>
                      <ul style="margin: var(--space-2) 0 0 var(--space-4); padding: 0;">
                        <li>Must have <code>"type": "object"</code> at the root</li>
                        <li>Must have a <code>"properties"</code> object with at least one field</li>
                        <li>Each property needs <code>"type"</code> and <code>"position"</code> (number)</li>
                        <li>Must set <code>"additionalProperties": false</code></li>
                      </ul>
                      <p style="margin: var(--space-2) 0 0 0; font-style: italic;">💡 Tip: Click "Sample" to see a complete example, or paste only the document schema (not the entire contract).</p>
                    </div>
                  </div>

                  <p class="wizard-field__message" id="document-type-message" role="status" aria-live="polite"></p>
                </form>
              </div>
              <div class="document-modal__footer">
                <button class="wizard-button wizard-button--secondary" type="button" id="document-modal-cancel">Cancel</button>
                <button class="wizard-button wizard-button--primary" type="button" id="document-modal-save">Save Document Type</button>
              </div>
            </div>
          </div>

        </div>
      </div>
    </section>

    <!-- Overview Screen -->
    <section class="wizard-screen" id="screen-overview" data-step="overview" data-tab="document" hidden>
      <div class="wizard-screen__inner">
        <h1 class="wizard-screen__title" id="title-overview" tabindex="-1">Review Your Token Configuration</h1>
        <p class="wizard-screen__subtitle">Review all settings before publishing to the Dash Platform</p>

        <!-- Configuration Overview -->
        <div class="form-card">
          <div class="form-card__header">
            <h3 class="form-card__title">Configuration Summary</h3>
            <p class="form-card__description">All your token settings at a glance</p>
          </div>
          <div class="form-card__body">
            <div class="config-overview" id="config-overview">
              <div class="config-overview__item">
                <span class="config-overview__label">Token Name:</span>
                <span class="config-overview__value" id="overview-token-name">—</span>
              </div>
              <div class="config-overview__item">
                <span class="config-overview__label">Decimals:</span>
                <span class="config-overview__value" id="overview-decimals">—</span>
              </div>
              <div class="config-overview__item">
                <span class="config-overview__label">Base Supply:</span>
                <span class="config-overview__value" id="overview-base-supply">—</span>
              </div>
              <div class="config-overview__item">
                <span class="config-overview__label">Max Supply:</span>
                <span class="config-overview__value" id="overview-max-supply">—</span>
              </div>
              <div class="config-overview__item">
                <span class="config-overview__label">Action Preset:</span>
                <span class="config-overview__value" id="overview-action-preset">—</span>
              </div>
              <div class="config-overview__item">
                <span class="config-overview__label">Localizations:</span>
                <span class="config-overview__value" id="overview-localizations">—</span>
              </div>
              <div class="config-overview__item">
                <span class="config-overview__label">Document Types:</span>
                <span class="config-overview__value" id="overview-document-types">—</span>
              </div>
              <div class="config-overview__item">
                <span class="config-overview__label">Groups:</span>
                <span class="config-overview__value" id="overview-groups">—</span>
              </div>
              <div class="config-overview__item">
                <span class="config-overview__label">Distribution:</span>
                <span class="config-overview__value" id="overview-distribution">—</span>
              </div>
            </div>
          </div>
        </div>

        <!-- Navigation Buttons -->
        <div class="wizard-actions wizard-actions--between wizard-actions--sticky">
          <button class="wizard-button wizard-button--secondary" type="button" id="overview-back" data-step-back="overview">← Back</button>
          <button class="wizard-button wizard-button--secondary" type="button" id="contract-preview-btn">📄 Contract Preview</button>
          <button class="wizard-button wizard-button--primary" type="button" id="overview-next">Continue →</button>
        </div>
      </div>
    </section>

    <!-- Review Screen -->
    <section class="wizard-screen" id="screen-review" data-step="review" data-tab="token" hidden>

      <!-- Right Side Guide Panel -->
      <aside class="page-guide" aria-label="Page guide">
        <div class="page-guide__content">
          <h2 class="page-guide__title">Review & Verify</h2>
          <p class="page-guide__intro">Carefully review all settings before deployment. Some settings cannot be changed later.</p>

          <div class="page-guide__section">
            <h3 class="page-guide__section-title">What to Check</h3>
            <ol class="page-guide__steps">
              <li>
                <strong>Verify Token Details</strong>
                <p>Double-check name, symbol, and supply amounts.</p>
              </li>
              <li>
                <strong>Review Permissions</strong>
                <p>Confirm who can mint, burn, and freeze tokens.</p>
              </li>
              <li>
                <strong>Check Distribution</strong>
                <p>Verify emission schedule and recipients if enabled.</p>
              </li>
            </ol>
          </div>

          <div class="page-guide__tip">
            <strong>⚠️ Important</strong>
            Settings marked as "Permanent" cannot be changed after deployment. Review them carefully.
          </div>
        </div>
      </aside>

      <div class="wizard-screen__inner">
        <h1 class="wizard-screen__title" id="title-review" tabindex="-1">Review Your Token Configuration</h1>
        <p class="wizard-screen__subtitle">Verify all settings before deploying to Dash Platform</p>

        <!-- Review Grid -->
        <div class="review-grid">

          <!-- Token Basics Card -->
          <div class="review-card">
            <div class="review-card__header">
              <h3 class="review-card__title">Token Basics</h3>
              <span class="review-card__badge review-card__badge--permanent">Permanent</span>
            </div>
            <dl class="review-card__list">
              <div class="review-card__item">
                <dt>Name:</dt>
                <dd id="review-name">—</dd>
              </div>
              <div class="review-card__item">
                <dt>Symbol:</dt>
                <dd id="review-symbol">—</dd>
              </div>
              <div class="review-card__item">
                <dt>Decimals:</dt>
                <dd id="review-decimals">—</dd>
              </div>
            </dl>
            <div class="review-annotation review-annotation--warning">
              ⚠️ These values are <strong>permanent</strong> and cannot be changed after deployment
            </div>
          </div>

          <!-- Supply Configuration Card -->
          <div class="review-card">
            <div class="review-card__header">
              <h3 class="review-card__title">Supply Configuration</h3>
              <span class="review-card__badge review-card__badge--permanent">Permanent</span>
            </div>
            <dl class="review-card__list">
              <div class="review-card__item">
                <dt>Initial Supply:</dt>
                <dd id="review-base-supply">—</dd>
              </div>
              <div class="review-card__item">
                <dt>Maximum Supply:</dt>
                <dd id="review-max-supply">—</dd>
              </div>
              <div class="review-card__item">
                <dt>Start Paused:</dt>
                <dd id="review-start-paused">—</dd>
              </div>
            </dl>
            <div class="review-annotation review-annotation--warning">
              ⚠️ Maximum supply cap is <strong>permanent</strong> and cannot be increased later
            </div>
          </div>

          <!-- Permissions Card -->
          <div class="review-card">
            <div class="review-card__header">
              <h3 class="review-card__title">Token Permissions</h3>
            </div>
            <dl class="review-card__list">
              <div class="review-card__item">
                <dt>Mint Tokens:</dt>
                <dd id="review-mint-permission">—</dd>
              </div>
              <div class="review-card__item">
                <dt>Burn Tokens:</dt>
                <dd id="review-burn-permission">—</dd>
              </div>
              <div class="review-card__item">
                <dt>Freeze Balances:</dt>
                <dd id="review-freeze-permission">—</dd>
              </div>
              <div class="review-card__item">
                <dt>Emergency Pause:</dt>
                <dd id="review-emergency-permission">—</dd>
              </div>
            </dl>
          </div>

          <!-- Distribution Card (Conditional) -->
          <div class="review-card" id="review-distribution-card" hidden>
            <div class="review-card__header">
              <h3 class="review-card__title">Distribution Schedule</h3>
            </div>
            <div class="review-card__preview">
              <div class="distribution-preview">
                <div class="distribution-preview__item">
                  <span class="distribution-preview__label">First Distribution:</span>
                  <span class="distribution-preview__value" id="review-first-distribution">—</span>
                </div>
                <div class="distribution-preview__item">
                  <span class="distribution-preview__label">Amount Per Release:</span>
                  <span class="distribution-preview__value" id="review-distribution-amount">—</span>
                </div>
                <div class="distribution-preview__item">
                  <span class="distribution-preview__label">Frequency:</span>
                  <span class="distribution-preview__value" id="review-distribution-frequency">—</span>
                </div>
              </div>
            </div>
          </div>

          <!-- Trading Rules Card -->
          <div class="review-card">
            <div class="review-card__header">
              <h3 class="review-card__title">Trading & Marketplace</h3>
            </div>
            <dl class="review-card__list">
              <div class="review-card__item">
                <dt>Trading Mode:</dt>
                <dd id="review-trade-mode">—</dd>
              </div>
            </dl>
          </div>

        </div>

        <!-- Simulation Box -->
        <div class="simulation-box">
          <h3 class="simulation-box__title">📊 What will happen when you deploy?</h3>
          <ul class="simulation-box__list" id="simulation-results">
            <li class="simulation-item">
              <span class="simulation-item__icon">🪙</span>
              <span class="simulation-item__text" id="simulation-creation">—</span>
            </li>
            <li class="simulation-item">
              <span class="simulation-item__icon">👤</span>
              <span class="simulation-item__text" id="simulation-ownership">—</span>
            </li>
            <li class="simulation-item" id="simulation-distribution-item" hidden>
              <span class="simulation-item__icon">📅</span>
              <span class="simulation-item__text" id="simulation-distribution">—</span>
            </li>
            <li class="simulation-item">
              <span class="simulation-item__icon">🔐</span>
              <span class="simulation-item__text" id="simulation-permissions">—</span>
            </li>
          </ul>
        </div>

        <!-- JSON Preview (Collapsible) -->
        <details class="json-preview">
          <summary class="json-preview__summary">
            <span class="json-preview__icon">{ }</span>
            View Generated Contract JSON
            <span class="json-preview__chevron">▼</span>
          </summary>
          <div class="json-preview__content">
            <div class="json-preview__toolbar">
              <button class="json-preview__copy" id="copy-json-btn" type="button">
                <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
                  <path d="M5 2h6a1 1 0 011 1v8a1 1 0 01-1 1H5a1 1 0 01-1-1V3a1 1 0 011-1z" stroke="currentColor" stroke-width="1.5"/>
                  <path d="M3 5v8a2 2 0 002 2h6" stroke="currentColor" stroke-width="1.5"/>
                </svg>
                Copy JSON
              </button>
            </div>
            <pre class="json-preview__code" id="contract-json-preview"></pre>
            <div class="json-annotations">
              <h4 class="json-annotations__title">Understanding the Contract</h4>
              <ul class="json-annotations__list">
                <li><code>token_configuration</code> — Core token settings (name, supply, decimals)</li>
                <li><code>supply_rules</code> — Minting and supply control rules</li>
                <li><code>distribution_rules</code> — Emission schedule and recipient configuration</li>
                <li><code>marketplace_rules</code> — Trading permissions and restrictions</li>
              </ul>
            </div>
          </div>
        </details>

        <!-- Navigation Actions -->
        <div class="wizard-actions wizard-actions--between wizard-actions--sticky">
          <button class="wizard-button wizard-button--secondary" type="button" id="review-back">← Back to Edit</button>
          <button class="wizard-button wizard-button--primary" id="review-continue" type="button">Continue to Registration →</button>
        </div>

      </div>
    </section>

    <!-- Search Ability: Keywords & Description -->
    <section class="wizard-screen" id="screen-search" data-step="search" data-substep="search" data-tab="token" hidden>

      <!-- Right Side Guide Panel -->
      <aside class="page-guide" aria-label="Page guide">
        <div class="page-guide__content">
          <h2 class="page-guide__title">Keywords & Description</h2>
          <p class="page-guide__intro">Help users find and understand your token.</p>

          <div class="page-guide__section">
            <h3 class="page-guide__section-title">Step-by-step guide</h3>
            <ol class="page-guide__steps">
              <li>
                <strong>Write a Description</strong>
                <p>3-200 characters explaining what your token does. Keep it clear and simple.</p>
              </li>
              <li>
                <strong>Add Keywords (Optional)</strong>
                <p>Tags for search/discovery. Example: "rewards", "gaming", "loyalty".</p>
              </li>
            </ol>
          </div>

          <div class="page-guide__tip">
            <strong>💡 Pro Tip</strong>
            Focus on benefits, not features. "Earn rewards for shopping" beats "Loyalty point system".
          </div>
        </div>
      </aside>

      <!-- Main Content -->
      <div class="wizard-screen__inner">
        <form class="wizard-form" id="search-metadata-form" novalidate>
          <h1 class="wizard-screen__title" id="title-search" tabindex="-1">How would you describe your token?</h1>
          <p class="wizard-screen__subtitle">Add a description and keywords to help users discover and understand your token.</p>

          <!-- Description Card -->
          <div class="form-card">
            <div class="form-card__header">
              <h3 class="form-card__title">Description <span class="wizard-badge wizard-badge--optional" style="margin-left: var(--space-2);">Optional</span></h3>
              <p class="form-card__description">A brief explanation of your token's purpose</p>
            </div>
            <div class="form-card__body">
              <div class="field-group">
                <label class="wizard-field__label" for="search-description">Token description</label>
                <textarea class="wizard-field__input" id="search-description" name="search-description" rows="4" minlength="3" maxlength="200" placeholder="e.g., A utility token for accessing premium features in our platform" aria-describedby="search-description-hint"></textarea>
                <span class="field-hint" id="search-description-hint">3-200 characters • Explain what your token is used for and its main purpose</span>
              </div>
            </div>
          </div>

          <!-- Keywords Card -->
          <div class="form-card">
            <div class="form-card__header">
              <h3 class="form-card__title">Keywords <span class="wizard-badge wizard-badge--optional" style="margin-left: var(--space-2);">Optional</span></h3>
              <p class="form-card__description">Tags to improve searchability and categorization</p>
            </div>
            <div class="form-card__body">
              <div class="field-group">
                <label class="wizard-field__label" for="search-keywords">Keywords (comma-separated)</label>
                <input class="wizard-field__input" id="search-keywords" name="search-keywords" type="text" placeholder="e.g., utility, gaming, rewards, governance" aria-describedby="search-keywords-hint search-message">
                <span class="field-hint" id="search-keywords-hint">Separate keywords with commas • Max 50 keywords • Examples: DeFi, NFT, payments, social</span>
              </div>
              <div id="search-keywords-preview" class="keywords-preview" style="margin-top: var(--space-3); display: none;">
                <label class="wizard-field__label" style="margin-bottom: var(--space-2);">Preview:</label>
                <div id="search-keywords-tag-container" class="keywords-tag-container"></div>
              </div>
            </div>
          </div>

          <p class="wizard-field__message" id="search-message" role="status" aria-live="polite"></p>
          <div class="wizard-actions wizard-actions--between wizard-actions--sticky">
            <button class="wizard-button wizard-button--secondary" type="button" data-step-back>← Back</button>
            <button class="wizard-button wizard-button--secondary" type="button" id="contract-preview-btn">📄 Contract Preview</button>
            <button class="wizard-button wizard-button--primary" id="search-next" type="submit">Continue →</button>
          </div>
        </form>
      </div>
    </section>

        <section class="wizard-screen" id="screen-registration" data-step="registration" data-tab="token" hidden>

      <!-- Right Side Guide Panel -->
      <aside class="page-guide" aria-label="Page guide">
        <div class="page-guide__content">
          <h2 class="page-guide__title">Register Your Token</h2>
          <p class="page-guide__intro">Publish your token to the Dash Platform blockchain.</p>

          <div class="page-guide__section">
            <h3 class="page-guide__section-title">Registration Methods</h3>
            <ol class="page-guide__steps">
              <li>
                <strong>Mobile (QR Code)</strong>
                <p>Scan QR with Dash mobile wallet. Easiest for mobile users.</p>
              </li>
              <li>
                <strong>DET (Dash Evo Tool)</strong>
                <p>Export JSON config for command-line tool. For developers.</p>
              </li>
              <li>
                <strong>Self-Service (Browser)</strong>
                <p>Import wallet and register directly. Fastest but requires your recovery phrase.</p>
              </li>
            </ol>
          </div>

          <div class="page-guide__tip">
            <strong>💡 Pro Tip</strong>
            Mobile QR is safest - never enter your recovery phrase in a web browser if possible.
          </div>
        </div>
      </aside>

      <div class="wizard-screen__inner">
        <form class="wizard-form" id="registration-form" novalidate>
          <h1 class="wizard-screen__title" id="title-registration" tabindex="-1">How would you like to register your token?</h1>
          <p class="wizard-screen__subtitle">Choose your preferred method for publishing your token on the Dash Platform.</p>

          <!-- Info Card -->
          <div class="form-card form-card--highlight">
            <div class="form-card__body">
              <p><strong>You're almost done!</strong></p>
              <p style="margin-bottom: 0;">Your token is configured and ready to go. Now you just need to publish it to the Dash Platform. Choose the method that works best for you below.</p>
            </div>
          </div>

          <!-- Registration Methods -->
          <div class="form-card">
            <div class="form-card__header">
              <h3 class="form-card__title">Publication Method</h3>
              <p class="form-card__description">How would you like to publish your token?</p>
            </div>
            <div class="form-card__body">
              <div class="registration-methods" role="radiogroup" aria-labelledby="registration-methods-title">
                <div class="wizard-options registration-methods__options">
                  <label class="wizard-option" data-method="mobile">
                    <input class="wizard-option__input" type="radio" name="registration-method" value="mobile">
                    <span class="wizard-option__body">
                      <span class="wizard-option__header">
                        <span class="wizard-option__title">📱 Mobile App (Recommended)</span>
                        <span class="wizard-option__check" aria-hidden="true"></span>
                      </span>
                      <span class="wizard-option__description">Scan QR codes with your mobile app • Easiest and safest option</span>
                    </span>
                  </label>
                  <label class="wizard-option" data-method="det">
                    <input class="wizard-option__input" type="radio" name="registration-method" value="det">
                    <span class="wizard-option__body">
                      <span class="wizard-option__header">
                        <span class="wizard-option__title">🛠️ Dash Evo Tool (Advanced)</span>
                        <span class="wizard-option__check" aria-hidden="true"></span>
                      </span>
                      <span class="wizard-option__description">Export JSON for the Dash Evo Tool • For developers</span>
                    </span>
                  </label>
                  <label class="wizard-option" data-method="self">
                    <input class="wizard-option__input" type="radio" name="registration-method" value="self">
                    <span class="wizard-option__body">
                      <span class="wizard-option__header">
                        <span class="wizard-option__title">⚠️ Manual (Not Recommended)</span>
                        <span class="wizard-option__check" aria-hidden="true"></span>
                      </span>
                      <span class="wizard-option__description">Import wallet & register identity • Requires technical knowledge</span>
                    </span>
                  </label>
                </div>
              </div>
            </div>
          </div>

          <section class="registration-panel" id="registration-panel-mobile" aria-labelledby="registration-mobile-title" hidden>
            <h2 class="registration-panel__title" id="registration-mobile-title">Mobile (QR Series)</h2>
            <p class="wizard-screen__help">Generate scannable QR codes that include the full registration payload.</p>
            <div class="wizard-inline">
              <button class="wizard-button wizard-button--secondary" type="button" id="qr-preview-button">Generate QR</button>
            </div>
            <div class="wizard-qr" id="qr-preview" hidden>
              <div class="wizard-qr__header">
                <h3 class="wizard-qr__title">QR preview</h3>
              </div>
              <div class="wizard-qr__content" id="qr-preview-content"></div>
              <p class="wizard-qr__hint">Payload is chunked into multiple QR codes for demonstration.</p>
            </div>
          </section>

          <section class="registration-panel" id="registration-panel-det" aria-labelledby="registration-det-title" hidden>
            <h2 class="registration-panel__title" id="registration-det-title">Dash Evo Tool (DET)</h2>
            <p class="wizard-screen__help">Preview the deterministic JSON to import into the Dash Evo Tool.</p>
            <div class="wizard-inline">
              <button class="wizard-button wizard-button--secondary" type="button" id="json-show-button">Show JSON</button>
              <button class="wizard-button wizard-button--secondary" type="button" id="json-copy-button" disabled>Copy JSON</button>
            </div>
            <div class="wizard-json" id="json-preview" hidden>
              <div class="wizard-json__header">
                <h3 class="wizard-json__title">JSON preview</h3>
              </div>
              <pre class="wizard-json__code" id="json-preview-content"></pre>
              <p class="wizard-json__hint">This JSON can be imported into the Dash Evo Tool (DET).</p>
            </div>
          </section>

          <section class="registration-panel" id="registration-panel-self" aria-labelledby="registration-self-title" hidden>
            <h2 class="registration-panel__title" id="registration-self-title">Identity &amp; Private Key (not recommended)</h2>
            <p class="wizard-screen__help">Import a wallet to initialise the Dash JS client, then register an identity. <a class="wizard-link" href="https://docs.dash.org/projects/platform/en/stable/docs/tutorials/identities-and-names/register-an-identity.html#:~:text=Prerequisites" rel="noreferrer" target="_blank">Review the Dash Platform prerequisites</a>.</p>
            <div class="wizard-field">
              <label class="wizard-field__label" for="wallet-file">Wallet JSON file</label>
              <input class="wizard-field__input" id="wallet-file" name="wallet-file" type="file" accept="application/json" aria-describedby="wallet-message wallet-balance-note">
              <p class="wizard-field__hint">Upload JSON that contains a mnemonic or private key.</p>
            </div>
            <div class="wizard-field">
              <label class="wizard-field__label" for="wallet-mnemonic">Wallet mnemonic</label>
              <textarea class="wizard-field__input" id="wallet-mnemonic" name="wallet-mnemonic" rows="3" placeholder="abandon ability able about above ..." aria-describedby="wallet-message wallet-balance-note"></textarea>
              <p class="wizard-field__hint">Enter 12–24 words separated by spaces. Typing a mnemonic clears any imported private key.</p>
            </div>
            <dl class="wallet-insights" aria-live="polite">
              <div class="wallet-insights__item">
                <dt class="wallet-insights__label">Receiving address</dt>
                <dd class="wallet-insights__value" id="wallet-address">—</dd>
              </div>
              <div class="wallet-insights__item">
                <dt class="wallet-insights__label">Balance</dt>
                <dd class="wallet-insights__value" id="wallet-balance">—</dd>
              </div>
            </dl>
            <p class="wizard-hint" id="wallet-balance-note" aria-live="polite">Import a wallet to preview balance and address.</p>
            <p class="wizard-field__message" id="wallet-message" role="status" aria-live="polite"></p>
            <p class="wizard-hint">Identities enable interactions on Dash Platform. <span id="identity-guidance" aria-live="polite">Import a funded wallet before registering an identity.</span> <a class="wizard-link" href="https://docs.dash.org/projects/platform/en/stable/docs/tutorials/identities-and-names/register-an-identity.html#:~:text=const%20createIdentity%20%3D%20async%20,return%20client.platform.identities.register%28%29%3B" rel="noreferrer" target="_blank">Read the identity docs</a>.</p>
            <div class="wizard-inline">
              <button class="wizard-button wizard-button--secondary" type="button" id="identity-register">Register Identity</button>
            </div>
            <div class="wizard-field">
              <label class="wizard-field__label" for="identity-id">Identity ID</label>
              <textarea class="wizard-field__input" id="identity-id" name="identity-id" rows="2" placeholder="Identity ID" readonly aria-describedby="identity-message identity-guidance"></textarea>
              <p class="wizard-field__hint">The identifier returned by Dash Platform after registration.</p>
            </div>
            <p class="wizard-field__message" id="identity-message" role="status" aria-live="polite"></p>
            <div class="registration-self-warning">
              <label class="wizard-checkbox" for="self-warning-checkbox">
                <input class="wizard-checkbox__input" id="self-warning-checkbox" type="checkbox" aria-describedby="self-warning-hint">
                <span class="wizard-checkbox__label">I understand the risks.</span>
              </label>
              <p class="wizard-hint" id="self-warning-hint">Confirm the warning and proceed only after your identity is registered.</p>
              <button class="wizard-button wizard-button--secondary" type="button" id="self-warning-proceed" disabled>Proceed</button>
            </div>
          </section>

          <p class="wizard-field__message wizard-status-banner" id="registration-message" role="status" aria-live="polite"></p>
          <div class="wizard-actions wizard-actions--between wizard-actions--sticky">
            <button class="wizard-button wizard-button--secondary" type="button" data-step-back="registration">Back</button>
            <button class="wizard-button wizard-button--secondary" type="button" id="contract-preview-btn">📄 Contract Preview</button>
            <button class="wizard-button wizard-button--primary js-create-token" id="create-new-token" type="button" disabled aria-disabled="true" aria-label="Create new token">Create new token</button>
          </div>
        </form>
      </div>
    </section>

        <section class="wizard-screen wizard-screen--info" id="screen-group-management" data-step="permissions-group" data-tab="token" hidden>
      <div class="wizard-screen__inner">
        <h1 class="wizard-screen__title" id="title-group-management" tabindex="-1">Group permissions</h1>
        <details class="wizard-group-sheet" id="group-sheet" open>
          <summary class="wizard-group-sheet__summary">
            <span class="wizard-group-sheet__title">Groups</span>
            <span class="wizard-group-sheet__indicator" aria-hidden="true"></span>
          </summary>
          <div class="wizard-group-sheet__body">
            <p class="wizard-screen__body wizard-screen__body--muted">Define one or more groups for multi-party control of the contract.</p>
            <div class="wizard-field">
              <div class="wizard-field__label-row">
                <label class="wizard-field__label" for="group-main-position">Main Control Group Position:</label>
                <button class="wizard-info-trigger" type="button" aria-expanded="false" aria-controls="group-main-info">
                  <span class="sr-only">Show information about main control group position</span>
                  <span aria-hidden="true" class="wizard-info-trigger__icon">i</span>
                </button>
              </div>
              <div class="wizard-info-panel" id="group-main-info" hidden>
                <p class="wizard-info-panel__body">Enter the 1-based index of the group that holds overall authority. This group is treated as the primary signer set for administrative actions.</p>
              </div>
              <div class="wizard-field__inline">
                <input class="wizard-field__input wizard-field__input--condensed" id="group-main-position" type="number" min="1" step="1" placeholder="1" aria-describedby="group-main-position-hint" disabled>
                <p class="wizard-field__hint" id="group-main-position-hint">Enter the group number that should retain main control.</p>
              </div>
            </div>

            <div class="wizard-group-list" id="group-list">
              <p class="wizard-subsection__hint" id="group-empty">No groups defined yet. Use 'Add New Group' to create one.</p>
            </div>

            <div class="wizard-group-controls">
              <button class="wizard-button wizard-button--secondary" type="button" id="group-add">Add New Group</button>
            </div>
          </div>
        </details>
        <datalist id="wizard-permissions-member-options">
          <option value="Identity #1"></option>
          <option value="Identity #2"></option>
          <option value="Signing Committee"></option>
          <option value="Custodian"></option>
        </datalist>
        <div class="wizard-actions wizard-actions--end">
          <button class="wizard-button wizard-button--secondary" type="button" data-step-return="permissions">Back to Permissions</button>
        </div>
      </div>
    </section>


        <section class="wizard-screen wizard-screen--info" id="screen-permissions-manual-mint" data-step="permissions-manual-mint" hidden>
      <div class="wizard-screen__inner">
        <form class="wizard-form wizard-form--narrow" id="manual-mint-form" novalidate>
          <h1 class="wizard-screen__title" id="title-permissions-manual-mint" tabindex="-1">Minting</h1>
          <p class="wizard-screen__body">Configure who can mint tokens on demand and who may update that policy after deployment.</p>

          <fieldset class="wizard-fieldset" id="manual-mint-activation">
            <legend class="wizard-field__label" id="manual-mint-activation-label">Minting availability</legend>
            <div class="wizard-field__label-row">
              <p class="wizard-subsection__body" id="manual-mint-activation-copy">Would you like to enable minting for this token?</p>
              <button class="wizard-info-trigger" type="button" aria-expanded="false" aria-controls="manual-mint-activation-info">
                <span class="sr-only">More information about minting availability</span>
                <span aria-hidden="true" class="wizard-info-trigger__icon">i</span>
              </button>
            </div>
            <div class="wizard-info-panel" id="manual-mint-activation-info" hidden>
              <p class="wizard-info-panel__body">Minting lets approved actors create tokens outside any automated release schedule.</p>
            </div>
            <div class="wizard-choice-group" role="radiogroup" aria-labelledby="manual-mint-activation-label">
              <label class="wizard-choice">
                <input class="wizard-choice__input" type="radio" name="manual-mint-enabled" id="manual-mint-enabled-yes" value="enabled">
                <span class="wizard-choice__content">
                  <span class="wizard-choice__title">Yes, enable minting</span>
                  <span class="wizard-choice__hint">Allow designated actors to mint extra supply on demand.</span>
                </span>
              </label>
              <label class="wizard-choice">
                <input class="wizard-choice__input" type="radio" name="manual-mint-enabled" id="manual-mint-enabled-no" value="disabled">
                <span class="wizard-choice__content">
                  <span class="wizard-choice__title">No, keep minting disabled</span>
                  <span class="wizard-choice__hint">Only automated emissions (if any) can increase supply.</span>
                </span>
              </label>
            </div>
          </fieldset>

          <div class="wizard-subsection wizard-subsection--panel" data-manual-mint-controls>
            <section class="wizard-subsection" aria-labelledby="manual-mint-actioners">
              <h2 class="wizard-subsection__title" id="manual-mint-actioners">Authorize minting</h2>
              <p class="wizard-subsection__body">Select who can perform a minting action when it is enabled.</p>
              <div class="wizard-field" id="manual-mint-performer-field">
                <div class="wizard-field__label-row">
                  <label class="wizard-field__label" for="manual-mint-performer">Authorized to perform action</label>
                  <button class="wizard-info-trigger" type="button" aria-expanded="false" aria-controls="manual-mint-performer-info">
                    <span class="sr-only">More information about who can perform minting</span>
                    <span aria-hidden="true" class="wizard-info-trigger__icon">i</span>
                  </button>
                </div>
                <div class="wizard-info-panel" id="manual-mint-performer-info" hidden>
                  <p class="wizard-info-panel__body">Choose the account or group that may submit mint transactions when the feature is enabled.</p>
                </div>
                <select class="wizard-field__input" id="manual-mint-performer"></select>
                <div class="wizard-field wizard-field--stacked" data-manual-mint-identity="performer" hidden>
                  <label class="wizard-field__label wizard-field__label--secondary" for="manual-mint-performer-identity">Identity ID</label>
                  <input class="wizard-field__input wizard-field__input--condensed" id="manual-mint-performer-identity" type="text" placeholder="identity-id">
                  <p class="wizard-field__hint">Provide the Dash Platform identity ID allowed to mint.</p>
                </div>
                <p class="wizard-field__hint" id="manual-mint-performer-hint">Choose <strong>No one</strong> to block minting entirely, or assign the contract owner, main group, or a specific group. Select <strong>Specific Identity</strong> to target a single identity ID.</p>
              </div>
            </section>

            <section class="wizard-subsection" aria-labelledby="manual-mint-rule-owners">
              <h2 class="wizard-subsection__title" id="manual-mint-rule-owners">Authorize rule changes</h2>
              <p class="wizard-subsection__body">Choose who may update the minting permissions after deployment. Separate the rule owner from the minting actors to enforce oversight.</p>
              <div class="wizard-field" id="manual-mint-rule-field">
                <div class="wizard-field__label-row">
                  <label class="wizard-field__label" for="manual-mint-rule-changer">Authorized to change rules</label>
                  <button class="wizard-info-trigger" type="button" aria-expanded="false" aria-controls="manual-mint-rule-info">
                    <span class="sr-only">More information about who can change minting rules</span>
                    <span aria-hidden="true" class="wizard-info-trigger__icon">i</span>
                  </button>
                </div>
                <div class="wizard-info-panel" id="manual-mint-rule-info" hidden>
                  <p class="wizard-info-panel__body">Assign the steward who can adjust minting permissions after launch.</p>
                </div>
                <select class="wizard-field__input" id="manual-mint-rule-changer"></select>
                <div class="wizard-field wizard-field--stacked" data-manual-mint-identity="changer" hidden>
                  <label class="wizard-field__label wizard-field__label--secondary" for="manual-mint-rule-changer-identity">Identity ID</label>
                  <input class="wizard-field__input wizard-field__input--condensed" id="manual-mint-rule-changer-identity" type="text" placeholder="identity-id">
                  <p class="wizard-field__hint">Enter the identity ID that will control future updates to minting.</p>
                </div>
              </div>
            </section>

            <fieldset class="wizard-fieldset wizard-fieldset--nested" id="manual-mint-safeguards">
              <legend class="wizard-field__label" id="manual-mint-safeguards-label">Safeguards</legend>
              <div class="wizard-field__label-row">
                <p class="wizard-subsection__body" id="manual-mint-safeguards-copy">Choose which policy changes remain allowed over time.</p>
                <button class="wizard-info-trigger" type="button" aria-expanded="false" aria-controls="manual-mint-safeguards-info">
                  <span class="sr-only">More information about minting safeguards</span>
                  <span aria-hidden="true" class="wizard-info-trigger__icon">i</span>
                </button>
              </div>
              <div class="wizard-info-panel" id="manual-mint-safeguards-info" hidden>
                <p class="wizard-info-panel__body">Safeguards prevent administrators from immediately loosening every restriction on minting.</p>
              </div>
              <div class="wizard-field wizard-field--checkbox">
                <label class="wizard-checkbox" for="manual-mint-allow-authorized-none">
                  <input class="wizard-checkbox__input" id="manual-mint-allow-authorized-none" type="checkbox">
                  <span class="wizard-checkbox__label">Allow rule owners to remove all authorized minters</span>
                </label>
              </div>
              <div class="wizard-field wizard-field--checkbox">
                <label class="wizard-checkbox" for="manual-mint-allow-admin-none">
                  <input class="wizard-checkbox__input" id="manual-mint-allow-admin-none" type="checkbox">
                  <span class="wizard-checkbox__label">Allow rule owners to remove themselves</span>
                </label>
              </div>
              <div class="wizard-field wizard-field--checkbox">
                <label class="wizard-checkbox" for="manual-mint-allow-self-change">
                  <input class="wizard-checkbox__input" id="manual-mint-allow-self-change" type="checkbox">
                  <span class="wizard-checkbox__label">Allow current rule owners to reassign control to themselves</span>
                </label>
              </div>
            </fieldset>

            <p class="wizard-field__message" id="manual-mint-message" role="status" aria-live="polite"></p>
          </div>

          <div class="wizard-actions wizard-actions--end">
            <button class="wizard-button wizard-button--secondary" type="button" data-step-return="permissions">Back to Permissions</button>
          </div>
        </form>
      </div>
    </section>

        <section class="wizard-screen wizard-screen--info" id="screen-permissions-manual-burn" data-step="permissions-manual-burn" hidden>
      <div class="wizard-screen__inner">
        <form class="wizard-form wizard-form--narrow" id="manual-burn-form" novalidate>
          <h1 class="wizard-screen__title" id="title-permissions-manual-burn" tabindex="-1">Burning</h1>
          <p class="wizard-screen__body">Control who can retire tokens on demand and who can update those controls in production.</p>

          <fieldset class="wizard-fieldset" id="manual-burn-activation">
            <legend class="wizard-field__label" id="manual-burn-activation-label">Burning availability</legend>
            <div class="wizard-field__label-row">
              <p class="wizard-subsection__body" id="manual-burn-activation-copy">Would you like to enable burning for this token?</p>
              <button class="wizard-info-trigger" type="button" aria-expanded="false" aria-controls="manual-burn-activation-info">
                <span class="sr-only">More information about burning availability</span>
                <span aria-hidden="true" class="wizard-info-trigger__icon">i</span>
              </button>
            </div>
            <div class="wizard-info-panel" id="manual-burn-activation-info" hidden>
              <p class="wizard-info-panel__body">Burning allows trusted actors to destroy supply to respond to market or compliance needs.</p>
            </div>
            <div class="wizard-choice-group" role="radiogroup" aria-labelledby="manual-burn-activation-label">
              <label class="wizard-choice">
                <input class="wizard-choice__input" type="radio" name="manual-burn-enabled" id="manual-burn-enabled-yes" value="enabled">
                <span class="wizard-choice__content">
                  <span class="wizard-choice__title">Yes, enable burning</span>
                  <span class="wizard-choice__hint">Allow designated actors to destroy supply when necessary.</span>
                </span>
              </label>
              <label class="wizard-choice">
                <input class="wizard-choice__input" type="radio" name="manual-burn-enabled" id="manual-burn-enabled-no" value="disabled">
                <span class="wizard-choice__content">
                  <span class="wizard-choice__title">No, keep burning disabled</span>
                  <span class="wizard-choice__hint">Only automated mechanisms may reduce supply.</span>
                </span>
              </label>
            </div>
          </fieldset>

          <div class="wizard-subsection wizard-subsection--panel" data-manual-burn-controls>
            <section class="wizard-subsection" aria-labelledby="manual-burn-actioners">
              <h2 class="wizard-subsection__title" id="manual-burn-actioners">Authorize burning</h2>
              <p class="wizard-subsection__body">Choose who can execute a burn when the feature is enabled.</p>
              <div class="wizard-field" id="manual-burn-performer-field">
                <div class="wizard-field__label-row">
                  <label class="wizard-field__label" for="manual-burn-performer">Authorized to perform action</label>
                  <button class="wizard-info-trigger" type="button" aria-expanded="false" aria-controls="manual-burn-performer-info">
                    <span class="sr-only">More information about who can perform burning</span>
                    <span aria-hidden="true" class="wizard-info-trigger__icon">i</span>
                  </button>
                </div>
                <div class="wizard-info-panel" id="manual-burn-performer-info" hidden>
                  <p class="wizard-info-panel__body">Select the party permitted to submit burn transactions while the feature is active.</p>
                </div>
                <select class="wizard-field__input" id="manual-burn-performer"></select>
                <div class="wizard-field wizard-field--stacked" data-manual-burn-identity="performer" hidden>
                  <label class="wizard-field__label wizard-field__label--secondary" for="manual-burn-performer-identity">Identity ID</label>
                  <input class="wizard-field__input wizard-field__input--condensed" id="manual-burn-performer-identity" type="text" placeholder="identity-id">
                  <p class="wizard-field__hint">Provide the Dash Platform identity ID allowed to burn tokens.</p>
                </div>
                <p class="wizard-field__hint">Select <strong>No one</strong> to prevent burns, or delegate the capability to the contract owner, a group, or the Specific Identity option. Choose <strong>Specific Identity</strong> to target a single identity ID.</p>
              </div>
            </section>

            <section class="wizard-subsection" aria-labelledby="manual-burn-rule-owners">
              <h2 class="wizard-subsection__title" id="manual-burn-rule-owners">Authorize rule changes</h2>
              <p class="wizard-subsection__body">Pick who can revise the burning policy after deployment.</p>
              <div class="wizard-field" id="manual-burn-rule-field">
                <div class="wizard-field__label-row">
                  <label class="wizard-field__label" for="manual-burn-rule-changer">Authorized to change rules</label>
                  <button class="wizard-info-trigger" type="button" aria-expanded="false" aria-controls="manual-burn-rule-info">
                    <span class="sr-only">More information about who can change burning rules</span>
                    <span aria-hidden="true" class="wizard-info-trigger__icon">i</span>
                  </button>
                </div>
                <div class="wizard-info-panel" id="manual-burn-rule-info" hidden>
                  <p class="wizard-info-panel__body">Designate the administrator permitted to adjust burning permissions over time.</p>
                </div>
                <select class="wizard-field__input" id="manual-burn-rule-changer"></select>
                <div class="wizard-field wizard-field--stacked" data-manual-burn-identity="changer" hidden>
                  <label class="wizard-field__label wizard-field__label--secondary" for="manual-burn-rule-changer-identity">Identity ID</label>
                  <input class="wizard-field__input wizard-field__input--condensed" id="manual-burn-rule-changer-identity" type="text" placeholder="identity-id">
                  <p class="wizard-field__hint">Enter the identity ID that manages future updates to burning.</p>
                </div>
              </div>
            </section>

            <fieldset class="wizard-fieldset wizard-fieldset--nested" id="manual-burn-safeguards">
              <legend class="wizard-field__label" id="manual-burn-safeguards-label">Safeguards</legend>
              <div class="wizard-field__label-row">
                <p class="wizard-subsection__body" id="manual-burn-safeguards-copy">Control how much flexibility administrators retain.</p>
                <button class="wizard-info-trigger" type="button" aria-expanded="false" aria-controls="manual-burn-safeguards-info">
                  <span class="sr-only">More information about burning safeguards</span>
                  <span aria-hidden="true" class="wizard-info-trigger__icon">i</span>
                </button>
              </div>
              <div class="wizard-info-panel" id="manual-burn-safeguards-info" hidden>
                <p class="wizard-info-panel__body">Safeguards help ensure burning controls cannot be weakened without deliberate approval.</p>
              </div>
              <div class="wizard-field wizard-field--checkbox">
                <label class="wizard-checkbox" for="manual-burn-allow-authorized-none">
                  <input class="wizard-checkbox__input" id="manual-burn-allow-authorized-none" type="checkbox">
                  <span class="wizard-checkbox__label">Allow rule owners to remove all authorized burners</span>
                </label>
              </div>
              <div class="wizard-field wizard-field--checkbox">
                <label class="wizard-checkbox" for="manual-burn-allow-admin-none">
                  <input class="wizard-checkbox__input" id="manual-burn-allow-admin-none" type="checkbox">
                  <span class="wizard-checkbox__label">Allow rule owners to remove themselves</span>
                </label>
              </div>
              <div class="wizard-field wizard-field--checkbox">
                <label class="wizard-checkbox" for="manual-burn-allow-self-change">
                  <input class="wizard-checkbox__input" id="manual-burn-allow-self-change" type="checkbox">
                  <span class="wizard-checkbox__label">Allow current rule owners to reassign control to themselves</span>
                </label>
              </div>
            </fieldset>

            <p class="wizard-field__message" id="manual-burn-message" role="status" aria-live="polite"></p>
          </div>

          <div class="wizard-actions wizard-actions--end">
            <button class="wizard-button wizard-button--secondary" type="button" data-step-return="permissions">Back to Permissions</button>
          </div>
        </form>
      </div>
    </section>

        <section class="wizard-screen wizard-screen--info" id="screen-permissions-freeze" data-step="permissions-freeze" hidden>
      <div class="wizard-screen__inner">
        <form class="wizard-form wizard-form--narrow" id="freeze-form" novalidate>
          <h1 class="wizard-screen__title" id="title-permissions-freeze" tabindex="-1">Freeze</h1>
          <p class="wizard-screen__body">This page will outline how accounts are frozen and which roles can enforce the state.</p>

          <fieldset class="wizard-fieldset" id="freeze-activation">
            <legend class="wizard-field__label" id="freeze-activation-label">Freeze availability</legend>
            <div class="wizard-field__label-row">
              <p class="wizard-subsection__body" id="freeze-activation-copy">Should account freezing be available for this token?</p>
              <button class="wizard-info-trigger" type="button" aria-expanded="false" aria-controls="freeze-activation-info">
                <span class="sr-only">More information about freeze availability</span>
                <span aria-hidden="true" class="wizard-info-trigger__icon">i</span>
              </button>
            </div>
            <div class="wizard-info-panel" id="freeze-activation-info" hidden>
              <p class="wizard-info-panel__body">Turning freezing on defines who can pause an identity&rsquo;s transfers when risk is detected.</p>
            </div>
            <div class="wizard-choice-group" role="radiogroup" aria-labelledby="freeze-activation-label">
              <label class="wizard-choice">
                <input class="wizard-choice__input" type="radio" name="freeze-enabled" id="freeze-enabled-yes" value="enabled">
                <span class="wizard-choice__content">
                  <span class="wizard-choice__title">Yes, allow freezing controls</span>
                  <span class="wizard-choice__hint">Designated actors may freeze identities when required.</span>
                </span>
              </label>
              <label class="wizard-choice">
                <input class="wizard-choice__input" type="radio" name="freeze-enabled" id="freeze-enabled-no" value="disabled">
                <span class="wizard-choice__content">
                  <span class="wizard-choice__title">No, disable freezing</span>
                  <span class="wizard-choice__hint">No one can freeze identities through this contract.</span>
                </span>
              </label>
            </div>
          </fieldset>

          <div class="wizard-subsection wizard-subsection--panel" data-freeze-controls hidden>
            <section class="wizard-subsection" aria-labelledby="freeze-actioners">
              <h2 class="wizard-subsection__title" id="freeze-actioners">Authorize freezing</h2>
              <p class="wizard-subsection__body">Select who can freeze an identity&rsquo;s balance when the feature is enabled.</p>
              <div class="wizard-field" id="freeze-performer-field">
                <div class="wizard-field__label-row">
                  <label class="wizard-field__label" for="freeze-performer">Authorized to perform action</label>
                  <button class="wizard-info-trigger" type="button" aria-expanded="false" aria-controls="freeze-performer-info">
                    <span class="sr-only">More information about who can freeze identities</span>
                    <span aria-hidden="true" class="wizard-info-trigger__icon">i</span>
                  </button>
                </div>
                <div class="wizard-info-panel" id="freeze-performer-info" hidden>
                  <p class="wizard-info-panel__body">Pick the account or group that may freeze identities when an incident occurs.</p>
                </div>
                <select class="wizard-field__input" id="freeze-performer">
                  <option value="none">No one</option>
                  <option value="owner">Contract owner</option>
                  <option value="identity">Specific Identity</option>
                </select>
                <div class="wizard-field wizard-field--stacked" data-freeze-identity="perform" hidden>
                  <label class="wizard-field__label wizard-field__label--secondary" for="freeze-performer-identity">Identity ID</label>
                  <input class="wizard-field__input wizard-field__input--condensed" id="freeze-performer-identity" type="text" autocomplete="off" placeholder="identity-id">
                  <p class="wizard-field__hint">Enter the identity ID permitted to freeze accounts.</p>
                </div>
                <p class="wizard-field__hint" id="freeze-performer-hint">Choose <strong>No one</strong> to keep freezing unavailable, or delegate the authority to the contract owner or the Specific Identity option.</p>
              </div>
            </section>

            <section class="wizard-subsection" aria-labelledby="freeze-rule-owners">
              <h2 class="wizard-subsection__title" id="freeze-rule-owners">Authorize rule changes</h2>
              <p class="wizard-subsection__body">Choose who can update the freezing policy after launch.</p>
              <div class="wizard-field" id="freeze-rule-field">
                <div class="wizard-field__label-row">
                  <label class="wizard-field__label" for="freeze-rule-changer">Authorized to change rules</label>
                  <button class="wizard-info-trigger" type="button" aria-expanded="false" aria-controls="freeze-rule-info">
                    <span class="sr-only">More information about who can change freezing rules</span>
                    <span aria-hidden="true" class="wizard-info-trigger__icon">i</span>
                  </button>
                </div>
                <div class="wizard-info-panel" id="freeze-rule-info" hidden>
                  <p class="wizard-info-panel__body">Specify who can adjust or revoke freezing permissions over time.</p>
                </div>
                <select class="wizard-field__input" id="freeze-rule-changer">
                  <option value="none">No one</option>
                  <option value="owner">Contract owner</option>
                  <option value="identity">Specific Identity</option>
                </select>
                <div class="wizard-field wizard-field--stacked" data-freeze-identity="rules" hidden>
                  <label class="wizard-field__label wizard-field__label--secondary" for="freeze-rule-identity">Identity ID</label>
                  <input class="wizard-field__input wizard-field__input--condensed" id="freeze-rule-identity" type="text" autocomplete="off" placeholder="identity-id">
                  <p class="wizard-field__hint">Enter the identity ID that can change freezing rules.</p>
                </div>
                <p class="wizard-field__hint" id="freeze-rule-hint">Select who can adjust freezing permissions later. Use <strong>Specific Identity</strong> to assign a single identity ID.</p>
              </div>
            </section>

            <fieldset class="wizard-fieldset wizard-fieldset--nested" id="freeze-safeguards">
              <legend class="wizard-field__label" id="freeze-safeguards-label">Safeguards</legend>
              <div class="wizard-field__label-row">
                <p class="wizard-subsection__body" id="freeze-safeguards-copy">Control how freezing permissions may be tightened or relaxed.</p>
                <button class="wizard-info-trigger" type="button" aria-expanded="false" aria-controls="freeze-safeguards-info">
                  <span class="sr-only">More information about freezing safeguards</span>
                  <span aria-hidden="true" class="wizard-info-trigger__icon">i</span>
                </button>
              </div>
              <div class="wizard-info-panel" id="freeze-safeguards-info" hidden>
                <p class="wizard-info-panel__body">Safeguards limit how administrators can weaken oversight of freezing privileges.</p>
              </div>
              <div class="wizard-field wizard-field--checkbox">
                <label class="wizard-checkbox" for="freeze-allow-authorized-none">
                  <input class="wizard-checkbox__input" id="freeze-allow-authorized-none" type="checkbox">
                  <span class="wizard-checkbox__label">Allow rule owners to remove all authorized freezers</span>
                </label>
              </div>
              <div class="wizard-field wizard-field--checkbox">
                <label class="wizard-checkbox" for="freeze-allow-admin-none">
                  <input class="wizard-checkbox__input" id="freeze-allow-admin-none" type="checkbox">
                  <span class="wizard-checkbox__label">Allow rule owners to remove themselves</span>
                </label>
              </div>
              <div class="wizard-field wizard-field--checkbox">
                <label class="wizard-checkbox" for="freeze-allow-self-change">
                  <input class="wizard-checkbox__input" id="freeze-allow-self-change" type="checkbox">
                  <span class="wizard-checkbox__label">Allow current rule owners to reassign control to themselves</span>
                </label>
              </div>
            </fieldset>
          </div>

          <p class="wizard-field__message" id="freeze-message" role="status" aria-live="polite"></p>
          <div class="wizard-actions wizard-actions--end">
            <button class="wizard-button wizard-button--secondary" type="button" data-step-return="permissions">Back to Permissions</button>
          </div>
        </form>
      </div>
    </section>

        <section class="wizard-screen wizard-screen--info" id="screen-permissions-unfreeze" data-step="permissions-unfreeze" hidden>
      <div class="wizard-screen__inner">
        <h1 class="wizard-screen__title" id="title-permissions-unfreeze" tabindex="-1">Unfreeze</h1>
        <p class="wizard-screen__body">Restoration policies for frozen accounts will be published on this page soon.</p>
        <div class="wizard-actions wizard-actions--end">
          <button class="wizard-button wizard-button--secondary" type="button" data-step-return="permissions">Back to Permissions</button>
        </div>
      </div>
    </section>

        <section class="wizard-screen wizard-screen--info" id="screen-permissions-destroy-frozen" data-step="permissions-destroy-frozen" hidden>
      <div class="wizard-screen__inner">
        <h1 class="wizard-screen__title" id="title-permissions-destroy-frozen" tabindex="-1">Destroy frozen fund</h1>
        <p class="wizard-screen__body">Content covering the retirement of frozen balances will be added here.</p>
        <div class="wizard-actions wizard-actions--end">
          <button class="wizard-button wizard-button--secondary" type="button" data-step-return="permissions">Back to Permissions</button>
        </div>
      </div>
    </section>

        <section class="wizard-screen wizard-screen--info" id="screen-permissions-emergency-action" data-step="permissions-emergency-action" hidden>
      <div class="wizard-screen__inner">
        <h1 class="wizard-screen__title" id="title-permissions-emergency-action" tabindex="-1">Emergency action</h1>
        <p class="wizard-screen__body">Emergency controls and escalation paths will be detailed on this page.</p>
        <div class="wizard-actions wizard-actions--end">
          <button class="wizard-button wizard-button--secondary" type="button" data-step-return="permissions">Back to Permissions</button>
        </div>
      </div>
    </section>

        <section class="wizard-screen wizard-screen--info" id="screen-permissions-max-supply" data-step="permissions-max-supply" hidden>
      <div class="wizard-screen__inner">
        <h1 class="wizard-screen__title" id="title-permissions-max-supply" tabindex="-1">Max. supply change</h1>
        <p class="wizard-screen__body">Approval requirements for adjusting the maximum supply will appear here.</p>
        <div class="wizard-actions wizard-actions--end">
          <button class="wizard-button wizard-button--secondary" type="button" data-step-return="permissions">Back to Permissions</button>
        </div>
      </div>
    </section>

        <section class="wizard-screen wizard-screen--info" id="screen-permissions-conventions" data-step="permissions-conventions" hidden>
      <div class="wizard-screen__inner">
        <h1 class="wizard-screen__title" id="title-permissions-conventions" tabindex="-1">Conventions change</h1>
        <p class="wizard-screen__body">Guidelines for updating naming and metadata conventions will be captured here.</p>
        <div class="wizard-actions wizard-actions--end">
          <button class="wizard-button wizard-button--secondary" type="button" data-step-return="permissions">Back to Permissions</button>
        </div>
      </div>
    </section>

        <section class="wizard-screen wizard-screen--info" id="screen-permissions-marketplace-trade-mode" data-step="permissions-marketplace-trade-mode" hidden>
      <div class="wizard-screen__inner">
        <h1 class="wizard-screen__title" id="title-permissions-marketplace-trade-mode" tabindex="-1">Marketplace trade mode change</h1>
        <p class="wizard-screen__body">This page will describe how marketplace trade modes may be changed and communicated.</p>
        <div class="wizard-actions wizard-actions--end">
          <button class="wizard-button wizard-button--secondary" type="button" data-step-return="permissions">Back to Permissions</button>
        </div>
      </div>
    </section>

        <section class="wizard-screen wizard-screen--info" id="screen-permissions-direct-pricing" data-step="permissions-direct-pricing" hidden>
      <div class="wizard-screen__inner">
        <h1 class="wizard-screen__title" id="title-permissions-direct-pricing" tabindex="-1">Direct purchase pricing change</h1>
        <p class="wizard-screen__body">Oversight for direct pricing adjustments will be documented on this page.</p>
        <div class="wizard-actions wizard-actions--end">
          <button class="wizard-button wizard-button--secondary" type="button" data-step-return="permissions">Back to Permissions</button>
        </div>
      </div>
    </section>

        <section class="wizard-screen wizard-screen--info" id="screen-permissions-main-control" data-step="permissions-main-control" hidden>
      <div class="wizard-screen__inner">
        <h1 class="wizard-screen__title" id="title-permissions-main-control" tabindex="-1">Main control change</h1>
        <p class="wizard-screen__body">Use this page to explain how primary control of the contract can be reassigned. Content coming soon.</p>
        <div class="wizard-actions wizard-actions--end">
          <button class="wizard-button wizard-button--secondary" type="button" data-step-return="permissions">Back to Permissions</button>
        </div>
      </div>
    </section>

      </div>
    </main>
  </div>

  <div class="sr-only" aria-live="polite" id="global-live-region"></div>

  <!-- Contract Preview Modal -->
  <div class="contract-preview-modal" id="contract-preview-modal" hidden>
    <div class="contract-preview-modal__overlay"></div>
    <div class="contract-preview-modal__content">
      <div class="contract-preview-modal__header">
        <h2 class="contract-preview-modal__title">Contract Preview</h2>
        <button class="contract-preview-modal__close" type="button" id="contract-preview-close" aria-label="Close preview">×</button>
      </div>
      <div class="contract-preview-modal__body">
        <!-- Features Checklist -->
        <div class="contract-preview-checklist" style="margin-bottom: var(--space-5);">
          <h3 style="font-size: 1.25rem; font-weight: 600; margin-bottom: var(--space-4); color: var(--color-text);">Configuration Summary</h3>
          <div id="contract-preview-features">
            <!-- Features will be populated by JavaScript -->
          </div>
        </div>

        <!-- JSON Preview -->
        <div style="border-top: 1px solid var(--color-border); padding-top: var(--space-5);">
          <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: var(--space-3);">
            <h3 style="font-size: 1.125rem; font-weight: 600; margin: 0; color: var(--color-text);">Contract JSON</h3>
            <div style="display: flex; gap: var(--space-2);">
              <button class="wizard-button wizard-button--secondary wizard-button--small" type="button" id="contract-preview-copy">
                📋 Copy
              </button>
              <button class="wizard-button wizard-button--secondary wizard-button--small" type="button" id="contract-preview-download">
                💾 Download
              </button>
            </div>
          </div>
          <pre id="contract-preview-json" style="background: var(--color-surface); border: 1px solid var(--color-border); border-radius: var(--radius-md); padding: var(--space-4); overflow-x: auto; max-height: 50vh; overflow-y: auto; font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', 'Consolas', 'source-code-pro', monospace; font-size: 13px; line-height: 1.6; color: var(--color-text); margin: 0;">{
  "Loading contract preview..."
}</pre>
        </div>
      </div>
    </div>
  </div>

  <!-- SECURITY: Added SRI integrity hash and crossorigin for CDN security -->
  <script src="https://cdn.jsdelivr.net/npm/dash@5/dist/dash.min.js"
          integrity="sha384-pcOfMRg4VebRsQejHO7OMSm8DAB1qu7rCEnXfT6r9cZLj91MtsP4SfSNqpHpf+KW"
          crossorigin="anonymous"
          defer></script>
  <script>
    (function () {
      'use strict';
      if ('serviceWorker' in navigator) {
        navigator.serviceWorker
          .getRegistrations()
          .then((registrations) => {
            registrations.forEach((registration) => registration.unregister());
          })
          .catch(() => {
            // ignore cleanup errors
          });
      }
      if (typeof window !== 'undefined' && 'caches' in window) {
        caches
          .keys()
          .then((keys) => Promise.all(keys.map((key) => caches.delete(key))))
          .catch(() => {
            // ignore cache cleanup errors
          });
      }
    })();
  </script>

  <!-- Progressive Disclosure for Distribution (Inline Panels) -->
  <script>
    (function() {
      // Handle inline progressive disclosure for distribution panels
      document.addEventListener('DOMContentLoaded', function() {
        // Get all radio buttons with data-toggle-panel attribute
        const panelTriggers = document.querySelectorAll('input[type="radio"][data-toggle-panel]');

        panelTriggers.forEach(function(radio) {
          radio.addEventListener('change', function() {
            if (this.checked) {
              const panelId = this.getAttribute('data-toggle-panel');
              const panel = document.getElementById(panelId);

              if (panel) {
                // Get the radio button name to find all related panels
                const radioName = this.getAttribute('name');

                // Hide all panels for this radio group
                const relatedRadios = document.querySelectorAll('input[type="radio"][name="' + radioName + '"][data-toggle-panel]');
                relatedRadios.forEach(function(r) {
                  const relatedPanelId = r.getAttribute('data-toggle-panel');
                  const relatedPanel = document.getElementById(relatedPanelId);
                  if (relatedPanel) {
                    relatedPanel.hidden = true;
                  }
                });

                // Show the selected panel
                panel.hidden = false;
              }
            }
          });
        });
      });
    })();
  </script>

  <!-- Collapsible Navigation Script -->
  <script>
    (function() {
      document.addEventListener('DOMContentLoaded', function() {
        // Handle collapsible navigation
        const navButtons = document.querySelectorAll('.wizard-nav-item--expandable');

        navButtons.forEach(function(button) {
          button.addEventListener('click', function(e) {
            e.preventDefault();

            const submenuId = this.getAttribute('data-toggle');
            const submenu = document.getElementById(submenuId);
            const isExpanded = this.getAttribute('aria-expanded') === 'true';

            // Toggle aria-expanded
            this.setAttribute('aria-expanded', !isExpanded);

            // Toggle submenu visibility
            if (submenu) {
              submenu.hidden = isExpanded;
            }
          });
        });

        // Handle navigation clicks
        const allNavButtons = document.querySelectorAll('.wizard-nav-item[data-step]');
        allNavButtons.forEach(function(button) {
          button.addEventListener('click', function(e) {
            // Only navigate if it's not an expandable button or if we're clicking the step itself
            if (!this.classList.contains('wizard-nav-item--expandable') || e.target === this) {
              const step = this.getAttribute('data-step');
              if (step) {
                // Remove active state from all nav items
                allNavButtons.forEach(btn => btn.removeAttribute('aria-current'));
                // Add active state to clicked item
                this.setAttribute('aria-current', 'step');

                // Trigger navigation (your app.js should handle this)
                const event = new CustomEvent('navigate-to-step', { detail: { step: step } });
                document.dispatchEvent(event);
              }
            }
          });
        });

        // Handle sub-navigation clicks
        const subNavItems = document.querySelectorAll('.wizard-nav-subitem');
        subNavItems.forEach(function(item) {
          item.addEventListener('click', function(e) {
            e.preventDefault();

            // Remove active state from all sub-items
            subNavItems.forEach(sub => sub.classList.remove('wizard-nav-subitem--active'));

            // Add active state to clicked item
            this.classList.add('wizard-nav-subitem--active');

            const substep = this.getAttribute('data-substep');
            if (substep) {
              // Hide all wizard screens
              const allScreens = document.querySelectorAll('.wizard-screen');
              allScreens.forEach(screen => {
                screen.hidden = true;
                screen.classList.remove('wizard-screen--active');
              });

              // Show the target sub-step screen
              const targetScreen = document.getElementById('screen-' + substep);
              if (targetScreen) {
                targetScreen.hidden = false;
                targetScreen.classList.add('wizard-screen--active');

                // Focus on the screen title for accessibility
                const title = targetScreen.querySelector('.wizard-screen__title');
                if (title) {
                  setTimeout(() => title.focus(), 100);
                }
              }

              // Update the parent nav item's active state
              const parentStep = targetScreen ? targetScreen.getAttribute('data-step') : null;
              if (parentStep) {
                allNavButtons.forEach(btn => btn.removeAttribute('aria-current'));
                const parentNavItem = document.querySelector('.wizard-nav-item[data-step="' + parentStep + '"]');
                if (parentNavItem) {
                  parentNavItem.setAttribute('aria-current', 'step');
                }
              }
            }
          });
        });
      });

      // Tab navigation with state memory
      (function() {
        // State memory object to track last active screen in each tab
        const tabStateMemory = {
          token: 'screen-welcome',  // Templates Library is the starting point
          group: 'screen-permissions-group',
          document: 'screen-document'
        };

        document.addEventListener('DOMContentLoaded', function() {
          const tabButtons = document.querySelectorAll('.wizard-tab');
          const wizard = document.getElementById('wizard');
          const allScreens = document.querySelectorAll('.wizard-screen');

          // Tab switching function
          function switchTab(tabName) {
            console.log('switchTab called with:', tabName);

            // Update active tab button
            tabButtons.forEach(btn => {
              btn.classList.remove('wizard-tab--active');
              btn.setAttribute('aria-selected', 'false');
            });

            const activeTabButton = document.querySelector('[data-tab="' + tabName + '"]');
            if (activeTabButton) {
              activeTabButton.classList.add('wizard-tab--active');
              activeTabButton.setAttribute('aria-selected', 'true');
            }

            // Switch sidebars
            const allSidebars = document.querySelectorAll('.sidebar-section');
            allSidebars.forEach(sidebar => {
              sidebar.hidden = true;
            });

            const activeSidebar = document.querySelector('.sidebar-section[data-sidebar="' + tabName + '"]');
            if (activeSidebar) {
              activeSidebar.hidden = false;
            }

            // Hide all screens
            allScreens.forEach(screen => {
              screen.hidden = true;
              screen.classList.remove('wizard-screen--active');
            });

            // Show the last active screen for this tab
            const lastActiveScreen = tabStateMemory[tabName];
            let targetScreen = document.getElementById(lastActiveScreen);

            // Verify the target screen belongs to this tab
            if (targetScreen && targetScreen.getAttribute('data-tab') !== tabName) {
              console.warn('Screen', lastActiveScreen, 'does not belong to tab', tabName);
              targetScreen = null;
            }

            // If no valid target screen, find the first screen for this tab
            if (!targetScreen) {
              targetScreen = document.querySelector('.wizard-screen[data-tab="' + tabName + '"]');
              if (targetScreen) {
                console.log('Using first screen for tab:', targetScreen.id);
                tabStateMemory[tabName] = targetScreen.id;
              }
            }

            if (targetScreen) {
              targetScreen.hidden = false;
              targetScreen.classList.add('wizard-screen--active');

              // Focus on screen title for accessibility
              const title = targetScreen.querySelector('.wizard-screen__title');
              if (title) {
                setTimeout(() => title.focus(), 100);
              }
            }

            // Update wizard data attribute
            if (wizard) {
              wizard.setAttribute('data-active-tab', tabName);
            }

            // Save to localStorage
            try {
              localStorage.setItem('wizard-active-tab', tabName);
              localStorage.setItem('wizard-tab-state', JSON.stringify(tabStateMemory));
            } catch (e) {
              // Silently fail if localStorage is not available
            }
          }

          // Expose switchTab to window for template navigation
          window.switchTab = switchTab;

          // Tab button click handlers
          tabButtons.forEach(function(button) {
            button.addEventListener('click', function(e) {
              e.preventDefault();
              const tabName = this.getAttribute('data-tab');
              if (tabName) {
                switchTab(tabName);
              }
            });
          });

          // Update tab state memory when screens change
          const observer = new MutationObserver(function(mutations) {
            mutations.forEach(function(mutation) {
              if (mutation.attributeName === 'hidden' || mutation.attributeName === 'class') {
                const activeScreen = document.querySelector('.wizard-screen--active');
                if (activeScreen) {
                  const screenId = activeScreen.id;
                  const tabName = activeScreen.getAttribute('data-tab');

                  if (tabName && tabStateMemory[tabName]) {
                    tabStateMemory[tabName] = screenId;

                    // Save to localStorage
                    try {
                      localStorage.setItem('wizard-tab-state', JSON.stringify(tabStateMemory));
                    } catch (e) {
                      // Silently fail
                    }
                  }
                }
              }
            });
          });

          // Observe all wizard screens for changes
          allScreens.forEach(screen => {
            observer.observe(screen, {
              attributes: true,
              attributeFilter: ['hidden', 'class']
            });
          });

          // Restore tab state from localStorage on page load
          try {
            const savedTab = localStorage.getItem('wizard-active-tab');
            const savedState = localStorage.getItem('wizard-tab-state');

            if (savedState) {
              const parsedState = JSON.parse(savedState);
              Object.assign(tabStateMemory, parsedState);
            }

            // If there's a saved tab but we're not on it, switch to it
            if (savedTab && savedTab !== 'token') {
              // Small delay to ensure DOM is fully ready
              setTimeout(() => switchTab(savedTab), 50);
            }
          } catch (e) {
            // Silently fail if localStorage is not available
          }
        });
      })();

      // Group management is handled in app.js
    })();
  </script>

  <!-- Contract Preview Modal Script -->
  <script>
    (function() {
      'use strict';

      document.addEventListener('DOMContentLoaded', function() {
        const modal = document.getElementById('contract-preview-modal');
        const closeBtn = document.getElementById('contract-preview-close');
        const overlay = modal ? modal.querySelector('.contract-preview-modal__overlay') : null;
        const jsonElement = document.getElementById('contract-preview-json');
        const featuresElement = document.getElementById('contract-preview-features');
        const copyBtn = document.getElementById('contract-preview-copy');
        const downloadBtn = document.getElementById('contract-preview-download');

        // Find all preview buttons by text content (since multiple buttons have same ID)
        const previewBtns = Array.from(document.querySelectorAll('button')).filter(btn =>
          btn.textContent.includes('Contract Preview')
        );
        console.log('Found', previewBtns.length, 'contract preview buttons');

        // Open modal
        function openModal() {
          if (modal) {
            // Update features checklist and JSON content from wizard state if available
            if (typeof window.wizardState !== 'undefined') {
              try {
                // Force a fresh read of the state
                const state = JSON.parse(JSON.stringify(window.wizardState.form));
                console.log('Contract Preview - Current state:', state);

                // Generate organized features checklist
                if (featuresElement) {
                  const categories = [];

                  // Category: Token Name
                  const tokenName = [];
                  if (state.tokenName) {
                    tokenName.push({ name: 'Token Name', value: state.tokenName });
                  }
                  if (state.permissions?.decimals !== undefined) {
                    tokenName.push({ name: 'Decimals', value: state.permissions.decimals });
                  }
                  if (tokenName.length > 0) {
                    categories.push({ title: '📋 Token Name', items: tokenName, type: 'info' });
                  }

                  // Category: Token Supply
                  const tokenSupply = [];
                  if (state.permissions?.baseSupply) {
                    tokenSupply.push({ name: 'Base Supply', value: state.permissions.baseSupply });
                  }
                  if (state.permissions?.maxSupply) {
                    tokenSupply.push({ name: 'Max Supply', value: state.permissions.maxSupply });
                  }
                  if (state.permissions?.changeMaxSupply?.enabled) {
                    tokenSupply.push({ name: 'Max Supply Can Be Changed', value: 'Yes' });
                  }
                  if (tokenSupply.length > 0) {
                    categories.push({ title: '💰 Token Supply', items: tokenSupply, type: 'info' });
                  }

                  // Category: Minting
                  const minting = [];
                  if (state.permissions?.manualMint?.enabled) {
                    minting.push({ name: 'Minting Enabled', enabled: true });
                    if (state.permissions?.manualMint?.who) {
                      minting.push({ name: 'Who Can Mint', value: state.permissions.manualMint.who });
                    }
                  }
                  if (minting.length > 0) {
                    const mintingItems = minting.filter(item => item.enabled);
                    const mintingInfo = minting.filter(item => item.value);
                    if (mintingItems.length > 0) {
                      categories.push({ title: '🔨 Minting', items: mintingItems, type: 'toggle' });
                    }
                    if (mintingInfo.length > 0) {
                      categories.push({ title: '🔨 Minting Details', items: mintingInfo, type: 'info' });
                    }
                  }

                  // Category: Burning
                  const burning = [];
                  if (state.permissions?.manualBurn?.enabled) {
                    burning.push({ name: 'Burning Enabled', enabled: true });
                    if (state.permissions?.manualBurn?.who) {
                      burning.push({ name: 'Who Can Burn', value: state.permissions.manualBurn.who });
                    }
                  }
                  if (burning.length > 0) {
                    const burningItems = burning.filter(item => item.enabled);
                    const burningInfo = burning.filter(item => item.value);
                    if (burningItems.length > 0) {
                      categories.push({ title: '🔥 Burning', items: burningItems, type: 'toggle' });
                    }
                    if (burningInfo.length > 0) {
                      categories.push({ title: '🔥 Burning Details', items: burningInfo, type: 'info' });
                    }
                  }

                  // Category: Freezing
                  const freezing = [];
                  if (state.permissions?.manualFreeze?.enabled) {
                    freezing.push({ name: 'Freezing Enabled', enabled: true });
                    if (state.permissions?.manualFreeze?.who) {
                      freezing.push({ name: 'Who Can Freeze', value: state.permissions.manualFreeze.who });
                    }
                    if (state.permissions?.manualUnfreeze?.enabled) {
                      freezing.push({ name: 'Unfreezing Enabled', enabled: true });
                    }
                    if (state.permissions?.destroyFrozen?.enabled) {
                      freezing.push({ name: 'Destroy Frozen Funds', enabled: true });
                    }
                  }
                  if (freezing.length > 0) {
                    const freezingItems = freezing.filter(item => item.enabled);
                    const freezingInfo = freezing.filter(item => item.value);
                    if (freezingItems.length > 0) {
                      categories.push({ title: '❄️ Freezing', items: freezingItems, type: 'toggle' });
                    }
                    if (freezingInfo.length > 0) {
                      categories.push({ title: '❄️ Freezing Details', items: freezingInfo, type: 'info' });
                    }
                  }

                  // Category: Emergency Actions
                  const emergency = [];
                  if (state.permissions?.emergency?.enabled) {
                    emergency.push({ name: 'Emergency Actions Enabled', enabled: true });
                    if (state.permissions?.emergency?.who) {
                      emergency.push({ name: 'Who Can Use Emergency Actions', value: state.permissions.emergency.who });
                    }
                  }
                  if (emergency.length > 0) {
                    const emergencyItems = emergency.filter(item => item.enabled);
                    const emergencyInfo = emergency.filter(item => item.value);
                    if (emergencyItems.length > 0) {
                      categories.push({ title: '🚨 Emergency Actions', items: emergencyItems, type: 'toggle' });
                    }
                    if (emergencyInfo.length > 0) {
                      categories.push({ title: '🚨 Emergency Details', items: emergencyInfo, type: 'info' });
                    }
                  }

                  // Category: History Tracking
                  const historyItems = [];
                  if (state.advanced?.history?.transfers) {
                    historyItems.push({ name: 'Transfer History', enabled: true });
                  }
                  if (state.advanced?.history?.mints) {
                    historyItems.push({ name: 'Mint History', enabled: true });
                  }
                  if (state.advanced?.history?.burns) {
                    historyItems.push({ name: 'Burn History', enabled: true });
                  }
                  if (state.advanced?.history?.freezes) {
                    historyItems.push({ name: 'Freeze History', enabled: true });
                  }
                  if (historyItems.length > 0) {
                    categories.push({ title: '📊 History Tracking', items: historyItems, type: 'toggle' });
                  }

                  // Category: Trading Rules
                  const trading = [];
                  if (state.advanced?.tradeMode) {
                    trading.push({ name: 'Trade Mode', value: state.advanced.tradeMode });
                  }
                  if (state.advanced?.tradingEnabled !== undefined) {
                    trading.push({ name: 'Trading', value: state.advanced.tradingEnabled ? 'Enabled' : 'Disabled' });
                  }
                  if (trading.length > 0) {
                    categories.push({ title: '💱 Trading Rules', items: trading, type: 'info' });
                  }

                  // Category: Launch Settings
                  const launchSettings = [];
                  if (state.permissions?.startAsPaused) {
                    launchSettings.push({ name: 'Start as Paused', enabled: true });
                  }
                  if (launchSettings.length > 0) {
                    categories.push({ title: '🚀 Launch Settings', items: launchSettings, type: 'toggle' });
                  }

                  // Category: Distribution Schedule
                  const distributionSchedule = [];
                  if (state.distribution?.cadence?.type) {
                    distributionSchedule.push({ name: 'Schedule Type', value: state.distribution.cadence.type });
                  }
                  if (state.distribution?.cadence?.intervalBlocks) {
                    distributionSchedule.push({ name: 'Interval (Blocks)', value: state.distribution.cadence.intervalBlocks });
                  }
                  if (state.distribution?.cadence?.intervalTime) {
                    distributionSchedule.push({ name: 'Interval (Time)', value: state.distribution.cadence.intervalTime });
                  }
                  if (distributionSchedule.length > 0) {
                    categories.push({ title: '📅 Distribution Schedule', items: distributionSchedule, type: 'info' });
                  }

                  // Category: Emission
                  const emission = [];
                  if (state.distribution?.emission?.type) {
                    emission.push({ name: 'Emission Type', value: state.distribution.emission.type });
                  }
                  if (state.distribution?.emission?.amount) {
                    emission.push({ name: 'Amount', value: state.distribution.emission.amount });
                  }
                  if (state.distribution?.emission?.rate) {
                    emission.push({ name: 'Rate', value: state.distribution.emission.rate });
                  }
                  if (emission.length > 0) {
                    categories.push({ title: '💨 Emission', items: emission, type: 'info' });
                  }

                  // Render categories
                  featuresElement.innerHTML = categories.map(category => {
                    let itemsHTML = '';

                    if (category.type === 'info') {
                      // Info items show value
                      itemsHTML = category.items.map(item => `
                        <div style="display: flex; justify-content: space-between; padding: var(--space-2) 0; border-bottom: 1px solid var(--color-border-light);">
                          <span style="color: var(--color-text-secondary); font-size: 0.9375rem;">${item.name}</span>
                          <span style="color: var(--color-text); font-weight: 500; font-size: 0.9375rem;">${item.value}</span>
                        </div>
                      `).join('');
                    } else {
                      // Toggle items - only showing enabled ones with checkmark
                      itemsHTML = category.items.map(item => `
                        <div style="display: flex; align-items: center; gap: var(--space-2); padding: var(--space-2) 0;">
                          <span style="font-size: 1rem; color: #10b981; font-weight: bold; width: 20px;">✓</span>
                          <span style="color: var(--color-text); font-size: 0.9375rem;">${item.name}</span>
                        </div>
                      `).join('');
                    }

                    return `
                      <div style="background: var(--color-surface); border: 1px solid var(--color-border); border-radius: var(--radius-md); padding: var(--space-4); margin-bottom: var(--space-3);">
                        <h4 style="font-size: 1rem; font-weight: 600; margin: 0 0 var(--space-3) 0; color: var(--color-text); display: flex; align-items: center; gap: var(--space-2);">
                          ${category.title}
                        </h4>
                        <div style="margin: 0;">
                          ${itemsHTML}
                        </div>
                      </div>
                    `;
                  }).join('');
                }

                // Update JSON
                const contractJSON = JSON.stringify(state, null, 2);
                if (jsonElement) {
                  jsonElement.textContent = contractJSON;
                }
              } catch (e) {
                console.error('Error generating contract preview:', e);
              }
            }

            modal.hidden = false;
            document.body.style.overflow = 'hidden';
          }
        }

        // Close modal
        function closeModal() {
          if (modal) {
            modal.hidden = true;
            document.body.style.overflow = '';
          }
        }

        // Event listeners
        previewBtns.forEach(btn => {
          btn.addEventListener('click', function(e) {
            e.preventDefault();
            e.stopPropagation();
            openModal();
          });
        });

        if (closeBtn) {
          closeBtn.addEventListener('click', closeModal);
        }

        if (overlay) {
          overlay.addEventListener('click', closeModal);
        }

        // Close on Escape key
        document.addEventListener('keydown', function(e) {
          if (e.key === 'Escape' && modal && !modal.hidden) {
            closeModal();
          }
        });

        // Copy JSON
        if (copyBtn && jsonElement) {
          copyBtn.addEventListener('click', function() {
            const text = jsonElement.textContent;
            navigator.clipboard.writeText(text).then(function() {
              const originalText = copyBtn.textContent;
              copyBtn.textContent = '✓ Copied!';
              setTimeout(function() {
                copyBtn.textContent = originalText;
              }, 2000);
            }).catch(function(err) {
              console.error('Failed to copy:', err);
            });
          });
        }

        // Download JSON
        if (downloadBtn && jsonElement) {
          downloadBtn.addEventListener('click', function() {
            const text = jsonElement.textContent;
            const blob = new Blob([text], { type: 'application/json' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'token-contract-' + new Date().toISOString().split('T')[0] + '.json';
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
          });
        }
      });
    })();
  </script>

  <script src="app.js?v=71.0.1760980124" defer></script>
</body>
</html>
