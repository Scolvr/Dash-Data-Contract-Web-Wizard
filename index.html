<!DOCTYPE html>
<html lang="en" data-theme="dark">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="Cache-Control" content="no-store, no-cache, must-revalidate, max-age=0">
  <meta http-equiv="Pragma" content="no-cache">
  <meta http-equiv="Expires" content="0">
  <title>Dash Token Wizard</title>
  <link rel="preload" href="styles.css?v=100" as="style">
  <link rel="stylesheet" href="styles.css?v=100">
</head>

<body>
  <!-- Loading Overlay -->
  <div class="loading-overlay" aria-hidden="true" role="alert" aria-live="assertive">
    <div class="loading-overlay__content">
      <div class="spinner spinner--large loading-overlay__spinner"></div>
      <p class="loading-overlay__message">Loading...</p>
    </div>
  </div>

  <!-- Toast Notification Container -->
  <div class="toast-container" aria-live="polite" aria-atomic="true"></div>

  <!-- Mobile Menu Overlay -->
  <div class="mobile-menu-overlay" aria-hidden="true"></div>

  <div class="wizard-shell">
    <aside class="wizard-sidebar" aria-label="Wizard navigation">
      <!-- Token Sidebar -->
      <div class="sidebar-section" data-sidebar="token">
        <!-- Sidebar Header with Branding -->
        <div class="wizard-sidebar__header">
          <button class="mobile-menu-toggle" aria-label="Toggle navigation menu" aria-expanded="false">
            <span class="mobile-menu-toggle__bar"></span>
            <span class="mobile-menu-toggle__bar"></span>
            <span class="mobile-menu-toggle__bar"></span>
          </button>
          <div class="brand">
            <div class="brand__icon">
              <img src="https://media.dash.org/wp-content/uploads/dash-d-rounded-square-1000.png" alt="Dash" width="32"
                height="32">
            </div>
            <span class="brand__title">Dash Token Wizard</span>
          </div>
        </div>

        <!-- Search Bar -->
        <div class="wizard-sidebar__search">
          <svg class="search-icon" width="20" height="20" viewBox="0 0 20 20" fill="none">
            <path d="M9 17A8 8 0 1 0 9 1a8 8 0 0 0 0 16zM18 18l-4.35-4.35" stroke="currentColor" stroke-width="2"
              stroke-linecap="round" stroke-linejoin="round" />
          </svg>
          <input type="text" class="wizard-sidebar__search-input" placeholder="Search..."
            aria-label="Search navigation">
        </div>

        <!-- Compact Progress Steps -->
        <!-- Navigation -->
        <nav class="wizard-nav" aria-label="Wizard progress">
          <div class="wizard-nav__label">Menu</div>

          <!-- Templates Library -->
          <div class="wizard-nav-section">
            <button class="wizard-nav-item" data-step="welcome">
              <svg class="wizard-nav-item__icon" width="20" height="20" viewBox="0 0 20 20" fill="none">
                <rect x="2" y="2" width="7" height="7" rx="1" stroke="currentColor" stroke-width="2" />
                <rect x="11" y="2" width="7" height="7" rx="1" stroke="currentColor" stroke-width="2" />
                <rect x="2" y="11" width="7" height="7" rx="1" stroke="currentColor" stroke-width="2" />
                <rect x="11" y="11" width="7" height="7" rx="1" stroke="currentColor" stroke-width="2" />
              </svg>
              <span class="wizard-nav-item__text">Templates Library</span>
              <span class="wizard-path__pill pill" id="status-welcome" aria-live="polite"></span>
            </button>
          </div>

          <!-- ESSENTIALS Section -->
          <div class="wizard-nav-section">
            <!-- Naming Step (Collapsible) -->
            <button class="wizard-nav-item wizard-nav-item--expandable" data-step="naming" data-toggle="naming-submenu"
              aria-expanded="true">
              <svg class="wizard-nav-item__icon" width="20" height="20" viewBox="0 0 20 20" fill="none">
                <rect x="2" y="4" width="16" height="12" rx="2" stroke="currentColor" stroke-width="2" />
                <path d="M2 8h16M6 12h4M6 15h2" stroke="currentColor" stroke-width="2" stroke-linecap="round" />
                <path d="M10 1l2 3h-4l2-3z" fill="currentColor" />
              </svg>
              <span class="wizard-nav-item__text">Naming</span>
              <span class="wizard-path__pill pill" id="status-naming" aria-live="polite"></span>
              <svg class="wizard-nav-item__chevron" width="16" height="16" viewBox="0 0 16 16" fill="none">
                <path d="M6 4l4 4-4 4" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                  stroke-linejoin="round" />
              </svg>
            </button>
            <div class="wizard-nav-submenu" id="naming-submenu">
              <a href="#" class="wizard-nav-subitem" data-substep="naming">
                <span class="wizard-nav-subitem__text">Token Name</span>
              </a>
              <a href="#" class="wizard-nav-subitem" data-substep="naming-localization">
                <span class="wizard-nav-subitem__text">Localization</span>
              </a>
              <a href="#" class="wizard-nav-subitem" data-substep="naming-update">
                <span class="wizard-nav-subitem__text">Update</span>
              </a>
            </div>

            <!-- Permissions Step (Collapsible) -->
            <button class="wizard-nav-item wizard-nav-item--expandable" data-step="permissions"
              data-toggle="permissions-submenu" aria-expanded="false">
              <svg class="wizard-nav-item__icon" width="20" height="20" viewBox="0 0 20 20" fill="none">
                <path d="M10 2L3 6v5c0 4.5 3 8 7 9 4-1 7-4.5 7-9V6l-7-4z" stroke="currentColor" stroke-width="2"
                  stroke-linecap="round" stroke-linejoin="round" />
              </svg>
              <span class="wizard-nav-item__text">Permissions</span>
              <span class="wizard-path__pill pill" id="status-permissions" aria-live="polite"></span>
              <svg class="wizard-nav-item__chevron" width="16" height="16" viewBox="0 0 16 16" fill="none">
                <path d="M6 4l4 4-4 4" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                  stroke-linejoin="round" />
              </svg>
            </button>
            <div class="wizard-nav-submenu" id="permissions-submenu" hidden>
              <a href="#" class="wizard-nav-subitem" data-substep="permissions">
                <span class="wizard-nav-subitem__text">Token Supply</span>
              </a>
              <a href="#" class="wizard-nav-subitem" data-substep="permissions-transfer">
                <span class="wizard-nav-subitem__text">Transfer Notes</span>
              </a>
              <a href="#" class="wizard-nav-subitem" data-substep="permissions-manual-mint">
                <span class="wizard-nav-subitem__text">Minting</span>
              </a>
              <a href="#" class="wizard-nav-subitem" data-substep="permissions-manual-burn">
                <span class="wizard-nav-subitem__text">Burning</span>
              </a>
              <a href="#" class="wizard-nav-subitem" data-substep="permissions-manual-freeze">
                <span class="wizard-nav-subitem__text">Freezing</span>
              </a>
              <a href="#" class="wizard-nav-subitem" data-substep="permissions-emergency">
                <span class="wizard-nav-subitem__text">Emergency Actions</span>
              </a>
              <a href="#" class="wizard-nav-subitem" data-substep="permissions-conventions-change">
                <span class="wizard-nav-subitem__text">Conventions Change</span>
              </a>
              <a href="#" class="wizard-nav-subitem" data-substep="permissions-marketplace-trade-mode-change">
                <span class="wizard-nav-subitem__text">Marketplace Trade Mode</span>
              </a>
              <a href="#" class="wizard-nav-subitem" data-substep="permissions-direct-pricing-change">
                <span class="wizard-nav-subitem__text">Direct Purchase Pricing</span>
              </a>
              <a href="#" class="wizard-nav-subitem" data-substep="permissions-main-control-change">
                <span class="wizard-nav-subitem__text">Main Control Group</span>
              </a>
            </div>

            <!-- Advanced Step (Collapsible) -->
            <button class="wizard-nav-item wizard-nav-item--expandable" data-step="advanced"
              data-toggle="advanced-submenu" aria-expanded="false">
              <svg class="wizard-nav-item__icon" width="20" height="20" viewBox="0 0 20 20" fill="none">
                <circle cx="10" cy="10" r="2" fill="currentColor" />
                <path d="M10 1v2M10 17v2M18.66 5l-1.73 1M3.07 14l-1.73 1M18.66 15l-1.73-1M3.07 6l-1.73-1M1 10h2M17 10h2"
                  stroke="currentColor" stroke-width="1.5" stroke-linecap="round" />
                <path
                  d="M14 6.5l1-1.5 1.5 1-1 1.5M4 13.5l1-1.5 1.5 1-1 1.5M13.5 14l1.5-1 1 1.5-1.5 1M5.5 6l1.5-1 1 1.5-1.5 1"
                  fill="currentColor" />
              </svg>
              <span class="wizard-nav-item__text">Usage</span>
              <span class="wizard-path__pill pill" id="status-advanced" aria-live="polite"></span>
              <svg class="wizard-nav-item__chevron" width="16" height="16" viewBox="0 0 16 16" fill="none">
                <path d="M6 4l4 4-4 4" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                  stroke-linejoin="round" />
              </svg>
            </button>
            <div class="wizard-nav-submenu" id="advanced-submenu" hidden>
              <a href="#" class="wizard-nav-subitem" data-substep="advanced-history">
                <span class="wizard-nav-subitem__text">History</span>
              </a>
              <a href="#" class="wizard-nav-subitem" data-substep="advanced">
                <span class="wizard-nav-subitem__text">Trading Rules</span>
              </a>
              <a href="#" class="wizard-nav-subitem" data-substep="advanced-launch">
                <span class="wizard-nav-subitem__text">Launch Settings</span>
              </a>
            </div>
          </div>

          <!-- OPTIONAL Section -->
          <div class="wizard-nav-section">
            <div class="wizard-nav__label">(optional setting)</div>
            <button class="wizard-nav-item wizard-nav-item--expandable" data-step="distribution"
              data-toggle="distribution-submenu" aria-expanded="false">
              <svg class="wizard-nav-item__icon" width="20" height="20" viewBox="0 0 20 20" fill="none">
                <circle cx="10" cy="10" r="7" stroke="currentColor" stroke-width="1.5" />
                <path d="M10 3c-2 0-3.5 3.13-3.5 7s1.5 7 3.5 7 3.5-3.13 3.5-7-1.5-7-3.5-7z" stroke="currentColor"
                  stroke-width="1.5" />
                <path d="M3 10h14M5 6h10M5 14h10" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" />
                <path d="M8 3l-1 2M12 3l1 2M15 7l1.5 1M4 7l-1.5 1" stroke="currentColor" stroke-width="1.5"
                  stroke-linecap="round" />
                <circle cx="7" cy="5" r="1.5" fill="currentColor" />
                <circle cx="13" cy="5" r="1.5" fill="currentColor" />
                <circle cx="16" cy="8" r="1.5" fill="currentColor" />
              </svg>
              <span class="wizard-nav-item__text">Distribution</span>
              <span class="wizard-path__pill pill" id="status-distribution" aria-live="polite"></span>
              <svg class="wizard-nav-item__chevron" width="16" height="16" viewBox="0 0 16 16" fill="none">
                <path d="M6 4l4 4-4 4" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                  stroke-linejoin="round" />
              </svg>
            </button>
            <div class="wizard-nav-submenu" id="distribution-submenu" hidden>
              <a href="#" class="wizard-nav-subitem" data-substep="distribution-preprogrammed">
                <span class="wizard-nav-subitem__text">Pre-Programmed</span>
              </a>
              <a href="#" class="wizard-nav-subitem" data-substep="distribution-perpetual">
                <span class="wizard-nav-subitem__text">Perpetual</span>
              </a>
            </div>

            <!-- Search Ability Step (Collapsible) -->
            <button class="wizard-nav-item wizard-nav-item--expandable" data-step="search" data-toggle="search-submenu"
              aria-expanded="false">
              <svg class="wizard-nav-item__icon" width="20" height="20" viewBox="0 0 20 20" fill="none">
                <circle cx="8" cy="8" r="6" stroke="currentColor" stroke-width="2" />
                <path d="M12.5 12.5l5 5" stroke="currentColor" stroke-width="2" stroke-linecap="round" />
              </svg>
              <span class="wizard-nav-item__text">Search Ability</span>
              <span class="wizard-path__pill pill" id="status-search" aria-live="polite"></span>
              <svg class="wizard-nav-item__chevron" width="16" height="16" viewBox="0 0 16 16" fill="none">
                <path d="M6 4l4 4-4 4" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                  stroke-linejoin="round" />
              </svg>
            </button>

            <div class="wizard-nav-submenu" id="search-submenu">
              <a href="#" class="wizard-nav-subitem" data-substep="search">
                <span class="wizard-nav-subitem__text">Keywords & Description</span>
              </a>
            </div>
          </div>

          <!-- PUBLISH Section -->
          <div class="wizard-nav-section">
            <div class="wizard-nav__label">Publish</div>

            <button class="wizard-nav-item" data-step="registration">
              <svg class="wizard-nav-item__icon" width="20" height="20" viewBox="0 0 20 20" fill="none">
                <path d="M10 18a8 8 0 1 0 0-16 8 8 0 0 0 0 16z" stroke="currentColor" stroke-width="2" />
                <path d="M7 10l2 2 4-4" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                  stroke-linejoin="round" />
              </svg>
              <span class="wizard-nav-item__text">Register Token</span>
              <span class="wizard-path__pill pill" id="status-registration" aria-live="polite"></span>
            </button>
          </div>
        </nav>

        <!-- Footer with Theme Toggle -->
        <div class="wizard-sidebar__footer">
          <button class="wizard-nav-item">
            <svg class="wizard-nav-item__icon" width="20" height="20" viewBox="0 0 20 20" fill="none">
              <circle cx="10" cy="10" r="3" stroke="currentColor" stroke-width="2" />
              <path
                d="M10 1v2M10 17v2M18.5 10h-2M3.5 10h-2M15.5 4.5l-1.4 1.4M5.9 14.1l-1.4 1.4M15.5 15.5l-1.4-1.4M5.9 5.9L4.5 4.5"
                stroke="currentColor" stroke-width="2" stroke-linecap="round" />
            </svg>
            <span class="wizard-nav-item__text">Appearance</span>
          </button>
          <div class="theme-toggle-box">
            <div class="theme-toggle" role="radiogroup" aria-labelledby="theme-toggle-label">
              <span id="theme-toggle-label" class="sr-only">Appearance</span>
              <div class="theme-toggle__options">
                <label class="theme-toggle__option">
                  <input type="radio" name="ui-theme" value="light" aria-label="Use light theme">
                  <span>Light</span>
                </label>
                <label class="theme-toggle__option">
                  <input type="radio" name="ui-theme" value="dark" aria-label="Use dark theme" checked>
                  <span>Dark</span>
                </label>
              </div>
            </div>
          </div>
        </div>
      </div>
      <!-- End Token Sidebar -->

      <!-- Group Sidebar -->
      <div class="sidebar-section" data-sidebar="group" hidden>
        <!-- Sidebar Header with Branding -->
        <div class="wizard-sidebar__header">
          <button class="brand" aria-label="Return to template selection" type="button"
            onclick="showScreen('welcome', { force: true })">
            <div class="brand__icon">
              <img src="https://media.dash.org/wp-content/uploads/dash-d-rounded-square-1000.png" alt="Dash" width="32"
                height="32">
            </div>
            <span class="brand__title">Group Management</span>
          </button>
        </div>

        <!-- Search Bar -->
        <div class="wizard-sidebar__search">
          <svg class="search-icon" width="20" height="20" viewBox="0 0 20 20" fill="none">
            <path d="M9 17A8 8 0 1 0 9 1a8 8 0 0 0 0 16zM18 18l-4.35-4.35" stroke="currentColor" stroke-width="2"
              stroke-linecap="round" stroke-linejoin="round" />
          </svg>
          <input type="text" class="wizard-sidebar__search-input" placeholder="Search..."
            aria-label="Search navigation">
        </div>

        <!-- Navigation -->
        <nav class="wizard-nav" aria-label="Group navigation">
          <div class="wizard-nav__label">Group Menu</div>

          <div class="wizard-nav-section">
            <!-- Group Configuration -->
            <button class="wizard-nav-item wizard-nav-item--expandable" data-step="permissions"
              data-substep="permissions-group" data-toggle="group-submenu" aria-expanded="true">
              <svg class="wizard-nav-item__icon" width="20" height="20" viewBox="0 0 20 20" fill="none">
                <path
                  d="M7 9a3 3 0 1 0 0-6 3 3 0 0 0 0 6zM13 9a3 3 0 1 0 0-6 3 3 0 0 0 0 6zM7 11c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4zM13 11c-.33 0-.69.02-1.07.05C13.05 11.69 14 12.66 14 14v2h6v-2c0-2.66-5.33-4-8-4z"
                  fill="currentColor" />
              </svg>
              <span class="wizard-nav-item__text">Group Setup</span>
              <span class="wizard-path__pill pill" id="status-group-setup" aria-live="polite"></span>
              <svg class="wizard-nav-item__chevron" width="16" height="16" viewBox="0 0 16 16" fill="none">
                <path d="M6 4l4 4-4 4" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                  stroke-linejoin="round" />
              </svg>
            </button>
            <div class="wizard-nav-submenu" id="group-submenu">
              <a href="#" class="wizard-nav-subitem" data-substep="permissions-group">
                <span class="wizard-nav-subitem__text">Group Configuration</span>
              </a>
            </div>
          </div>
        </nav>

        <!-- Footer with Theme Toggle -->
        <div class="wizard-sidebar__footer">
          <button class="wizard-nav-item">
            <svg class="wizard-nav-item__icon" width="20" height="20" viewBox="0 0 20 20" fill="none">
              <circle cx="10" cy="10" r="3" stroke="currentColor" stroke-width="2" />
              <path
                d="M10 1v2M10 17v2M18.5 10h-2M3.5 10h-2M15.5 4.5l-1.4 1.4M5.9 14.1l-1.4 1.4M15.5 15.5l-1.4-1.4M5.9 5.9L4.5 4.5"
                stroke="currentColor" stroke-width="2" stroke-linecap="round" />
            </svg>
            <span class="wizard-nav-item__text">Appearance</span>
          </button>
          <div class="theme-toggle-box">
            <div class="theme-toggle" role="radiogroup" aria-labelledby="theme-toggle-label-group">
              <span id="theme-toggle-label-group" class="sr-only">Appearance</span>
              <div class="theme-toggle__options">
                <label class="theme-toggle__option">
                  <input type="radio" name="ui-theme-group" value="light" aria-label="Use light theme">
                  <span>Light</span>
                </label>
                <label class="theme-toggle__option">
                  <input type="radio" name="ui-theme-group" value="dark" aria-label="Use dark theme" checked>
                  <span>Dark</span>
                </label>
              </div>
            </div>
          </div>
        </div>
      </div>
      <!-- End Group Sidebar -->

    </aside>

    <main class="wizard-main wizard-container" id="wizard" data-active-step="naming" data-active-tab="token">
      <!-- Tab Navigation -->
      <div class="wizard-tabs" role="tablist" aria-label="Wizard sections">
        <button class="wizard-tab wizard-tab--active" role="tab" aria-selected="true" aria-controls="tab-panel-token"
          id="tab-token" data-tab="token">
          <svg class="wizard-tab__icon" width="20" height="20" viewBox="0 0 20 20" fill="none">
            <circle cx="10" cy="10" r="8" stroke="currentColor" stroke-width="2" />
            <path d="M10 6v8M6 10h8" stroke="currentColor" stroke-width="2" stroke-linecap="round" />
          </svg>
          <span class="wizard-tab__text">Token</span>
        </button>
        <button class="wizard-tab" role="tab" aria-selected="false" aria-controls="tab-panel-group" id="tab-group"
          data-tab="group">
          <svg class="wizard-tab__icon" width="20" height="20" viewBox="0 0 20 20" fill="none">
            <path
              d="M7 9a3 3 0 1 0 0-6 3 3 0 0 0 0 6zM13 9a3 3 0 1 0 0-6 3 3 0 0 0 0 6zM7 11c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4zM13 11c-.33 0-.69.02-1.07.05C13.05 11.69 14 12.66 14 14v2h6v-2c0-2.66-5.33-4-8-4z"
              fill="currentColor" />
          </svg>
          <span class="wizard-tab__text">Group</span>
        </button>
      </div>

      <div class="wizard-content">
        <!-- Welcome/Template Selection Screen -->
        <section class="wizard-screen wizard-screen--active" id="screen-welcome" data-step="welcome" data-tab="token">

          <!-- Right Side Guide Panel -->
          <aside class="page-guide" aria-label="Page guide" data-collapsed="false">
            <div class="page-guide__header">
              <div class="page-guide__tabs-horizontal">
                <button class="page-guide__tab page-guide__tab--info active" data-panel="info" aria-label="Show Information" aria-pressed="true">
                  Information
                </button>
                <button class="page-guide__tab page-guide__tab--guide" data-panel="guide" aria-label="Show User Guide" aria-pressed="false">
                  User Guide
                </button>
              </div>
              <button class="page-guide__collapse" aria-label="Collapse panel" aria-expanded="true">
                <svg class="page-guide__collapse-icon" width="16" height="16" viewBox="0 0 16 16" fill="none">
                  <path d="M6 12l4-4-4-4" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
              </button>
            </div>

            <div class="page-guide__panel page-guide__panel--info active" data-panel="info">
              <div class="page-guide__content">
                <h2 class="page-guide__title">Templates Library</h2>
                <p class="page-guide__intro">Start by choosing a base template that defines your token's starting
                  structure. You can also begin from scratch for full customization.</p>

                <div class="page-guide__section">
                  <h3 class="page-guide__section-title">Quick Reference</h3>

                  <h4 class="page-guide__step-heading" id="guide-available-templates">Available Templates</h4>
                  <p><strong>Start from Scratch</strong> – Full control over every setting. Build your token step-by-step with complete customization. Best for experienced users who want precise control.</p>
                  <p><strong>Simple Fixed Supply</strong> – A basic token with fixed supply that never changes. Includes burn capability and transfer notes. Perfect for simple use cases or small projects.</p>
                  <p><strong>Utility Token</strong> – Enterprise-ready token with freeze controls, compliance tools, and encrypted transfer notes. Ideal for platforms, payment systems, and regulated environments.</p>
                  <p><strong>Reward/Points Token</strong> – Continuous token emission for loyalty programs and reward systems. Features time-based fixed emission with burn capability.</p>

                  <h4 class="page-guide__step-heading" id="guide-template-features">Template Features</h4>
                  <p>Each template pre-configures:</p>
                  <ul class="page-guide__list">
                    <li><strong>Supply settings:</strong> Base supply, max supply, decimals</li>
                    <li><strong>Permissions:</strong> Minting, burning, freezing controls</li>
                    <li><strong>Distribution:</strong> Manual, pre-programmed, or perpetual</li>
                    <li><strong>Transfer notes:</strong> Public, encrypted, or disabled</li>
                  </ul>

                  <h4 class="page-guide__step-heading" id="guide-what-happens-next">What Happens Next</h4>
                  <p>After choosing a template, you'll customize your token's name, supply settings, permissions, distribution rules, and more. All template defaults can be adjusted to match your specific needs.</p>
                </div>
              </div>
            </div>

            <div class="page-guide__panel page-guide__panel--guide" data-panel="guide" hidden>
              <div class="page-guide__content">
                <h2 class="page-guide__title">Templates Library</h2>
                <p class="page-guide__intro">Step-by-step guide to selecting your token template.</p>

                <div class="page-guide__section">
                  <h3 class="page-guide__section-title">Step 1: Review Template Options</h3>
                  <p>Review the four available templates based on your needs and experience level. Each shows estimated completion time and key features.</p>
                </div>

                <div class="page-guide__section">
                  <h3 class="page-guide__section-title">Step 2: Choose Your Template</h3>

                  <h4 class="page-guide__step-heading">Start from Scratch (Intermediate, ~10 min)</h4>
                  <p>Select this for full control over every token setting. Build your token step-by-step with complete customization.</p>

                  <h4 class="page-guide__step-heading">Simple Fixed Supply (Beginner, ~5 min)</h4>
                  <p>Select this for a basic token with fixed supply, burn capability, and transfer notes. Best for straightforward use cases with minimal complexity.</p>

                  <h4 class="page-guide__step-heading">Utility Token (Intermediate, ~10 min)</h4>
                  <p>Select this for enterprise features including freeze controls, compliance tools, and encrypted transfer notes. Ideal for platforms and payment systems.</p>

                  <h4 class="page-guide__step-heading">Reward/Points Token (Advanced, ~10 min)</h4>
                  <p>Select this for continuous token emission. Best for loyalty programs and reward systems with time-based fixed emission and burn capability.</p>
                </div>

                <div class="page-guide__section">
                  <h3 class="page-guide__section-title">Step 3: Click Your Selection</h3>
                  <p>Click on your chosen template card to proceed. The system will pre-configure settings based on your selection, which you can customize in subsequent steps.</p>
                </div>

                <div class="page-guide__section">
                  <h3 class="page-guide__section-title">Step 4: Continue</h3>
                  <p>Once selected, you'll advance to the detailed configuration screens with template-specific defaults already applied.</p>
                </div>
              </div>
            </div>
          </aside>

          <div class="wizard-screen__inner wizard-screen__inner--centered">
            <div class="welcome-container">
              <h1 class="welcome-title">Dash Token Wizard</h1>
              <p class="welcome-subtitle">Create custom tokens on Dash Platform with ease</p>

              <div class="template-selection">
                <h2 class="template-selection__title">Choose a starting point</h2>
                <p class="template-selection__description">Select a template to get started quickly, or start from
                  scratch</p>

                <div class="template-grid">
                  <!-- Start from Scratch -->
                  <button class="template-card" type="button" data-template="scratch">
                    <span class="difficulty-badge difficulty-badge--intermediate">Intermediate</span>
                    <div class="template-card__icon">
                      <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                        <path d="M12 2l1.5 4.5L18 8l-4.5 1.5L12 14l-1.5-4.5L6 8l4.5-1.5L12 2z"/>
                        <path d="M6 16l1 2 2 1-2 1-1 2-1-2-2-1 2-1 1-2z"/>
                        <path d="M18 16l1 2 2 1-2 1-1 2-1-2-2-1 2-1 1-2z"/>
                      </svg>
                    </div>
                    <div class="template-card__content">
                      <h3 class="template-card__title">Start from Scratch</h3>
                      <span class="time-estimate">~10 min</span>
                      <p class="template-card__description">Build your token step-by-step with full control over every
                        setting</p>
                      <div class="template-card__preview">
                        <h4 class="template-card__preview-title">Configuration</h4>
                        <ul class="template-card__preview-list">
                          <li class="template-card__preview-item">
                            <span class="template-card__preview-label">Supply:</span>
                            <span class="template-card__preview-value">Custom</span>
                          </li>
                          <li class="template-card__preview-item">
                            <span class="template-card__preview-label">Distribution:</span>
                            <span class="template-card__preview-value">Custom</span>
                          </li>
                          <li class="template-card__preview-item">
                            <span class="template-card__preview-label">Control:</span>
                            <span class="template-card__preview-value">Full</span>
                          </li>
                        </ul>
                      </div>
                    </div>
                  </button>

                  <!-- Simple Fixed Supply -->
                  <button class="template-card" type="button" data-template="simple-fixed">
                    <span class="difficulty-badge difficulty-badge--beginner">Beginner</span>
                    <div class="template-card__icon">
                      <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                        <circle cx="12" cy="12" r="10" fill="none" stroke="currentColor" stroke-width="2"/>
                        <path d="M12 6v12M9 9h6c.8 0 1.5.7 1.5 1.5S15.8 12 15 12H9M9 12h6c.8 0 1.5.7 1.5 1.5S15.8 15 15 15H9"/>
                      </svg>
                    </div>
                    <div class="template-card__content">
                      <h3 class="template-card__title">Simple Fixed Supply</h3>
                      <span class="time-estimate">~5 min</span>
                      <p class="template-card__description">Basic token with fixed supply, burn capability, and transfer notes. Perfect for simple use cases with basic controls</p>
                      <div class="template-card__specs">
                        <span class="spec-badge">Fixed Supply</span>
                        <span class="spec-badge">Burnable</span>
                        <span class="spec-badge">Transfer Notes</span>
                      </div>
                      <div class="template-card__preview">
                        <h4 class="template-card__preview-title">Configuration</h4>
                        <ul class="template-card__preview-list">
                          <li class="template-card__preview-item">
                            <span class="template-card__preview-label">Max Supply:</span>
                            <span class="template-card__preview-value">1,000,000</span>
                          </li>
                          <li class="template-card__preview-item">
                            <span class="template-card__preview-label">Decimals:</span>
                            <span class="template-card__preview-value">8</span>
                          </li>
                          <li class="template-card__preview-item">
                            <span class="template-card__preview-label">Distribution:</span>
                            <span class="template-card__preview-value">None</span>
                          </li>
                        </ul>
                      </div>
                    </div>
                  </button>

                  <!-- Utility Token -->
                  <button class="template-card" type="button" data-template="utility">
                    <span class="difficulty-badge difficulty-badge--intermediate">Intermediate</span>
                    <div class="template-card__icon">
                      <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                        <path d="M12 15c1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3 1.34 3 3 3z"/>
                        <path d="M19.4 13c-.3 0-.5-.2-.5-.5 0-.3.2-.5.5-.5.3 0 .5.2.5.5s-.2.5-.5.5zM21 13h-1.6c-.3 0-.5-.2-.5-.5s.2-.5.5-.5H21c.3 0 .5.2.5.5s-.2.5-.5.5zM3 13h1.6c.3 0 .5-.2.5-.5s-.2-.5-.5-.5H3c-.3 0-.5.2-.5.5s.2.5.5.5zM4.6 13c.3 0 .5-.2.5-.5 0-.3-.2-.5-.5-.5-.3 0-.5.2-.5.5s.2.5.5.5zM12 2l1.5 1.5L15 2l1.5 1.5L18 2v4l-1.5-1.5L15 6l-1.5-1.5L12 6V2zM12 22l-1.5-1.5L9 22l-1.5-1.5L6 22v-4l1.5 1.5L9 18l1.5 1.5L12 18v4z"/>
                        <circle cx="12" cy="12" r="3" fill="none" stroke="currentColor" stroke-width="1.5"/>
                        <path d="M19.07 4.93l-1.41 1.41M6.34 17.66l-1.41 1.41M19.07 19.07l-1.41-1.41M6.34 6.34l-1.41-1.41"/>
                      </svg>
                    </div>
                    <div class="template-card__content">
                      <h3 class="template-card__title">Utility Token</h3>
                      <span class="time-estimate">~10 min</span>
                      <p class="template-card__description">Enterprise-ready token with freeze controls, compliance features, and encrypted transfer notes. Perfect for platforms and payment systems</p>
                      <div class="template-card__specs">
                        <span class="spec-badge">Freeze Controls</span>
                        <span class="spec-badge">Transfer Notes</span>
                        <span class="spec-badge">Compliance Ready</span>
                      </div>
                      <div class="template-card__preview">
                        <h4 class="template-card__preview-title">Configuration</h4>
                        <ul class="template-card__preview-list">
                          <li class="template-card__preview-item">
                            <span class="template-card__preview-label">Max Supply:</span>
                            <span class="template-card__preview-value">10,000,000</span>
                          </li>
                          <li class="template-card__preview-item">
                            <span class="template-card__preview-label">Trading:</span>
                            <span class="template-card__preview-value">Permissionless</span>
                          </li>
                          <li class="template-card__preview-item">
                            <span class="template-card__preview-label">Burn:</span>
                            <span class="template-card__preview-value">Enabled</span>
                          </li>
                        </ul>
                      </div>
                    </div>
                  </button>

                  <!-- Reward Token -->
                  <button class="template-card" type="button" data-template="reward">
                    <span class="difficulty-badge difficulty-badge--advanced">Advanced</span>
                    <div class="template-card__icon">
                      <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                        <path d="M20 12v8H4v-8"/>
                        <rect x="2" y="12" width="20" height="3" fill="none" stroke="currentColor" stroke-width="2"/>
                        <path d="M12 2v10M12 2l-3 3M12 2l3 3"/>
                        <path d="M7 7c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zM17 7c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2z"/>
                        <path d="M7 7v5M17 7v5"/>
                      </svg>
                    </div>
                    <div class="template-card__content">
                      <h3 class="template-card__title">Reward/Points Token</h3>
                      <span class="time-estimate">~10 min</span>
                      <p class="template-card__description">Continuous emission for user rewards and loyalty programs
                      </p>
                      <div class="template-card__specs">
                        <span class="spec-badge">Time-Based</span>
                        <span class="spec-badge">Fixed Emission</span>
                        <span class="spec-badge">Burn Enabled</span>
                      </div>
                      <div class="template-card__preview">
                        <h4 class="template-card__preview-title">Configuration</h4>
                        <ul class="template-card__preview-list">
                          <li class="template-card__preview-item">
                            <span class="template-card__preview-label">Emission:</span>
                            <span class="template-card__preview-value">100/day</span>
                          </li>
                          <li class="template-card__preview-item">
                            <span class="template-card__preview-label">Cadence:</span>
                            <span class="template-card__preview-value">Time-based</span>
                          </li>
                          <li class="template-card__preview-item">
                            <span class="template-card__preview-label">Max Supply:</span>
                            <span class="template-card__preview-value">Unlimited</span>
                          </li>
                        </ul>
                      </div>
                    </div>
                  </button>
                </div>
              </div>
            </div>
          </div>
        </section>

        <!-- Template Confirmation Modal -->
        <div class="modal" id="template-confirmation-modal" hidden>
          <div class="modal__overlay"></div>
          <div class="modal__content">
            <div class="modal__header">
              <h2 class="modal__title" id="template-modal-title">Apply Template?</h2>
            </div>
            <div class="modal__body">
              <p id="template-modal-description">This will replace your current configuration with the template
                settings.</p>
              <div class="template-preview" id="template-modal-preview">
                <!-- Template details will be inserted here -->
              </div>
              <p class="modal__warning">⚠️ Any unsaved changes will be lost.</p>
            </div>
            <div class="modal__footer">
              <button class="wizard-button wizard-button--secondary" type="button"
                id="template-cancel-btn">Cancel</button>
              <button class="wizard-button wizard-button--primary" type="button" id="template-confirm-btn">Apply
                Template</button>
            </div>
          </div>
        </div>

        <!-- Naming: Token Name Sub-step -->
        <section class="wizard-screen" id="screen-naming" data-step="naming" data-substep="naming" data-tab="token"
          hidden>

          <!-- Right Side Guide Panel -->
          <aside class="page-guide" aria-label="Page guide" data-collapsed="false">
            <div class="page-guide__header">
              <div class="page-guide__tabs-horizontal">
                <button class="page-guide__tab page-guide__tab--info active" data-panel="info" aria-label="Show Information" aria-pressed="true">
                  Information
                </button>
                <button class="page-guide__tab page-guide__tab--guide" data-panel="guide" aria-label="Show User Guide" aria-pressed="false">
                  User Guide
                </button>
              </div>
              <button class="page-guide__collapse" aria-label="Collapse panel" aria-expanded="true">
                <svg class="page-guide__collapse-icon" width="16" height="16" viewBox="0 0 16 16" fill="none">
                  <path d="M6 12l4-4-4-4" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
              </button>
            </div>

            <div class="page-guide__panel page-guide__panel--info active" data-panel="info">
              <div class="page-guide__content">
                <h2 class="page-guide__title">Token Name</h2>
                <p class="page-guide__intro">Give your token its identity with a memorable name and display settings.</p>

                <div class="page-guide__section">
                  <h3 class="page-guide__section-title">Quick Reference</h3>

                  <h4 class="page-guide__step-heading" id="naming-token-name">Token Name</h4>
                  <p><strong>What it is:</strong> The primary identifier for your token (2-64 characters).</p>
                  <p><strong>Example:</strong> "Mega Awesome Token", "ServiceCredits", "LoyaltyPoints"</p>
                  <p><strong>⚠️ Important:</strong> This name becomes your token's identity on Dash Platform. Changes require governance approval via conventionsChangeRules.</p>

                  <h4 class="page-guide__step-heading" id="naming-plural-form">Plural Form</h4>
                  <p><strong>What it is:</strong> How multiple units are displayed (3-25 characters, required).</p>
                  <p><strong>Example:</strong> "Tokens", "Credits", "Points", "Coins"</p>
                  <p><strong>Why it matters:</strong> Wallets and apps use this when showing balances: "You have 100 Tokens"</p>
                  <p><strong>Platform requirement:</strong> Both singular and plural forms must be 3-25 characters and are validated by Dash Platform v2.0.</p>

                  <h4 class="page-guide__step-heading" id="naming-capitalization">Capitalization</h4>
                  <p><strong>What it does:</strong> The shouldCapitalize boolean forces the first letter to be uppercase in all displays.</p>
                  <p><strong>Example:</strong> "token" → "Token", "credit" → "Credit"</p>
                  <p><strong>Use case:</strong> Enable if your token name should always be treated as a proper noun.</p>
                </div>

                <div class="page-guide__section">
                  <h3 class="page-guide__section-title">Platform Requirements</h3>
                  <ul class="page-guide__list">
                    <li><strong>Token Name:</strong> 2-64 characters</li>
                    <li><strong>Singular/Plural Forms:</strong> 3-25 characters (both required)</li>
                    <li><strong>English Required:</strong> English ('en') localization is mandatory</li>
                    <li><strong>Validation:</strong> Dash Platform v2.0 validates all localization structures</li>
                    <li><strong>Permanence:</strong> Name changes governed by conventionsChangeRules (not freely mutable)</li>
                    <li>Use letters, numbers, and spaces; avoid special symbols unless necessary</li>
                  </ul>
                </div>

                <div class="page-guide__section">
                  <h3 class="page-guide__section-title">Naming Tips</h3>
                  <ul class="page-guide__list">
                    <li>Keep it short, memorable, and pronounceable</li>
                    <li>Make it relevant to your token's purpose</li>
                    <li>Check that it doesn't conflict with existing brands</li>
                    <li>Consider how it looks in lowercase and uppercase</li>
                  </ul>
                </div>
              </div>
            </div>

            <div class="page-guide__panel page-guide__panel--guide" data-panel="guide" hidden>
              <div class="page-guide__content">
                <h2 class="page-guide__title">Token Name</h2>
                <p class="page-guide__intro">Step-by-step guide to naming your token.</p>

                <div class="page-guide__section">
                  <h3 class="page-guide__section-title">Step 1: Enter Token Name</h3>
                  <p>Type a unique name for your token (2-64 characters). This is what users will see across the platform. Example: "Galaxy Token" or "Reward Point".</p>
                </div>

                <div class="page-guide__section">
                  <h3 class="page-guide__section-title">Step 2: Define Plural Form</h3>
                  <p>Enter how multiple units should be displayed (3-25 characters). If your token is "Coin", enter "Coins". If it's "Token", enter "Tokens".</p>
                </div>

                <div class="page-guide__section">
                  <h3 class="page-guide__section-title">Step 3: Set Capitalization</h3>
                  <p>Toggle "Capitalize token name" on if you want your token name to appear with a capital letter in system displays. Leave off to keep it lowercase.</p>
                </div>

                <div class="page-guide__section">
                  <h3 class="page-guide__section-title">Step 4: Verify</h3>
                  <p>Check that both fields show no error messages. Ensure your token name is unique and both entries meet the character requirements.</p>
                </div>

                <div class="page-guide__section">
                  <h3 class="page-guide__section-title">Step 5: Continue</h3>
                  <p>Once all fields are valid, proceed to the next configuration tab.</p>
                </div>
              </div>
            </div>
          </aside>

          <div class="wizard-screen__inner">
            <form class="wizard-form" id="naming-form" novalidate>
              <h1 class="wizard-screen__title" id="title-naming" tabindex="-1">Token Name
              </h1>
              <p class="wizard-screen__subtitle">Give your token a memorable name and define how it should be displayed.
              </p>

              <!-- Token Name Card -->
              <div class="form-card" style="max-width: 100%;">
                <div class="form-card__header">
                  <h3 class="form-card__title">Token Name</h3>
                  <p class="form-card__description">Choose a unique name for your token and define how it should be
                    displayed<br>This will be your English localization which is required</p>
                </div>
                <div class="form-card__body">
                  <div class="field-group">
                    <label class="wizard-field__label" for="token-name">
                      Token Name *
                    </label>
                    <input class="wizard-field__input" id="token-name" name="token-name" type="text" inputmode="text"
                      autocomplete="off" placeholder="e.g., Mega Awesome Token" required maxlength="64"
                      aria-describedby="token-name-message">
                    <span class="field-hint">2-64 characters • This is what users will see</span>
                    <p class="wizard-field__message" id="token-name-message" role="status" aria-live="polite"></p>
                  </div>

                  <div class="field-group">
                    <label class="wizard-field__label" for="token-plural">Plural form</label>
                    <input class="wizard-field__input" id="token-plural" name="token-plural" type="text"
                      inputmode="text" autocomplete="off" placeholder="Tokens" required minlength="3" maxlength="25"
                      aria-describedby="token-plural-message">
                    <span class="field-hint">3-25 characters • How multiple units are displayed (e.g., "Tokens",
                      "Coins")</span>
                    <p class="wizard-field__message" id="token-plural-message" role="status" aria-live="polite"></p>
                  </div>

                  <div class="field-group">
                    <label class="wizard-checkbox" for="token-capitalize">
                      <input class="wizard-checkbox__input" type="checkbox" id="token-capitalize"
                        name="token-capitalize">
                      <span class="wizard-checkbox__label">Capitalize token name</span>
                    </label>
                    <span class="field-hint">When enabled, "token" becomes "Token" in displays</span>
                  </div>
                </div>

                <div class="wizard-actions wizard-actions--end wizard-actions--sticky">
                  <button class="wizard-button wizard-button--primary" id="naming-next" type="submit" disabled>Continue
                    →</button>
                </div>
            </form>
          </div>
        </section>

        <!-- Naming: Localization Sub-step -->
        <section class="wizard-screen" id="screen-naming-localization" data-step="naming"
          data-substep="naming-localization" data-tab="token" hidden>

          <!-- Right Side Guide Panel -->
          <aside class="page-guide" aria-label="Page guide" data-collapsed="false">
            <div class="page-guide__header">
              <div class="page-guide__tabs-horizontal">
                <button class="page-guide__tab page-guide__tab--info active" data-panel="info" aria-label="Show Information" aria-pressed="true">
                  Information
                </button>
                <button class="page-guide__tab page-guide__tab--guide" data-panel="guide" aria-label="Show User Guide" aria-pressed="false">
                  User Guide
                </button>
              </div>
              <button class="page-guide__collapse" aria-label="Collapse panel" aria-expanded="true">
                <svg class="page-guide__collapse-icon" width="16" height="16" viewBox="0 0 16 16" fill="none">
                  <path d="M6 12l4-4-4-4" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
              </button>
            </div>

            <div class="page-guide__panel page-guide__panel--info active" data-panel="info">
              <div class="page-guide__content">
                <h2 class="page-guide__title">Name Localization</h2>
                <p class="page-guide__intro">Add translations for your token's name across different languages to reach global audiences.</p>

                <div class="page-guide__section">
                  <h3 class="page-guide__section-title">Quick Reference</h3>
                  <p><strong>Important:</strong> The token name you entered in the previous step automatically serves as
                    the English ('en') localization, which is required by Dash Platform. Use this screen to add optional
                    translations for other languages.</p>

                  <p><strong>For each additional language, define:</strong></p>
                  <ul class="page-guide__list">
                    <li>ISO 639-1 two-letter language code (e.g., 'es', 'fr', 'de')</li>
                    <li>Singular form (3-25 characters)</li>
                    <li>Plural form (3-25 characters)</li>
                    <li>Capitalization preference (shouldCapitalize boolean)</li>
                  </ul>

                  <h4 class="page-guide__step-heading" id="guide-language-codes">Language Codes (ISO 639-1)</h4>
                  <p>Use standard ISO 639-1 two-letter codes for language identification:</p>
                  <ul class="page-guide__list">
                    <li><strong>en</strong> - English (required - already set from previous step)</li>
                    <li><strong>es</strong> - Spanish (Español)</li>
                    <li><strong>fr</strong> - French (Français)</li>
                    <li><strong>de</strong> - German (Deutsch)</li>
                    <li><strong>zh</strong> - Chinese (中文)</li>
                    <li><strong>ja</strong> - Japanese (日本語)</li>
                    <li><strong>pt</strong> - Portuguese (Português)</li>
                    <li><strong>ru</strong> - Russian (Русский)</li>
                    <li><strong>ar</strong> - Arabic (العربية)</li>
                    <li><strong>hi</strong> - Hindi (हिन्दी)</li>
                  </ul>

                  <h4 class="page-guide__step-heading" id="guide-why-localization-matters">Platform Requirements</h4>
                  <ul class="page-guide__list">
                    <li>English ('en') localization is mandatory</li>
                    <li>All other languages are optional</li>
                    <li>Dash Platform v2.0 validates all localization structures</li>
                    <li>Singular and plural forms must each be 3-25 characters</li>
                    <li>Language codes must match ISO 639-1 standard</li>
                  </ul>
                </div>

                <div class="page-guide__section">
                  <h3 class="page-guide__section-title">Best Practices</h3>
                  <ul class="page-guide__list">
                    <li>Work with native speakers for accurate, culturally appropriate translations</li>
                    <li>Ensure singular and plural forms are grammatically correct in each language</li>
                    <li>Test character counts - some languages use longer words than English</li>
                    <li>Consider your target markets when choosing which languages to support</li>
                    <li>Test localization on Dash Platform v2.0 testnet before mainnet deployment</li>
                    <li>English serves as the fallback language when others aren't available</li>
                  </ul>
                </div>
              </div>
            </div>

            <div class="page-guide__panel page-guide__panel--guide" data-panel="guide" hidden>
              <div class="page-guide__content">
                <h2 class="page-guide__title">Localization</h2>
                <p class="page-guide__intro">Step-by-step guide to adding multi-language support for your token.</p>

                <div class="page-guide__section">
                  <h3 class="page-guide__section-title">Step 1: Decide on Localization</h3>
                  <p>Toggle "Support multiple languages for international reach" on if you want to provide translations for your token name. Leave off if English-only is sufficient.</p>
                </div>

                <div class="page-guide__section">
                  <h3 class="page-guide__section-title">Step 2: Select Language Code (if enabled)</h3>
                  <p>Choose a 2-letter ISO 639-1 language code from the dropdown list or type your own. Examples: "es" for Spanish, "fr" for French, "de" for German, "ja" for Japanese, "ko" for Korean.</p>
                </div>

                <div class="page-guide__section">
                  <h3 class="page-guide__section-title">Step 3: Enter Translation (if enabled)</h3>
                  <p>After selecting a language code, enter the translated token name and plural form for that language. Follow the same character requirements as your English version.</p>
                </div>

                <div class="page-guide__section">
                  <h3 class="page-guide__section-title">Step 4: Set Capitalization (if enabled)</h3>
                  <p>Toggle "Capitalize token name" for this language if you want the token name to appear with a capital letter in system displays for that specific language.</p>
                </div>

                <div class="page-guide__section">
                  <h3 class="page-guide__section-title">Step 5: Add More Languages (optional)</h3>
                  <p>Click "+ Add language" to include additional translations. Repeat steps 2-4 for each language. Click "Remove" next to any language to delete it.</p>
                </div>

                <div class="page-guide__section">
                  <h3 class="page-guide__section-title">Step 6: Continue</h3>
                  <p>Proceed to the next configuration tab once your localization setup is complete.</p>
                </div>
              </div>
            </div>
          </aside>

          <div class="wizard-screen__inner">
            <form class="wizard-form" id="naming-localization-form" novalidate>
              <h1 class="wizard-screen__title" id="title-naming-localization" tabindex="-1">How should your token appear
                in other languages?</h1>
              <p class="wizard-screen__subtitle">Add translations to make your token accessible to a global audience.
              </p>

              <!-- Localization Card -->
              <div class="form-card">
                <div class="form-card__header">
                  <h3 class="form-card__title">Localization <span class="wizard-badge wizard-badge--optional"
                      style="margin-left: var(--space-2);">Optional</span></h3>
                  <p class="form-card__description">Support multiple languages for international reach</p>
                </div>
                <div class="form-card__body">
                  <section class="localization-section" aria-labelledby="localization-heading">
                    <p class="localization-section__lead" id="localization-guidance">Add translations to make your token
                      accessible worldwide. English is recommended as the first language.</p>
                    <div class="localization-empty" id="localization-empty-state">
                      <button class="wizard-button wizard-button--secondary" type="button" id="localization-add"
                        aria-expanded="false">Add localization</button>
                    </div>
                    <div class="localization-wrapper" id="localization-wrapper" hidden>
                      <div class="localization-section__list" id="localization-list"></div>
                      <button class="wizard-button wizard-button--secondary" type="button" id="localization-add-more"
                        style="margin-top: var(--space-3);">+ Add language</button>
                      <p class="localization-section__message" id="localization-global-message" role="status"
                        aria-live="polite"></p>
                    </div>
                  </section>
                </div>

                <div class="wizard-actions wizard-actions--between wizard-actions--sticky">
                  <button class="wizard-button wizard-button--secondary" type="button"
                    data-step-back="naming-localization">← Back</button>
                  <button class="wizard-button wizard-button--secondary" type="button" id="contract-preview-btn">📄
                    Contract Preview</button>
                  <button class="wizard-button wizard-button--primary" id="naming-localization-next"
                    type="submit">Continue →</button>
                </div>
            </form>
          </div>
        </section>

        <!-- Naming: Update Sub-step -->
        <section class="wizard-screen" id="screen-naming-update" data-step="naming" data-substep="naming-update"
          data-tab="token" hidden>

          <!-- Right Side Guide Panel -->
          <aside class="page-guide" aria-label="Page guide" data-collapsed="false">
            <div class="page-guide__header">
              <div class="page-guide__tabs-horizontal">
                <button class="page-guide__tab page-guide__tab--info active" data-panel="info" aria-label="Show Information" aria-pressed="true">
                  Information
                </button>
                <button class="page-guide__tab page-guide__tab--guide" data-panel="guide" aria-label="Show User Guide" aria-pressed="false">
                  User Guide
                </button>
              </div>
              <button class="page-guide__collapse" aria-label="Collapse panel" aria-expanded="true">
                <svg class="page-guide__collapse-icon" width="16" height="16" viewBox="0 0 16 16" fill="none">
                  <path d="M6 12l4-4-4-4" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
              </button>
            </div>

            <div class="page-guide__panel page-guide__panel--info active" data-panel="info">
              <div class="page-guide__content">
                <h2 class="page-guide__title">Name Updates</h2>
                <p class="page-guide__intro">Configure who can modify your token's naming conventions after deployment through the conventionsChangeRules governance system.</p>

                <div class="page-guide__section">
                  <h3 class="page-guide__section-title">Quick Reference</h3>
                  <p><strong>Important:</strong> Token names are NOT freely mutable on Dash Platform. All name changes must be approved through the conventionsChangeRules governance system you configure here.</p>

                  <p><strong>Choose who can approve name changes:</strong></p>
                  <ul class="page-guide__list">
                    <li><strong>Contract Owner (you)</strong> - Only you can approve changes</li>
                    <li><strong>Specific Identity (ID-based)</strong> - Delegate approval to another trusted identity</li>
                    <li><strong>Group (shared control)</strong> - Multi-signature governance requiring committee approval</li>
                    <li><strong>No One (fully locked)</strong> - Names are permanently locked and can never be changed</li>
                  </ul>

                  <h4 class="page-guide__step-heading" id="guide-what-this-controls">What This Controls</h4>
                  <p>The conventionsChangeRules determine whether your token's display conventions can be updated after deployment, including:</p>
                  <ul class="page-guide__list">
                    <li>Token name (singular and plural forms in all languages)</li>
                    <li>Localization strings (ISO 639-1 translations)</li>
                    <li>Capitalization preferences (shouldCapitalize boolean)</li>
                    <li>Display decimals (in some configurations)</li>
                  </ul>
                  <p><strong>Platform validation:</strong> Dash Platform v2.0 validates all name changes against the 3-25 character limit for singular/plural forms.</p>
                </div>

                <div class="page-guide__section">
                  <h3 class="page-guide__section-title">Best Practices</h3>
                  <ul class="page-guide__list">
                    <li><strong>Early-stage projects:</strong> Enable changes with Owner or Group control for flexibility during development and rebranding.</li>
                    <li><strong>Mature projects:</strong> Lock changes (set to "No One") after establishing brand identity and exchange listings to build trust.</li>
                    <li><strong>DAO tokens:</strong> Use Group control for community governance over all naming decisions.</li>
                    <li><strong>Enterprise tokens:</strong> Assign to Specific Identity for compliance or regulatory control.</li>
                    <li><strong>Test on Platform v2.0 testnet:</strong> Validate governance workflows before mainnet deployment.</li>
                  </ul>
                </div>

                <div class="page-guide__section">
                  <h3 class="page-guide__section-title">Critical Warnings</h3>
                  <p><strong>Permanent Lock:</strong> Setting this to "No One" is irreversible and cannot be undone. Your token's name will be permanently locked forever.</p>
                  <p><strong>Rebranding Considerations:</strong> If you anticipate potential rebranding or name corrections, keep this permission enabled with appropriate governance controls.</p>
                  <p><strong>Governance Requirement:</strong> Remember that changes are not freely mutable - they always require approval through conventionsChangeRules, even if enabled.</p>
                </div>
              </div>
            </div>

            <div class="page-guide__panel page-guide__panel--guide" data-panel="guide" hidden>
              <div class="page-guide__content">
                <h2 class="page-guide__title">Update</h2>
                <p class="page-guide__intro">Step-by-step guide to configuring token name update permissions.</p>

                <div class="page-guide__section">
                  <h3 class="page-guide__section-title">Step 1: Enable or Disable Name Updates</h3>
                  <p>Choose "No" if token names should be permanently fixed after deployment. Choose "Yes" if you want the ability to change token names later.</p>
                </div>

                <div class="page-guide__section">
                  <h3 class="page-guide__section-title">Step 2: Select Update Authority (if enabled)</h3>
                  <p>Choose who has permission to update token names:</p>
                  <p><strong>Owner Only:</strong> Only the contract owner can change token names. Select this for single-owner control.</p>
                  <p><strong>Specific Identity:</strong> Only one designated identity can change token names. Select this to assign update permissions to a specific Dash Platform identity.</p>
                  <p><strong>Group:</strong> Members of a designated group can change token names. Select this for multi-signature approval on name changes.</p>
                </div>

                <div class="page-guide__section">
                  <h3 class="page-guide__section-title">Step 3: Enter Identity ID (if Specific Identity selected)</h3>
                  <p>Enter the Dash Platform identity ID (43-44 characters, Base58-encoded) that will have permission to update token names.</p>
                </div>

                <div class="page-guide__section">
                  <h3 class="page-guide__section-title">Step 4: Verify Configuration</h3>
                  <p>Ensure your selection matches your governance needs. If using Specific Identity, verify the Identity ID is correct.</p>
                </div>

                <div class="page-guide__section">
                  <h3 class="page-guide__section-title">Step 5: Continue</h3>
                  <p>Proceed to the next configuration tab once your update permissions are configured.</p>
                </div>
              </div>
            </div>
          </aside>

          <div class="wizard-screen__inner">
            <form class="wizard-form" id="naming-update-form" novalidate>
              <h1 class="wizard-screen__title" id="title-naming-update" tabindex="-1">Can the token names be changed?
              </h1>
              <p class="wizard-screen__subtitle">Configure permissions for updating token names after deployment.</p>

              <!-- Update Names Card -->
              <div class="form-card">
                <div class="form-card__header">
                  <h3 class="form-card__title">Updating Names</h3>
                  <p class="form-card__description">Choose whether token names can be modified after deployment</p>
                </div>
                <div class="form-card__body">
                  <fieldset class="wizard-fieldset">
                    <legend class="wizard-field__label with-help">Enable updating names?
                      <button type="button" class="help-icon" data-help="update-naming" data-guide-target="guide-update-naming" aria-label="Help: Update Naming Rules" tabindex="0">
                        <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
                          <circle cx="8" cy="8" r="7" stroke="currentColor" stroke-width="2"/>
                          <path d="M8 7v4M8 4.5h.01" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                        </svg>
                      </button>
                    </legend>

                    <!-- No Option -->
                    <label class="wizard-choice">
                      <input class="wizard-choice__input" type="radio" name="update-names-enabled" value="disabled"
                        checked>
                      <span class="wizard-choice__content">
                        <span class="wizard-choice__title">No</span>
                        <span class="wizard-choice__hint">Token names are fixed and cannot be changed</span>
                      </span>
                    </label>

                    <!-- Yes Option -->
                    <label class="wizard-choice">
                      <input class="wizard-choice__input" type="radio" name="update-names-enabled" value="enabled"
                        data-toggle-panel="update-names-permissions-panel">
                      <span class="wizard-choice__content">
                        <span class="wizard-choice__title">Yes</span>
                        <span class="wizard-choice__hint">Allow changing token names after deployment</span>
                      </span>
                    </label>
                  </fieldset>

                  <!-- Permission Configuration (shown only when Yes is selected) -->
                  <div class="distribution-inline-panel" id="update-names-permissions-panel" hidden>
                    <div class="authorization-group">
                      <!-- Authorized to perform action -->
                      <div class="field-group">
                        <label class="wizard-field__label" for="update-names-permission">
                          Authorized to perform action
                          <button type="button" class="help-icon" data-help="update-names-permission" data-guide-target="guide-update-naming" aria-label="Help: Update Names Permission" tabindex="0">
                            <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
                              <circle cx="8" cy="8" r="7" stroke="currentColor" stroke-width="2"/>
                              <path d="M8 7v4M8 4.5h.01" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                            </svg>
                          </button>
                        </label>
                        <select class="wizard-field__input" id="update-names-permission" name="update-names-permission">
                          <option value="no-one" selected>No One</option>
                          <option value="owner">Contract Owner</option>
                          <option value="identity">Specific Identity</option>
                          <option value="group">Specific Group</option>
                        </select>
                        <span class="field-hint">Choose who can update token names after deployment</span>
                      </div>

                      <!-- Identity Panel -->
                      <div class="authorization-inline-panel" id="update-names-panel-identity" hidden>
                        <div class="field-group">
                          <label class="wizard-field__label" for="update-names-identity-id">Identity ID</label>
                          <input class="wizard-field__input" type="text" id="update-names-identity-id"
                            name="update-names-identity-id" placeholder="Enter the Base58 ID">
                          <span class="field-hint">Enter the Dash Platform identity ID that can change token names</span>
                        </div>
                      </div>

                      <!-- Group Panel -->
                      <div class="authorization-inline-panel" id="update-names-panel-group" hidden>
                        <div class="field-group" id="update-names-group-selector-container">
                          <label class="wizard-field__label" for="update-names-group-id">Select group</label>
                          <select class="wizard-field__input" id="update-names-group-id" name="update-names-group-id">
                            <option value="">Select a group...</option>
                          </select>
                          <span class="field-hint" id="update-names-group-hint">Choose which group can perform this action</span>
                        </div>
                        <div class="field-message field-message--info" id="update-names-no-groups-message" hidden>
                          <p>No group has been created yet.</p>
                          <button class="wizard-button wizard-button--secondary wizard-button--small" type="button"
                            id="update-names-create-group-btn">Create Group</button>
                        </div>
                      </div>

                      <!-- Authorized to change rules -->
                      <div class="field-group" style="margin-top: var(--space-6); padding-top: var(--space-6); border-top: 1px solid var(--color-border);">
                        <label class="wizard-field__label" for="update-names-rule-changer">
                          Authorized to change rules
                          <button type="button" class="help-icon" data-help="update-names-rule-changer" data-guide-target="guide-governance-safeguards-naming" aria-label="Help: Update Names Rule Changer" tabindex="0">
                            <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
                              <circle cx="8" cy="8" r="7" stroke="currentColor" stroke-width="2"/>
                              <path d="M8 7v4M8 4.5h.01" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                            </svg>
                          </button>
                        </label>
                        <select class="wizard-field__input" id="update-names-rule-changer" name="update-names-rule-changer">
                          <option value="no-one" selected>No One</option>
                          <option value="owner">Contract Owner</option>
                          <option value="identity">Specific Identity</option>
                          <option value="group">Specific Group</option>
                        </select>
                        <span class="field-hint">Define who has authority to modify name update permissions after deployment</span>
                      </div>

                      <!-- Rule Changer Identity Panel -->
                      <div class="authorization-inline-panel" id="update-names-rule-panel-identity" hidden>
                        <div class="field-group">
                          <label class="wizard-field__label" for="update-names-rule-identity-id">Identity ID</label>
                          <input class="wizard-field__input" type="text" id="update-names-rule-identity-id"
                            name="update-names-rule-identity-id" placeholder="Enter the Base58 ID">
                          <span class="field-hint">Enter the Dash Platform identity ID that can modify naming rules</span>
                        </div>
                      </div>

                      <!-- Rule Changer Group Panel -->
                      <div class="authorization-inline-panel" id="update-names-rule-panel-group" hidden>
                        <div class="field-group" id="update-names-rule-group-selector-container">
                          <label class="wizard-field__label" for="update-names-rule-group-id">Select group</label>
                          <select class="wizard-field__input" id="update-names-rule-group-id" name="update-names-rule-group-id">
                            <option value="">Select a group...</option>
                          </select>
                          <span class="field-hint" id="update-names-rule-group-hint">Choose which group can modify naming rules</span>
                        </div>
                        <div class="field-message field-message--info" id="update-names-rule-no-groups-message" hidden>
                          <p>No group has been created yet.</p>
                          <button class="wizard-button wizard-button--secondary wizard-button--small" type="button"
                            id="update-names-rule-create-group-btn">Create Group</button>
                        </div>
                      </div>
                    </div>

                    <!-- Governance Safeguards -->
                    <fieldset class="wizard-fieldset" style="margin-top: var(--space-6);">
                      <legend class="wizard-field__label with-help">Governance Safeguards
                        <button type="button" class="help-icon" data-help="governance-safeguards" data-guide-target="guide-governance-safeguards-naming" aria-label="Help: Governance Safeguards" tabindex="0">
                          <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
                            <circle cx="8" cy="8" r="7" stroke="currentColor" stroke-width="2"/>
                            <path d="M8 7v4M8 4.5h.01" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                          </svg>
                        </button>
                      </legend>
                      <p class="wizard-subsection__body" style="margin-bottom: var(--space-4);">Control what rule
                        modifications are permitted after deployment</p>

                      <div class="wizard-field wizard-field--checkbox">
                        <label class="wizard-checkbox" for="update-names-allow-authorized-none">
                          <input class="wizard-checkbox__input" id="update-names-allow-authorized-none" type="checkbox">
                          <span class="wizard-checkbox__label">Allow changing authorized name changer to "No One"</span>
                        </label>
                        <p class="field-hint">When enabled, authorized name changers can be permanently locked by changing to
                          "No One"</p>
                      </div>

                      <div class="wizard-field wizard-field--checkbox">
                        <label class="wizard-checkbox" for="update-names-allow-admin-none">
                          <input class="wizard-checkbox__input" id="update-names-allow-admin-none" type="checkbox">
                          <span class="wizard-checkbox__label">Allow changing rule changer to "No One"</span>
                        </label>
                        <p class="field-hint">When enabled, the rule changer can permanently lock themselves out by
                          changing to "No One"</p>
                      </div>

                      <div class="wizard-field wizard-field--checkbox">
                        <label class="wizard-checkbox" for="update-names-allow-self-change">
                          <input class="wizard-checkbox__input" id="update-names-allow-self-change" type="checkbox">
                          <span class="wizard-checkbox__label">Allow rule changer to modify themselves</span>
                        </label>
                        <p class="field-hint">When enabled, the current rule changer can reassign rule-changing
                          authority to a different identity or group</p>
                      </div>
                    </fieldset>

                  </div>
                </div>

                <p class="wizard-field__message" id="naming-update-message" role="status" aria-live="polite"></p>
                <div class="wizard-actions wizard-actions--between wizard-actions--sticky">
                  <button class="wizard-button wizard-button--secondary" type="button" data-step-back="naming-update">←
                    Back</button>
                  <button class="wizard-button wizard-button--secondary" type="button" id="contract-preview-btn">📄
                    Contract Preview</button>
                  <button class="wizard-button wizard-button--primary" id="naming-update-next" type="submit">Continue
                    →</button>
                </div>
            </form>
          </div>
        </section>

        <!-- Permissions: Token Supply Sub-step -->
        <section class="wizard-screen" id="screen-permissions" data-step="permissions" data-substep="permissions"
          data-tab="token" hidden>

          <!-- Right Side Guide Panel -->
          <aside class="page-guide" aria-label="Page guide" data-collapsed="false">
            <div class="page-guide__header">
              <div class="page-guide__tabs-horizontal">
                <button class="page-guide__tab page-guide__tab--info active" data-panel="info" aria-label="Show Information" aria-pressed="true">
                  Information
                </button>
                <button class="page-guide__tab page-guide__tab--guide" data-panel="guide" aria-label="Show User Guide" aria-pressed="false">
                  User Guide
                </button>
              </div>
              <button class="page-guide__collapse" aria-label="Collapse panel" aria-expanded="true">
                <svg class="page-guide__collapse-icon" width="16" height="16" viewBox="0 0 16 16" fill="none">
                  <path d="M6 12l4-4-4-4" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
              </button>
            </div>

            <div class="page-guide__panel page-guide__panel--info active" data-panel="info">
              <div class="page-guide__content">
                <h2 class="page-guide__title">Token Supply Configuration</h2>
                <p class="page-guide__intro">Configure your token's fundamental supply parameters: decimals, initial supply, and maximum supply limits.</p>

                <div class="page-guide__section">
                  <h3 class="page-guide__section-title">Quick Reference</h3>

                  <h4 class="page-guide__step-heading" id="guide-decimals">Decimal Places</h4>
                  <p><strong>What it is:</strong> How divisible your token is (0-16 decimal places supported by Dash Platform).</p>
                  <p><strong>Examples:</strong></p>
                  <ul class="page-guide__list page-guide__list--no-bullets">
                    <li>• 0 decimals = whole numbers only (1, 2, 3)</li>
                    <li>• 2 decimals = like dollars (1.00, 2.50)</li>
                    <li>• 8 decimals = like Bitcoin (0.00000001) - Default</li>
                    <li>• 16 decimals = maximum precision allowed</li>
                  </ul>
                  <p><strong>Platform constraint:</strong> 0-16 places (default: 8)</p>
                  <p><strong>Immutability:</strong> Cannot be changed after deployment</p>
                  <p><strong>Rule of thumb:</strong> More decimals = better for micro-payments. Fewer = simpler for counting.</p>

                  <h4 class="page-guide__step-heading" id="guide-base-supply">Initial Supply (Base Supply)</h4>
                  <p><strong>What it is:</strong> Initial quantity of tokens created at launch (immutable after deployment).</p>
                  <p><strong>Default:</strong> 100,000 tokens</p>
                  <p><strong>Example:</strong> 1,000,000 tokens created on day 1</p>
                  <p><strong>Immutability:</strong> Base supply cannot be changed after deployment - choose carefully</p>
                  <p><strong>Tip:</strong> You can mint more tokens later if minting is enabled and max supply allows it.</p>

                  <h4 class="page-guide__step-heading" id="guide-max-supply">Max Supply (Hard Cap)</h4>
                  <p><strong>What it is:</strong> Hard cap on total possible tokens (optional, can be modified via governance if changes are allowed).</p>
                  <p><strong>Platform maximum:</strong> 2^64 - 1 (18,446,744,073,709,551,615)</p>
                  <p><strong>Example:</strong> Max 10,000,000 tokens can ever exist</p>
                  <p><strong>Important constraint:</strong> Cannot exceed this limit even with minting enabled</p>
                  <p><strong>Critical rule:</strong> If max supply equals base supply, minting is permanently disabled</p>
                  <p><strong>Use case:</strong> Enable to create scarcity and build investor confidence (like Bitcoin's 21M cap)</p>

                  <h4 class="page-guide__step-heading" id="guide-change-max-supply">Changing Max Supply</h4>
                  <p><strong>What it controls:</strong> Whether authorized users can modify the max supply cap after deployment.</p>
                  <p><strong>Enable changes if:</strong> Your tokenomics may need future adjustments or flexibility</p>
                  <p><strong>Disable changes if:</strong> You want a permanently fixed hard cap (like Bitcoin's immutable 21M)</p>
                  <p><strong>Governance:</strong> Controlled through maxSupplyChangeRules with authorization levels</p>

                  <h4 class="page-guide__step-heading" id="guide-governance-safeguards">Governance Safeguards (Advanced)</h4>
                  <p><strong>What they are:</strong> Advanced controls for permanently locking max supply changes in the future.</p>
                  <p><strong>Three safeguard options:</strong></p>
                  <ul class="page-guide__list">
                    <li>Allow changing authorized changer to "No One" (enables permanent lock later)</li>
                    <li>Allow changing rule changer to "No One" (self-locking mechanism)</li>
                    <li>Allow rule changer to modify themselves (transfer control to other identities)</li>
                  </ul>
                  <p><strong>Recommendation:</strong> Keep all disabled (default) unless you specifically plan to permanently lock max supply later.</p>
                </div>

                <div class="page-guide__section">
                  <h3 class="page-guide__section-title">Common Supply Configurations</h3>

                  <p><strong>Fixed Supply (Bitcoin-style):</strong></p>
                  <ul class="page-guide__list page-guide__list--no-bullets">
                    <li>• Decimals: 8 (Bitcoin-style precision)</li>
                    <li>• Base Supply: 21,000,000 tokens</li>
                    <li>• Max supply: 21,000,000 (equals base, minting disabled)</li>
                    <li>• Max supply changes: Disabled (permanent cap)</li>
                  </ul>

                  <p style="margin-top: var(--space-3);"><strong>Inflationary Token:</strong></p>
                  <ul class="page-guide__list page-guide__list--no-bullets">
                    <li>• Decimals: 6-8</li>
                    <li>• Base Supply: 1,000,000 tokens (10% of max)</li>
                    <li>• Max supply: 10,000,000 tokens (room to mint 9M more)</li>
                    <li>• Max supply changes: Enabled with Group governance</li>
                  </ul>

                  <p style="margin-top: var(--space-3);"><strong>Unlimited Supply Token:</strong></p>
                  <ul class="page-guide__list page-guide__list--no-bullets">
                    <li>• Decimals: 2</li>
                    <li>• Base Supply: 10,000 tokens</li>
                    <li>• Max supply: None (unlimited)</li>
                    <li>• Max supply changes: N/A (no cap to change)</li>
                  </ul>

                  <p style="margin-top: var(--space-3);"><strong>Simple Counting Token:</strong></p>
                  <ul class="page-guide__list page-guide__list--no-bullets">
                    <li>• Decimals: 0 (whole numbers only)</li>
                    <li>• Base Supply: 5,000 tokens</li>
                    <li>• Max supply: None (unlimited for operational needs)</li>
                    <li>• Max supply changes: N/A</li>
                  </ul>
                </div>

                <div class="page-guide__section">
                  <h3 class="page-guide__section-title">Important Notes</h3>
                  <ul class="page-guide__list">
                    <li><strong>This screen focuses on supply only:</strong> Advanced features like history tracking, freezing, and emergency pause are configured in separate screens later in the wizard.</li>
                    <li><strong>Decimals and base supply are immutable:</strong> Choose carefully - these cannot be changed after deployment.</li>
                    <li><strong>Max supply is mutable (if changes enabled):</strong> Can be adjusted through governance after deployment.</li>
                    <li><strong>Platform limit:</strong> Dash Platform supports max 16 decimals (not 18 like Ethereum).</li>
                  </ul>
                </div>
              </div>
            </div>

            <div class="page-guide__panel page-guide__panel--guide" data-panel="guide" hidden>
              <div class="page-guide__content">
                <h2 class="page-guide__title">Token Supply</h2>
                <p class="page-guide__intro">Step-by-step guide to configuring your token's supply parameters.</p>

                <div class="page-guide__section">
                  <h3 class="page-guide__section-title">Step 1: Set Decimal Places</h3>
                  <p>Enter the number of decimal places (0-16). This determines how divisible your token is. For example, 8 decimals allows amounts like 0.00000001.</p>
                </div>

                <div class="page-guide__section">
                  <h3 class="page-guide__section-title">Step 2: Set Initial Supply</h3>
                  <p>Enter the number of tokens the creator will receive upon contract registration. This is your starting supply.</p>
                </div>

                <div class="page-guide__section">
                  <h3 class="page-guide__section-title">Step 3: Set Maximum Supply (optional)</h3>
                  <p>Enable if you want a hard cap on total tokens. Leave disabled for unlimited supply potential.</p>
                </div>

                <div class="page-guide__section">
                  <h3 class="page-guide__section-title">Step 4: Configure Max Supply Changes</h3>
                  <p>If max supply is enabled, decide whether it can be changed later. "No" locks it permanently; "Yes" allows future adjustments.</p>
                </div>

                <div class="page-guide__section">
                  <h3 class="page-guide__section-title">Step 5: Select Who Can Change Max Supply</h3>
                  <p>Choose the authority: Contract Owner (single identity) or Group (multi-signature committee).</p>
                </div>

                <div class="page-guide__section">
                  <h3 class="page-guide__section-title">Step 6: Select Who Can Change Max Supply Rules</h3>
                  <p>Choose who can modify the rules themselves: Contract Owner, Group, or No One (immutable rules).</p>
                </div>

                <div class="page-guide__section">
                  <h3 class="page-guide__section-title">Step 7: Configure Governance Safeguards</h3>
                  <p>Enable advanced options for future-proofing: allow changing the authorized changer to "No One," allow rule changers to lock themselves out, or allow rule changers to modify themselves.</p>
                </div>

                <div class="page-guide__section">
                  <h3 class="page-guide__section-title">Step 8: Verify Configuration</h3>
                  <p>Review your supply settings. Ensure decimals, initial supply, and max supply align with your tokenomics goals.</p>
                </div>

                <div class="page-guide__section">
                  <h3 class="page-guide__section-title">Step 9: Continue</h3>
                  <p>Proceed to the next configuration tab (Transfer Rules) to continue setting up your token.</p>
                </div>
              </div>
            </div>
          </aside>

          <div class="wizard-screen__inner">
            <form class="wizard-form" id="permissions-form" novalidate>
              <h1 class="wizard-screen__title" id="title-permissions" tabindex="-1">How do you want to manage your token
                supply?</h1>
              <p class="wizard-screen__subtitle">Set the initial amount, divisibility, and supply limits for your token.
              </p>

              <!-- Decimals Card -->
              <div class="form-card">
                <div class="form-card__header">
                  <h3 class="form-card__title">Decimal Places</h3>
                  <p class="form-card__description">How divisible should your token be?</p>
                </div>
                <div class="form-card__body">
                  <div class="field-group">
                    <label class="wizard-field__label with-help" for="decimals">
                      Decimals *
                      <button type="button" class="help-icon" data-help="decimals" data-guide-target="guide-decimals" aria-label="Help: Decimals" tabindex="0">
                        <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
                          <circle cx="8" cy="8" r="7" stroke="currentColor" stroke-width="2"/>
                          <path d="M8 7v4M8 4.5h.01" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                        </svg>
                      </button>
                    </label>
                    <input class="wizard-field__input" id="decimals" name="decimals" type="number" min="0" max="16"
                      value="8" required aria-describedby="decimals-hint">
                    <span class="field-hint">8 decimals (like Bitcoin) is standard • 0 for whole units only • Max:
                      16</span>
                  </div>
                </div>
              </div>

              <!-- Supply Amount Card -->
              <div class="form-card">
                <div class="form-card__header">
                  <h3 class="form-card__title">Initial Supply</h3>
                  <p class="form-card__description">How many tokens should the creator receive after creation?</p>
                </div>
                <div class="form-card__body">
                  <!-- Supply Mode Selector (shown only when decimals > 0) -->
                  <div class="supply-mode-selector" id="base-supply-mode-selector" hidden>
                    <label class="wizard-radio">
                      <input type="radio" name="base-supply-mode" value="token" id="base-supply-mode-token" checked>
                      <span class="wizard-radio__label">Token Amount</span>
                    </label>
                    <label class="wizard-radio">
                      <input type="radio" name="base-supply-mode" value="base" id="base-supply-mode-base">
                      <span class="wizard-radio__label">Base Units</span>
                    </label>
                  </div>

                  <div class="field-group">
                    <label class="wizard-field__label with-help" for="base-supply">
                      <span id="base-supply-label">Initial Supply</span> *
                      <button type="button" class="help-icon" data-help="base-supply" data-guide-target="guide-base-supply" aria-label="Help: Base Supply" tabindex="0">
                        <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
                          <circle cx="8" cy="8" r="7" stroke="currentColor" stroke-width="2"/>
                          <path d="M8 7v4M8 4.5h.01" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                        </svg>
                      </button>
                    </label>
                    <input class="wizard-field__input" id="base-supply" name="base-supply" type="text"
                      inputmode="decimal" placeholder="e.g., 1000000" required
                      aria-describedby="base-supply-hint base-supply-conversion">
                    <span class="field-hint" id="base-supply-hint">Enter the number of tokens to create</span>
                    <div class="supply-conversion" id="base-supply-conversion" hidden>
                      <span class="supply-conversion__label">= </span>
                      <span class="supply-conversion__value" id="base-supply-conversion-value">0</span>
                      <span class="supply-conversion__unit" id="base-supply-conversion-unit">base units</span>
                    </div>
                  </div>
                </div>
              </div>

              <!-- Supply Limits Card (Optional) -->
              <div class="form-card">
                <div class="form-card__header">
                  <h3 class="form-card__title">Supply Limits <span class="wizard-badge wizard-badge--optional"
                      style="margin-left: var(--space-2);">Optional</span></h3>
                  <p class="form-card__description">Set a maximum cap on total supply</p>
                </div>
                <div class="form-card__body">
                  <!-- Supply Mode Selector (shown only when decimals > 0) -->
                  <div class="supply-mode-selector" id="max-supply-mode-selector" hidden>
                    <label class="wizard-radio">
                      <input type="radio" name="max-supply-mode" value="token" id="max-supply-mode-token" checked>
                      <span class="wizard-radio__label">Token Amount</span>
                    </label>
                    <label class="wizard-radio">
                      <input type="radio" name="max-supply-mode" value="base" id="max-supply-mode-base">
                      <span class="wizard-radio__label">Base Units</span>
                    </label>
                  </div>

                  <div class="field-group">
                    <label class="wizard-field__label with-help" for="max-supply">
                      <span id="max-supply-label">Maximum Supply</span> (leave empty for unlimited)
                      <button type="button" class="help-icon" data-help="max-supply" data-guide-target="guide-max-supply" aria-label="Help: Maximum Supply" tabindex="0">
                        <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
                          <circle cx="8" cy="8" r="7" stroke="currentColor" stroke-width="2"/>
                          <path d="M8 7v4M8 4.5h.01" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                        </svg>
                      </button>
                    </label>
                    <input class="wizard-field__input" id="max-supply" name="max-supply" type="text" inputmode="decimal"
                      placeholder="e.g., 10000000"
                      aria-describedby="max-supply-hint max-supply-conversion max-supply-message">
                    <span class="field-hint" id="max-supply-hint">Optional • Leave blank for no limit • Must be ≥
                      initial supply</span>
                    <p class="wizard-field__message" id="max-supply-message" role="status" aria-live="polite"></p>
                    <div class="supply-conversion" id="max-supply-conversion" hidden>
                      <span class="supply-conversion__label">= </span>
                      <span class="supply-conversion__value" id="max-supply-conversion-value">0</span>
                      <span class="supply-conversion__unit" id="max-supply-conversion-unit">base units</span>
                    </div>
                  </div>
                </div>
              </div>

              <!-- Changing Max Supply Card -->
              <div class="form-card">
                <div class="form-card__header">
                  <h3 class="form-card__title">Changing Max Supply</h3>
                  <p class="form-card__description">Choose whether the maximum supply can be modified after deployment
                  </p>
                </div>
                <div class="form-card__body">
                  <fieldset class="wizard-fieldset">
                    <legend class="wizard-field__label with-help">Can the max supply be changed?
                      <button type="button" class="help-icon" data-help="change-max-supply" data-guide-target="guide-change-max-supply" aria-label="Help: Change Max Supply" tabindex="0">
                        <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
                          <circle cx="8" cy="8" r="7" stroke="currentColor" stroke-width="2"/>
                          <path d="M8 7v4M8 4.5h.01" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                        </svg>
                      </button>
                    </legend>

                    <!-- No Option -->
                    <label class="wizard-choice">
                      <input class="wizard-choice__input" type="radio" name="change-max-supply-enabled" value="disabled"
                        checked>
                      <span class="wizard-choice__content">
                        <span class="wizard-choice__title">No</span>
                        <span class="wizard-choice__hint">Maximum supply is fixed and cannot be changed</span>
                      </span>
                    </label>

                    <!-- Yes Option -->
                    <label class="wizard-choice">
                      <input class="wizard-choice__input" type="radio" name="change-max-supply-enabled" value="enabled"
                        data-toggle-panel="change-max-supply-permissions-panel">
                      <span class="wizard-choice__content">
                        <span class="wizard-choice__title">Yes</span>
                        <span class="wizard-choice__hint">Allow changing the maximum supply after deployment</span>
                      </span>
                    </label>
                  </fieldset>

                  <!-- Permission Configuration (shown only when Yes is selected) -->
                  <div class="distribution-inline-panel" id="change-max-supply-permissions-panel" hidden>
                    <div class="authorization-group">
                      <!-- Authorized to perform action -->
                      <div class="field-group">
                        <label class="wizard-field__label" for="change-max-supply-permission">
                          Authorized to perform action
                          <button type="button" class="help-icon" data-help="actor-types" data-guide-target="guide-actor-types" aria-label="Help: Who Can Perform Actions" tabindex="0">
                            <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
                              <circle cx="8" cy="8" r="7" stroke="currentColor" stroke-width="2"/>
                              <path d="M8 7v4M8 4.5h.01" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                            </svg>
                          </button>
                        </label>
                        <select class="wizard-field__input" id="change-max-supply-permission" name="change-max-supply-permission">
                          <option value="no-one" selected>No One</option>
                          <option value="owner">Contract Owner</option>
                          <option value="identity">Specific Identity</option>
                          <option value="group">Specific Group</option>
                        </select>
                        <span class="field-hint">Choose who can change the max supply after deployment</span>
                      </div>

                      <!-- Identity Panel -->
                      <div class="authorization-inline-panel" id="change-max-supply-panel-identity" hidden>
                        <div class="field-group">
                          <label class="wizard-field__label" for="change-max-supply-identity-id">Identity ID</label>
                          <input class="wizard-field__input" type="text" id="change-max-supply-identity-id"
                            name="change-max-supply-identity-id" placeholder="Enter the Base58 ID">
                          <span class="field-hint">Enter the Dash Platform identity ID that can change the max supply</span>
                        </div>
                      </div>

                      <!-- Group Panel -->
                      <div class="authorization-inline-panel" id="change-max-supply-panel-group" hidden>
                        <div class="field-group" id="change-max-supply-group-selector-container">
                          <label class="wizard-field__label" for="change-max-supply-group-id">Select group</label>
                          <select class="wizard-field__input" id="change-max-supply-group-id" name="change-max-supply-group-id">
                            <option value="">Select a group...</option>
                          </select>
                          <span class="field-hint" id="change-max-supply-group-hint">Choose which group can perform this action</span>
                        </div>
                        <div class="field-message field-message--info" id="change-max-supply-no-groups-message" hidden>
                          <p>No group has been created yet.</p>
                          <button class="wizard-button wizard-button--secondary wizard-button--small" type="button"
                            id="change-max-supply-create-group-btn">Create Group</button>
                        </div>
                      </div>

                      <!-- Authorized to change rules -->
                      <div class="field-group" style="margin-top: var(--space-6); padding-top: var(--space-6); border-top: 1px solid var(--color-border);">
                        <label class="wizard-field__label" for="change-max-supply-change-rules">
                          Authorized to change rules
                          <button type="button" class="help-icon" data-help="rule-changer" data-guide-target="guide-governance-safeguards-max-supply" aria-label="Help: Rule Changer" tabindex="0">
                            <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
                              <circle cx="8" cy="8" r="7" stroke="currentColor" stroke-width="2"/>
                              <path d="M8 7v4M8 4.5h.01" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                            </svg>
                          </button>
                        </label>
                        <select class="wizard-field__input" id="change-max-supply-change-rules" name="change-max-supply-change-rules">
                          <option value="no-one" selected>No One</option>
                          <option value="owner">Contract Owner</option>
                          <option value="identity">Specific Identity</option>
                          <option value="group">Specific Group</option>
                        </select>
                        <span class="field-hint">Define who has authority to modify max supply change permissions after deployment</span>
                      </div>

                      <!-- Rule Changer Identity Panel -->
                      <div class="authorization-inline-panel" id="change-max-supply-rules-identity-panel" hidden>
                        <div class="field-group">
                          <label class="wizard-field__label" for="change-max-supply-rules-identity-id">Identity ID</label>
                          <input class="wizard-field__input" type="text" id="change-max-supply-rules-identity-id"
                            placeholder="Enter the Base58 ID">
                          <span class="field-hint">Enter the Dash Platform identity ID that can modify max supply rules</span>
                        </div>
                      </div>

                      <!-- Rule Changer Group Panel -->
                      <div class="authorization-inline-panel" id="change-max-supply-rules-group-panel" hidden>
                        <div class="field-group">
                          <label class="wizard-field__label" for="change-max-supply-rules-group-id">Select group</label>
                          <select class="wizard-field__input" id="change-max-supply-rules-group-id">
                            <option value="">Select a group...</option>
                          </select>
                          <span class="field-hint">Choose which group can modify max supply rules</span>
                        </div>
                      </div>
                    </div>

                    <!-- Governance Safeguards -->
                    <fieldset class="wizard-fieldset" style="margin-top: var(--space-6);">
                      <legend class="wizard-field__label with-help">Governance Safeguards
                        <button type="button" class="help-icon" data-help="governance-safeguards" data-guide-target="guide-governance-safeguards-max-supply" aria-label="Help: Governance Safeguards" tabindex="0">
                          <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
                            <circle cx="8" cy="8" r="7" stroke="currentColor" stroke-width="2"/>
                            <path d="M8 7v4M8 4.5h.01" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                          </svg>
                        </button>
                      </legend>
                      <p class="wizard-subsection__body" style="margin-bottom: var(--space-4);">Control what rule
                        modifications are permitted after deployment</p>

                      <div class="wizard-field wizard-field--checkbox">
                        <label class="wizard-checkbox" for="change-max-supply-allow-authorized-none">
                          <input class="wizard-checkbox__input" id="change-max-supply-allow-authorized-none"
                            type="checkbox">
                          <span class="wizard-checkbox__label">Allow changing authorized max supply changer to "No
                            One"</span>
                        </label>
                        <p class="field-hint">When enabled, authorized max supply changers can be permanently locked by
                          changing to "No One"</p>
                      </div>

                      <div class="wizard-field wizard-field--checkbox">
                        <label class="wizard-checkbox" for="change-max-supply-allow-admin-none">
                          <input class="wizard-checkbox__input" id="change-max-supply-allow-admin-none" type="checkbox">
                          <span class="wizard-checkbox__label">Allow changing rule changer to "No One"</span>
                        </label>
                        <p class="field-hint">When enabled, the rule changer can permanently lock themselves out by
                          changing to "No One"</p>
                      </div>

                      <div class="wizard-field wizard-field--checkbox">
                        <label class="wizard-checkbox" for="change-max-supply-allow-self-change">
                          <input class="wizard-checkbox__input" id="change-max-supply-allow-self-change"
                            type="checkbox">
                          <span class="wizard-checkbox__label">Allow rule changer to modify themselves</span>
                        </label>
                        <p class="field-hint">When enabled, the current rule changer can reassign rule-changing
                          authority to a different identity or group</p>
                      </div>
                    </fieldset>
                  </div>
                </div>

                <p class="wizard-field__message" id="permissions-message" role="status" aria-live="polite"></p>
                <div class="wizard-actions wizard-actions--between wizard-actions--sticky">
                  <button class="wizard-button wizard-button--secondary" type="button" data-step-back="permissions">←
                    Back</button>
                  <button class="wizard-button wizard-button--secondary" type="button" id="contract-preview-btn">📄
                    Contract Preview</button>
                  <button class="wizard-button wizard-button--primary" id="permissions-next" type="submit"
                    disabled>Continue →</button>
                </div>
            </form>
          </div>
        </section>

        <!-- Permissions: Minting Sub-step -->
        <section class="wizard-screen" id="screen-permissions-manual-mint" data-step="permissions"
          data-substep="permissions-manual-mint" data-tab="token" hidden>

          <!-- Right Side Guide Panel -->
          <aside class="page-guide" aria-label="Page guide" data-collapsed="false">
            <div class="page-guide__header">
              <div class="page-guide__tabs-horizontal">
                <button class="page-guide__tab page-guide__tab--info active" data-panel="info" aria-label="Show Information" aria-pressed="true">
                  Information
                </button>
                <button class="page-guide__tab page-guide__tab--guide" data-panel="guide" aria-label="Show User Guide" aria-pressed="false">
                  User Guide
                </button>
              </div>
              <button class="page-guide__collapse" aria-label="Collapse panel" aria-expanded="true">
                <svg class="page-guide__collapse-icon" width="16" height="16" viewBox="0 0 16 16" fill="none">
                  <path d="M6 12l4-4-4-4" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
              </button>
            </div>

            <div class="page-guide__panel page-guide__panel--info active" data-panel="info">
              <div class="page-guide__content">
                <h2 class="page-guide__title">Manual Mint Permission</h2>
                <p class="page-guide__intro">Control who can create new tokens after launch.</p>

                <div class="page-guide__section">
                  <h3 class="page-guide__section-title">Quick Reference</h3>

                  <h4 class="page-guide__step-heading" id="guide-manual-mint">Enable Manual Minting</h4>
                  <p><strong>If enabled:</strong> New tokens can be added post-launch.</p>
                  <p><strong>If disabled:</strong> Supply stays fixed forever.</p>
                  <p><strong>⚠️ Constraint:</strong> If max supply equals base supply, minting is disabled regardless of this setting.</p>
                  <p><strong>Default Authorization:</strong> ContractOwner (only contract creator can mint)</p>

                  <h4 class="page-guide__step-heading" id="guide-mint-destination">Mint Destination</h4>
                  <ul class="page-guide__list">
                    <li><strong>Contract Owner:</strong> Tokens go to your wallet</li>
                    <li><strong>Default Identity:</strong> A specific identity (e.g., treasury account)</li>
                    <li><strong>Custom per Mint:</strong> Allows flexible destinations every time</li>
                  </ul>
                  <p><strong>What it means:</strong> Granting "custom destination" opens potential for misuse if not
                    restricted by trusted identities.</p>

                  <h4 class="page-guide__step-heading" id="guide-mint-authorization">Who Can Mint</h4>
                  <p><strong>Authorization Levels Available:</strong></p>
                  <ul class="page-guide__list">
                    <li><strong>NoOne:</strong> Minting disabled permanently</li>
                    <li><strong>ContractOwner:</strong> Only contract creator (default)</li>
                    <li><strong>Identity:</strong> Specific Dash Platform identity</li>
                    <li><strong>MainGroup:</strong> Primary governance group</li>
                    <li><strong>Group:</strong> Custom governance group (max 256 members, voting power max 65,536)</li>
                  </ul>

                  <h4 class="page-guide__step-heading" id="guide-mint-rules">Who Can Change This Rule</h4>
                  <p>Define if future edits (to who can mint) are possible. "No One" = immutable rule, best for
                    deflationary tokens.</p>

                  <h4 class="page-guide__step-heading" id="guide-mint-governance">Governance Safeguards</h4>
                  <p>Control what modifications are permitted after deployment to prevent unauthorized changes:</p>
                  <ul class="page-guide__list">
                    <li><strong>Allow changing authorized minter to "No One":</strong> When enabled, rule changers can
                      permanently disable minting by removing all authorized minters.</li>
                    <li><strong>Allow changing rule changer to "No One":</strong> When enabled, rule changers can lock
                      themselves out permanently, making minting rules immutable.</li>
                    <li><strong>Allow rule changer to modify themselves:</strong> When enabled, rule changers can reassign
                      control to different identities or groups.</li>
                  </ul>
                  <p><strong>Security tip:</strong> Keep these disabled (unchecked) for maximum control retention. Enable
                    only if you need the flexibility to lock down permissions permanently later.</p>
                </div>

                <div class="page-guide__section">
                  <h3 class="page-guide__section-title">Best Practice</h3>
                  <ul class="page-guide__list">
                    <li><strong>Fixed-supply coins:</strong> disable minting or set max = base supply.</li>
                    <li><strong>DAO or project tokens:</strong> allow Group-based minting (multi-sig style).</li>
                    <li><strong>For compliance tokens:</strong> allow an Identity to mint under audit.</li>
                    <li><strong>Governance safeguards:</strong> leave disabled unless you plan to make permissions
                      immutable in the future.</li>
                  </ul>
                </div>
              </div>
            </div>

            <div class="page-guide__panel page-guide__panel--guide" data-panel="guide" hidden>
              <div class="page-guide__content">
                <h2 class="page-guide__title">Minting</h2>
                <p class="page-guide__intro">Step-by-step guide to configuring minting permissions for your token.</p>

                <div class="page-guide__section">
                  <h3 class="page-guide__section-title">Step 1: Enable or Disable Minting</h3>
                  <p>Choose "No" for fixed supply. Choose "Yes" to allow creating new tokens after deployment.</p>
                </div>

                <div class="page-guide__section">
                  <h3 class="page-guide__section-title">Step 2: Select Who Can Mint (if enabled)</h3>
                  <p>Choose the authority type (Owner Only, Specific Identity, Group, or No One). Enter identity ID if needed.</p>
                </div>

                <div class="page-guide__section">
                  <h3 class="page-guide__section-title">Step 3: Select Who Can Change Minting Rules</h3>
                  <p>Choose who can modify minting permissions. Enter identity ID if needed.</p>
                </div>

                <div class="page-guide__section">
                  <h3 class="page-guide__section-title">Step 4: Set Default Destination for Minted Tokens</h3>
                  <p>Choose Contract Owner or Default Identity. If Default Identity, enter the Dash Platform identity ID.</p>
                </div>

                <div class="page-guide__section">
                  <h3 class="page-guide__section-title">Step 5: Enable Minting Flexibility (optional)</h3>
                  <p>Toggle "Allow choosing different destination on each mint" to let the minter specify a custom recipient for each mint operation.</p>
                </div>

                <div class="page-guide__section">
                  <h3 class="page-guide__section-title">Step 6: Configure All Governance Rules</h3>
                  <p>For each section (Minting Rules, Destination Identity, and Choosing Destination), set who can perform actions and who can change rules. Then configure the three governance safeguards:</p>
                  <ul class="page-guide__list">
                    <li>Allow changing authorized action takers to "No One"</li>
                    <li>Allow changing rule changer to "No One"</li>
                    <li>Allow rule changer to modify themselves</li>
                  </ul>
                </div>

                <div class="page-guide__section">
                  <h3 class="page-guide__section-title">Step 7: Verify and Continue</h3>
                  <p>Review all settings and proceed to the next configuration tab.</p>
                </div>
              </div>
            </div>
          </aside>

          <div class="wizard-screen__inner">
            <form class="wizard-form" id="manual-mint-form" novalidate>
              <h1 class="wizard-screen__title" id="title-permissions-manual-mint" tabindex="-1">Can this token be
                minted?</h1>
              <p class="wizard-screen__subtitle">Configure permissions for creating new tokens on-demand (outside of
                automatic distribution).</p>

              <!-- Enable/Disable Minting Card -->
              <div class="form-card">
                <div class="form-card__header">
                  <h3 class="form-card__title">Minting</h3>
                  <p class="form-card__description">Choose whether new tokens can be created after initial deployment
                  </p>
                </div>
                <div class="form-card__body">
                  <fieldset class="wizard-fieldset">
                    <legend class="wizard-field__label with-help">Enable minting?
                      <button type="button" class="help-icon" data-help="manual-mint" data-guide-target="guide-manual-mint" aria-label="Help: Manual Minting" tabindex="0">
                        <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
                          <circle cx="8" cy="8" r="7" stroke="currentColor" stroke-width="2"/>
                          <path d="M8 7v4M8 4.5h.01" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                        </svg>
                      </button>
                    </legend>

                    <!-- No Option -->
                    <label class="wizard-choice">
                      <input class="wizard-choice__input" type="radio" name="manual-mint-enabled" value="disabled"
                        checked>
                      <span class="wizard-choice__content">
                        <span class="wizard-choice__title">No</span>
                        <span class="wizard-choice__hint">Fixed supply - no new tokens can be created</span>
                      </span>
                    </label>

                    <!-- Yes Option -->
                    <label class="wizard-choice">
                      <input class="wizard-choice__input" type="radio" name="manual-mint-enabled" value="enabled"
                        data-toggle-panel="manual-mint-permissions-panel">
                      <span class="wizard-choice__content">
                        <span class="wizard-choice__title">Yes</span>
                        <span class="wizard-choice__hint">Allow creating new tokens after deployment</span>
                      </span>
                    </label>
                  </fieldset>

                  <!-- Permission Configuration (shown only when Yes is selected) -->
                  <div class="distribution-inline-panel" id="manual-mint-permissions-panel" hidden>
                    <div class="authorization-group">
                      <!-- Authorized to perform action -->
                      <div class="field-group">
                        <label class="wizard-field__label" for="manual-mint-permission">
                          Authorized to perform action
                          <button type="button" class="help-icon" data-help="mint-permission" data-guide-target="guide-minting" aria-label="Help: Mint Permission" tabindex="0">
                            <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
                              <circle cx="8" cy="8" r="7" stroke="currentColor" stroke-width="2"/>
                              <path d="M8 7v4M8 4.5h.01" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                            </svg>
                          </button>
                        </label>
                        <select class="wizard-field__input" id="manual-mint-permission" name="manual-mint-permission">
                          <option value="no-one" selected>No One</option>
                          <option value="owner">Contract Owner</option>
                          <option value="identity">Specific Identity</option>
                          <option value="group">Specific Group</option>
                        </select>
                        <span class="field-hint">Choose who can mint tokens after deployment</span>
                      </div>

                      <!-- Identity Panel -->
                      <div class="authorization-inline-panel" id="manual-mint-panel-identity" hidden>
                        <div class="field-group">
                          <label class="wizard-field__label" for="manual-mint-identity-id">Identity ID</label>
                          <input class="wizard-field__input" type="text" id="manual-mint-identity-id"
                            name="manual-mint-identity-id" placeholder="Enter the Base58 ID">
                          <span class="field-hint">Enter the Dash Platform identity ID that can mint tokens</span>
                        </div>
                      </div>

                      <!-- Group Panel -->
                      <div class="authorization-inline-panel" id="manual-mint-panel-group" hidden>
                        <div class="field-group" id="manual-mint-group-selector-container">
                          <label class="wizard-field__label" for="manual-mint-group-id">Select group</label>
                          <select class="wizard-field__input" id="manual-mint-group-id" name="manual-mint-group-id">
                            <option value="">Select a group...</option>
                          </select>
                          <span class="field-hint" id="manual-mint-group-hint">Choose which group can perform this action</span>
                        </div>
                        <div class="field-message field-message--info" id="manual-mint-no-groups-message" hidden>
                          <p>No group has been created yet.</p>
                          <button class="wizard-button wizard-button--secondary wizard-button--small" type="button"
                            id="manual-mint-create-group-btn">Create Group</button>
                        </div>
                      </div>

                      <!-- Authorized to change rules -->
                      <div class="field-group" style="margin-top: var(--space-6); padding-top: var(--space-6); border-top: 1px solid var(--color-border);">
                        <label class="wizard-field__label" for="manual-mint-change-rules">
                          Authorized to change rules
                          <button type="button" class="help-icon" data-help="mint-rule-changer" data-guide-target="guide-governance-safeguards-minting" aria-label="Help: Mint Rule Changer" tabindex="0">
                            <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
                              <circle cx="8" cy="8" r="7" stroke="currentColor" stroke-width="2"/>
                              <path d="M8 7v4M8 4.5h.01" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                            </svg>
                          </button>
                        </label>
                        <select class="wizard-field__input" id="manual-mint-change-rules" name="manual-mint-change-rules">
                          <option value="no-one" selected>No One</option>
                          <option value="owner">Contract Owner</option>
                          <option value="identity">Specific Identity</option>
                          <option value="group">Specific Group</option>
                        </select>
                        <span class="field-hint">Define who has authority to modify minting permissions after deployment</span>
                      </div>

                      <!-- Rule Changer Identity Panel -->
                      <div class="authorization-inline-panel" id="manual-mint-rules-identity-panel" hidden>
                        <div class="field-group">
                          <label class="wizard-field__label" for="manual-mint-rules-identity-id">Identity ID</label>
                          <input class="wizard-field__input" type="text" id="manual-mint-rules-identity-id"
                            placeholder="Enter the Base58 ID">
                          <span class="field-hint">Enter the Dash Platform identity ID that can modify minting rules</span>
                        </div>
                      </div>

                      <!-- Rule Changer Group Panel -->
                      <div class="authorization-inline-panel" id="manual-mint-rules-group-panel" hidden>
                        <div class="field-group">
                          <label class="wizard-field__label" for="manual-mint-rules-group-id">Select group</label>
                          <select class="wizard-field__input" id="manual-mint-rules-group-id">
                            <option value="">Select a group...</option>
                          </select>
                          <span class="field-hint">Choose which group can modify minting rules</span>
                        </div>
                      </div>
                    </div>

                    <!-- Governance Safeguards -->
                    <fieldset class="wizard-fieldset" style="margin-top: var(--space-6);">
                      <legend class="wizard-field__label with-help">Governance Safeguards
                        <button type="button" class="help-icon" data-help="governance-safeguards" data-guide-target="guide-governance-safeguards-minting" aria-label="Help: Governance Safeguards" tabindex="0">
                          <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
                            <circle cx="8" cy="8" r="7" stroke="currentColor" stroke-width="2"/>
                            <path d="M8 7v4M8 4.5h.01" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                          </svg>
                        </button>
                      </legend>
                      <p class="wizard-subsection__body" style="margin-bottom: var(--space-4);">Control what rule
                        modifications are permitted after deployment</p>

                      <div class="wizard-field wizard-field--checkbox">
                        <label class="wizard-checkbox" for="manual-mint-allow-authorized-none">
                          <input class="wizard-checkbox__input" id="manual-mint-allow-authorized-none" type="checkbox">
                          <span class="wizard-checkbox__label">Allow changing authorized minter to "No One"</span>
                        </label>
                        <p class="field-hint">When enabled, authorized minters can be permanently locked by changing to
                          "No One"</p>
                      </div>

                      <div class="wizard-field wizard-field--checkbox">
                        <label class="wizard-checkbox" for="manual-mint-allow-admin-none">
                          <input class="wizard-checkbox__input" id="manual-mint-allow-admin-none" type="checkbox">
                          <span class="wizard-checkbox__label">Allow changing rule changer to "No One"</span>
                        </label>
                        <p class="field-hint">When enabled, the rule changer can permanently lock themselves out by
                          changing to "No One"</p>
                      </div>

                      <div class="wizard-field wizard-field--checkbox">
                        <label class="wizard-checkbox" for="manual-mint-allow-self-change">
                          <input class="wizard-checkbox__input" id="manual-mint-allow-self-change" type="checkbox">
                          <span class="wizard-checkbox__label">Allow rule changer to modify themselves</span>
                        </label>
                        <p class="field-hint">When enabled, the current rule changer can reassign rule-changing
                          authority to a different identity or group</p>
                      </div>
                    </fieldset>

                    <!-- Minting Destination Configuration -->
                    <fieldset class="wizard-fieldset" style="margin-top: var(--space-6);">
                      <legend class="wizard-field__label with-help">Default destination for minted tokens
                        <button type="button" class="help-icon" data-help="mint-destination" data-guide-target="guide-mint-destination" aria-label="Help: Mint Destination" tabindex="0">
                          <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
                            <circle cx="8" cy="8" r="7" stroke="currentColor" stroke-width="2"/>
                            <path d="M8 7v4M8 4.5h.01" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                          </svg>
                        </button>
                      </legend>

                      <!-- Contract Owner Option -->
                      <label class="wizard-choice">
                        <input class="wizard-choice__input" type="radio" name="manual-mint-destination"
                          value="contract-owner" checked>
                        <span class="wizard-choice__content">
                          <span class="wizard-choice__title">Contract Owner</span>
                          <span class="wizard-choice__hint">Newly minted tokens go to the contract owner (you)</span>
                        </span>
                      </label>

                      <!-- Default Identity Option -->
                      <label class="wizard-choice">
                        <input class="wizard-choice__input" type="radio" name="manual-mint-destination"
                          value="default-identity" data-toggle-panel="manual-mint-panel-default-identity">
                        <span class="wizard-choice__content">
                          <span class="wizard-choice__title">Default Identity</span>
                          <span class="wizard-choice__hint">Use a specific identity to receive newly minted
                            tokens</span>
                        </span>
                      </label>
                      <div class="distribution-inline-panel" id="manual-mint-panel-default-identity" hidden>
                        <div class="field-group">
                          <label class="wizard-field__label" for="manual-mint-destination-id">Default Identity
                            ID</label>
                          <input class="wizard-field__input" type="text" id="manual-mint-destination-id"
                            placeholder="Base58 or Hex format (e.g., 4hKFP3mFB9vku8VJKcZvwVN123...)">
                          <span class="field-hint">Enter the Dash Platform identity ID in base58 or hex format</span>
                        </div>
                      </div>
                    </fieldset>

                    <!-- New Tokens Destination Identity Rules (Always Visible) -->
                    <fieldset class="wizard-fieldset" style="margin-top: var(--space-8); padding-top: var(--space-6); border-top: 1px solid var(--color-border);">
                      <legend class="wizard-field__label">New Tokens Destination Identity Rules</legend>
                      <p class="wizard-subsection__body" style="margin-bottom: var(--space-4);">Control who can change the default mint destination identity</p>

                      <div class="field-group">
                        <label for="mint-destination-perform-action">Authorized to perform action:</label>
                        <select id="mint-destination-perform-action" class="wizard-field__input">
                          <option value="no-one" selected>No One</option>
                          <option value="owner">Contract Owner</option>
                          <option value="identity">Specific Identity</option>
                          <option value="group">Specific Group</option>
                          <option value="main-group">Main Contract Group</option>
                        </select>
                      </div>

                      <div class="field-group">
                        <label for="mint-destination-change-rules">Authorized to change rules:</label>
                        <select id="mint-destination-change-rules" class="wizard-field__input">
                          <option value="no-one" selected>No One</option>
                          <option value="owner">Contract Owner</option>
                          <option value="identity">Specific Identity</option>
                          <option value="group">Specific Group</option>
                          <option value="main-group">Main Contract Group</option>
                        </select>
                      </div>

                      <!-- Governance Safeguards -->
                      <div style="margin-top: var(--space-6);">
                        <h5>Governance Safeguards</h5>
                        <div class="field-group" style="margin-bottom: var(--space-6);">
                          <label class="wizard-checkbox">
                            <input type="checkbox" id="mint-destination-allow-change-authorized-to-none">
                            <span>Changing authorized action takers to no one allowed</span>
                          </label>
                        </div>
                        <div class="field-group" style="margin-bottom: var(--space-6);">
                          <label class="wizard-checkbox">
                            <input type="checkbox" id="mint-destination-allow-change-admin-to-none">
                            <span>Changing admin action takers to no one allowed</span>
                          </label>
                        </div>
                        <div class="field-group" style="margin-bottom: var(--space-6);">
                          <label class="wizard-checkbox">
                            <input type="checkbox" id="mint-destination-allow-self-change-admin">
                            <span>Self-changing admin action takers allowed</span>
                          </label>
                        </div>
                      </div>
                    </fieldset>

                    <!-- Allow Custom Destination Checkbox -->
                    <fieldset class="wizard-fieldset" style="margin-top: var(--space-6);">
                      <legend class="wizard-field__label with-help">Minting flexibility
                        <button type="button" class="help-icon" data-help="mint-allow-custom" data-guide-target="guide-mint-allow-custom" aria-label="Help: Allow Custom Destination" tabindex="0">
                          <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
                            <circle cx="8" cy="8" r="7" stroke="currentColor" stroke-width="2"/>
                            <path d="M8 7v4M8 4.5h.01" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                          </svg>
                        </button>
                      </legend>
                      <div class="wizard-field wizard-field--checkbox">
                        <label class="wizard-checkbox">
                          <input class="wizard-checkbox__input" type="checkbox"
                            id="manual-mint-allow-custom-destination"
                            data-toggle-panel="mint-destination-rules-panel">
                          <span class="wizard-checkbox__label">
                            <span class="wizard-checkbox__title">Allow choosing different destination on each
                              mint</span>
                            <span class="wizard-checkbox__hint"
                              style="display: block; margin-top: var(--space-2xs);">When enabled, the minter can
                              override the default destination and specify a custom recipient for each mint
                              operation</span>
                          </span>
                        </label>
                      </div>

                      <!-- Allow Choosing Destination Rules (shown when checkbox is checked) -->
                      <div id="mint-destination-rules-panel" class="distribution-inline-panel" hidden style="margin-top: var(--space-6);">

                        <!-- Allow Choosing Destination Rules -->
                        <div style="padding: var(--space-5); background: var(--color-background-subtle); border-radius: var(--radius-md);">
                          <h4 style="margin: 0 0 var(--space-3) 0;">Allow Choosing Destination Rules</h4>
                          <p style="margin: 0 0 var(--space-4) 0; color: var(--color-text-subtle); font-size: 0.875rem;">Control who can change the "allow custom destination" setting</p>

                          <div class="field-group">
                            <label for="allow-choosing-perform-action">Authorized to perform action:</label>
                            <select id="allow-choosing-perform-action" class="wizard-field__input">
                              <option value="no-one" selected>No One</option>
                              <option value="owner">Contract Owner</option>
                              <option value="identity">Specific Identity</option>
                              <option value="group">Specific Group</option>
                              <option value="main-group">Main Contract Group</option>
                            </select>
                          </div>

                          <div class="field-group">
                            <label for="allow-choosing-change-rules">Authorized to change rules:</label>
                            <select id="allow-choosing-change-rules" class="wizard-field__input">
                              <option value="no-one" selected>No One</option>
                              <option value="owner">Contract Owner</option>
                              <option value="identity">Specific Identity</option>
                              <option value="group">Specific Group</option>
                              <option value="main-group">Main Contract Group</option>
                            </select>
                          </div>

                          <!-- Governance Safeguards -->
                          <div style="margin-top: var(--space-6);">
                            <h5>Governance Safeguards</h5>
                            <div class="field-group" style="margin-bottom: var(--space-6);">
                              <label class="wizard-checkbox">
                                <input type="checkbox" id="allow-choosing-allow-change-authorized-to-none">
                                <span>Changing authorized action takers to no one allowed</span>
                              </label>
                            </div>
                            <div class="field-group" style="margin-bottom: var(--space-6);">
                              <label class="wizard-checkbox">
                                <input type="checkbox" id="allow-choosing-allow-change-admin-to-none">
                                <span>Changing admin action takers to no one allowed</span>
                              </label>
                            </div>
                            <div class="field-group" style="margin-bottom: var(--space-6);">
                              <label class="wizard-checkbox">
                                <input type="checkbox" id="allow-choosing-allow-self-change-admin">
                                <span>Self-changing admin action takers allowed</span>
                              </label>
                            </div>
                          </div>
                        </div>

                      </div>
                    </fieldset>
                  </div>
                </div>

                <p class="wizard-field__message" id="permissions-manual-mint-message" role="status" aria-live="polite">
                </p>
                <div class="wizard-actions wizard-actions--between wizard-actions--sticky">
                  <button class="wizard-button wizard-button--secondary" type="button"
                    data-step-back="permissions-manual-mint">← Back</button>
                  <button class="wizard-button wizard-button--secondary" type="button" id="contract-preview-btn">📄
                    Contract Preview</button>
                  <button class="wizard-button wizard-button--primary" id="permissions-manual-mint-next"
                    type="submit">Continue →</button>
                </div>
            </form>
          </div>
        </section>

        <!-- Permissions: Burning Sub-step -->
        <section class="wizard-screen" id="screen-permissions-manual-burn" data-step="permissions"
          data-substep="permissions-manual-burn" data-tab="token" hidden>

          <!-- Right Side Guide Panel -->
          <aside class="page-guide" aria-label="Page guide" data-collapsed="false">
            <div class="page-guide__header">
              <div class="page-guide__tabs-horizontal">
                <button class="page-guide__tab page-guide__tab--info active" data-panel="info" aria-label="Show Information" aria-pressed="true">
                  Information
                </button>
                <button class="page-guide__tab page-guide__tab--guide" data-panel="guide" aria-label="Show User Guide" aria-pressed="false">
                  User Guide
                </button>
              </div>
              <button class="page-guide__collapse" aria-label="Collapse panel" aria-expanded="true">
                <svg class="page-guide__collapse-icon" width="16" height="16" viewBox="0 0 16 16" fill="none">
                  <path d="M6 12l4-4-4-4" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
              </button>
            </div>

            <div class="page-guide__panel page-guide__panel--info active" data-panel="info">
              <div class="page-guide__content">
                <h2 class="page-guide__title">Manual Burn Permission</h2>
                <p class="page-guide__intro">Define how tokens can be permanently destroyed.</p>

                <div class="page-guide__section">
                  <h3 class="page-guide__section-title">Quick Reference</h3>

                  <h4 class="page-guide__step-heading" id="guide-manual-burn">Enable Manual Burning</h4>
                  <p><strong>If enabled:</strong> Tokens can be removed from circulation. Useful for deflation, refunds,
                    or correcting mistakes.</p>
                  <p><strong>If disabled:</strong> Tokens cannot be destroyed, supply remains permanent.</p>
                  <p><strong>Default Authorization:</strong> ContractOwner (only contract creator can burn)</p>

                  <h4 class="page-guide__step-heading" id="guide-burn-actor">Who Can Burn</h4>
                  <p><strong>Authorization Levels Available:</strong></p>
                  <ul class="page-guide__list">
                    <li><strong>NoOne:</strong> Burning permanently disabled</li>
                    <li><strong>ContractOwner:</strong> Only contract creator (default)</li>
                    <li><strong>Identity:</strong> Specific Dash Platform identity</li>
                    <li><strong>MainGroup:</strong> Primary governance group</li>
                    <li><strong>Group:</strong> Custom governance group (max 256 members, voting power max 65,536)</li>
                  </ul>

                  <h4 class="page-guide__step-heading" id="guide-burn-rules">Who Can Change This Rule</h4>
                  <p>Define if future edits to burning permissions are possible. "No One" = immutable rule, best for
                    tokens with fixed burn policies.</p>

                  <h4 class="page-guide__step-heading" id="guide-burn-history">History Tracking</h4>
                  <p><strong>keepsBurningHistory:</strong> Tracks all burn events on-chain (default: TRUE)</p>
                  <p>Enable for transparency and auditing. Disable only for privacy/cost reasons.</p>
                </div>

                <div class="page-guide__section">
                  <h3 class="page-guide__section-title">Best Practice</h3>
                  <ul class="page-guide__list">
                    <li><strong>Public, deflationary tokens:</strong> Enable burning with ContractOwner control</li>
                    <li><strong>Treasury tokens:</strong> Restrict to Group for multi-signature control (max 256 members)</li>
                    <li><strong>Community tokens:</strong> Consider allowing any holder to burn their own tokens</li>
                    <li>Avoid giving burn power to arbitrary identities — it can break supply integrity</li>
                    <li><strong>History tracking:</strong> Keep enabled (default) for public tokens</li>
                  </ul>
                </div>
              </div>
            </div>
            <div class="page-guide__panel page-guide__panel--guide" data-panel="guide" hidden>
              <div class="page-guide__content">
                <h2 class="page-guide__title">Burning</h2>
                <p class="page-guide__intro">Step-by-step guide to configuring burning permissions for your token.</p>

                <div class="page-guide__section">
                  <h3 class="page-guide__section-title">Step 1: Enable or Disable Burning</h3>
                  <p>Choose "No" if tokens cannot be destroyed. Choose "Yes" to allow permanently destroying tokens to reduce supply.</p>
                </div>

                <div class="page-guide__section">
                  <h3 class="page-guide__section-title">Step 2: Select Who Can Burn (if enabled)</h3>
                  <p>Choose the authority type (Owner Only, Specific Identity, Group, or No One). Enter identity ID if needed.</p>
                </div>

                <div class="page-guide__section">
                  <h3 class="page-guide__section-title">Step 3: Select Who Can Change Burning Rules</h3>
                  <p>Choose who can modify burning permissions. Enter identity ID if needed.</p>
                </div>

                <div class="page-guide__section">
                  <h3 class="page-guide__section-title">Step 4: Configure Governance Safeguards</h3>
                  <p>Toggle these options based on your governance needs:</p>
                  <ul class="page-guide__list">
                    <li><strong>Allow changing authorized burner to "No One":</strong> Enables permanently disabling burning</li>
                    <li><strong>Allow changing rule changer to "No One":</strong> Enables permanently locking burning rule modifications</li>
                    <li><strong>Allow rule changer to modify themselves:</strong> Enables the current rule changer to reassign their authority</li>
                  </ul>
                </div>

                <div class="page-guide__section">
                  <h3 class="page-guide__section-title">Step 5: Verify and Continue</h3>
                  <p>Review all burning settings and proceed to the next configuration tab.</p>
                </div>
              </div>
            </div>
          </aside>

          <div class="wizard-screen__inner">
            <form class="wizard-form" id="manual-burn-form" novalidate>
              <h1 class="wizard-screen__title" id="title-permissions-manual-burn" tabindex="-1">Can this token be
                burned?</h1>
              <p class="wizard-screen__subtitle">Configure permissions for destroying tokens (reducing supply).</p>

              <!-- Enable/Disable Burning Card -->
              <div class="form-card">
                <div class="form-card__header">
                  <h3 class="form-card__title">Burning</h3>
                  <p class="form-card__description">Choose whether tokens can be permanently destroyed to reduce
                    circulating supply</p>
                </div>
                <div class="form-card__body">
                  <fieldset class="wizard-fieldset">
                    <legend class="wizard-field__label with-help">Enable burning?
                      <button type="button" class="help-icon" data-help="manual-burn" data-guide-target="guide-manual-burn" aria-label="Help: Manual Burning" tabindex="0">
                        <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
                          <circle cx="8" cy="8" r="7" stroke="currentColor" stroke-width="2"/>
                          <path d="M8 7v4M8 4.5h.01" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                        </svg>
                      </button>
                    </legend>

                    <!-- No Option -->
                    <label class="wizard-choice">
                      <input class="wizard-choice__input" type="radio" name="manual-burn-enabled" value="disabled"
                        checked>
                      <span class="wizard-choice__content">
                        <span class="wizard-choice__title">No</span>
                        <span class="wizard-choice__hint">Tokens cannot be destroyed</span>
                      </span>
                    </label>

                    <!-- Yes Option -->
                    <label class="wizard-choice">
                      <input class="wizard-choice__input" type="radio" name="manual-burn-enabled" value="enabled"
                        data-toggle-panel="manual-burn-permissions-panel">
                      <span class="wizard-choice__content">
                        <span class="wizard-choice__title">Yes</span>
                        <span class="wizard-choice__hint">Allow destroying tokens to reduce supply</span>
                      </span>
                    </label>
                  </fieldset>

                  <!-- Permission Configuration (shown only when Yes is selected) -->
                  <div class="distribution-inline-panel" id="manual-burn-permissions-panel" hidden>
                    <div class="authorization-group">
                      <!-- Authorized to perform action -->
                      <div class="field-group">
                        <label class="wizard-field__label" for="manual-burn-permission">
                          Authorized to perform action
                          <button type="button" class="help-icon" data-help="burn-permission" data-guide-target="guide-burning" aria-label="Help: Burn Permission" tabindex="0">
                            <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
                              <circle cx="8" cy="8" r="7" stroke="currentColor" stroke-width="2"/>
                              <path d="M8 7v4M8 4.5h.01" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                            </svg>
                          </button>
                        </label>
                        <select class="wizard-field__input" id="manual-burn-permission" name="manual-burn-permission">
                          <option value="no-one" selected>No One</option>
                          <option value="owner">Contract Owner</option>
                          <option value="identity">Specific Identity</option>
                          <option value="group">Specific Group</option>
                        </select>
                        <span class="field-hint">Choose who can burn tokens after deployment</span>
                      </div>

                      <!-- Identity Panel -->
                      <div class="authorization-inline-panel" id="manual-burn-panel-identity" hidden>
                        <div class="field-group">
                          <label class="wizard-field__label" for="manual-burn-identity-id">Identity ID</label>
                          <input class="wizard-field__input" type="text" id="manual-burn-identity-id"
                            name="manual-burn-identity-id" placeholder="Enter the Base58 ID">
                          <span class="field-hint">Enter the Dash Platform identity ID that can burn tokens</span>
                        </div>
                      </div>

                      <!-- Group Panel -->
                      <div class="authorization-inline-panel" id="manual-burn-panel-group" hidden>
                        <div class="field-group" id="manual-burn-group-selector-container">
                          <label class="wizard-field__label" for="manual-burn-group-id">Select group</label>
                          <select class="wizard-field__input" id="manual-burn-group-id" name="manual-burn-group-id">
                            <option value="">Select a group...</option>
                          </select>
                          <span class="field-hint" id="manual-burn-group-hint">Choose which group can perform this action</span>
                        </div>
                        <div class="field-message field-message--info" id="manual-burn-no-groups-message" hidden>
                          <p>No group has been created yet.</p>
                          <button class="wizard-button wizard-button--secondary wizard-button--small" type="button"
                            id="manual-burn-create-group-btn">Create Group</button>
                        </div>
                      </div>

                      <!-- Authorized to change rules -->
                      <div class="field-group" style="margin-top: var(--space-6); padding-top: var(--space-6); border-top: 1px solid var(--color-border);">
                        <label class="wizard-field__label" for="manual-burn-change-rules">
                          Authorized to change rules
                          <button type="button" class="help-icon" data-help="burn-rule-changer" data-guide-target="guide-governance-safeguards-burning" aria-label="Help: Burn Rule Changer" tabindex="0">
                            <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
                              <circle cx="8" cy="8" r="7" stroke="currentColor" stroke-width="2"/>
                              <path d="M8 7v4M8 4.5h.01" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                            </svg>
                          </button>
                        </label>
                        <select class="wizard-field__input" id="manual-burn-change-rules" name="manual-burn-change-rules">
                          <option value="no-one" selected>No One</option>
                          <option value="owner">Contract Owner</option>
                          <option value="identity">Specific Identity</option>
                          <option value="group">Specific Group</option>
                        </select>
                        <span class="field-hint">Define who has authority to modify burning permissions after deployment</span>
                      </div>

                      <!-- Rule Changer Identity Panel -->
                      <div class="authorization-inline-panel" id="manual-burn-rules-identity-panel" hidden>
                        <div class="field-group">
                          <label class="wizard-field__label" for="manual-burn-rules-identity-id">Identity ID</label>
                          <input class="wizard-field__input" type="text" id="manual-burn-rules-identity-id"
                            placeholder="Enter the Base58 ID">
                          <span class="field-hint">Enter the Dash Platform identity ID that can modify burning rules</span>
                        </div>
                      </div>

                      <!-- Rule Changer Group Panel -->
                      <div class="authorization-inline-panel" id="manual-burn-rules-group-panel" hidden>
                        <div class="field-group">
                          <label class="wizard-field__label" for="manual-burn-rules-group-id">Select group</label>
                          <select class="wizard-field__input" id="manual-burn-rules-group-id">
                            <option value="">Select a group...</option>
                          </select>
                          <span class="field-hint">Choose which group can modify burning rules</span>
                        </div>
                      </div>
                    </div>

                    <!-- Governance Safeguards -->
                    <fieldset class="wizard-fieldset" style="margin-top: var(--space-6);">
                      <legend class="wizard-field__label with-help">Governance Safeguards
                        <button type="button" class="help-icon" data-help="governance-safeguards" data-guide-target="guide-governance-safeguards-burning" aria-label="Help: Governance Safeguards" tabindex="0">
                          <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
                            <circle cx="8" cy="8" r="7" stroke="currentColor" stroke-width="2"/>
                            <path d="M8 7v4M8 4.5h.01" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                          </svg>
                        </button>
                      </legend>
                      <p class="wizard-subsection__body" style="margin-bottom: var(--space-4);">Control what rule
                        modifications are permitted after deployment</p>

                      <div class="wizard-field wizard-field--checkbox">
                        <label class="wizard-checkbox" for="manual-burn-allow-authorized-none">
                          <input class="wizard-checkbox__input" id="manual-burn-allow-authorized-none" type="checkbox">
                          <span class="wizard-checkbox__label">Allow changing authorized burner to "No One"</span>
                        </label>
                        <p class="field-hint">When enabled, authorized burners can be permanently locked by changing to
                          "No One"</p>
                      </div>

                      <div class="wizard-field wizard-field--checkbox">
                        <label class="wizard-checkbox" for="manual-burn-allow-admin-none">
                          <input class="wizard-checkbox__input" id="manual-burn-allow-admin-none" type="checkbox">
                          <span class="wizard-checkbox__label">Allow changing rule changer to "No One"</span>
                        </label>
                        <p class="field-hint">When enabled, the rule changer can permanently lock themselves out by
                          changing to "No One"</p>
                      </div>

                      <div class="wizard-field wizard-field--checkbox">
                        <label class="wizard-checkbox" for="manual-burn-allow-self-change">
                          <input class="wizard-checkbox__input" id="manual-burn-allow-self-change" type="checkbox">
                          <span class="wizard-checkbox__label">Allow rule changer to modify themselves</span>
                        </label>
                        <p class="field-hint">When enabled, the current rule changer can reassign rule-changing
                          authority to a different identity or group</p>
                      </div>
                    </fieldset>
                  </div>
                </div>

                <p class="wizard-field__message" id="permissions-manual-burn-message" role="status" aria-live="polite">
                </p>
                <div class="wizard-actions wizard-actions--between wizard-actions--sticky">
                  <button class="wizard-button wizard-button--secondary" type="button"
                    data-step-back="permissions-manual-burn">← Back</button>
                  <button class="wizard-button wizard-button--secondary" type="button" id="contract-preview-btn">📄
                    Contract Preview</button>
                  <button class="wizard-button wizard-button--primary" id="permissions-manual-burn-next"
                    type="submit">Continue →</button>
                </div>
            </form>
          </div>
        </section>

        <!-- Permissions: Freezing Sub-step -->
        <section class="wizard-screen" id="screen-permissions-manual-freeze" data-step="permissions"
          data-substep="permissions-manual-freeze" data-tab="token" hidden>

          <!-- Right Side Guide Panel -->
          <aside class="page-guide" aria-label="Page guide" data-collapsed="false">
            <div class="page-guide__header">
              <div class="page-guide__tabs-horizontal">
                <button class="page-guide__tab page-guide__tab--info active" data-panel="info" aria-label="Show Information" aria-pressed="true">
                  Information
                </button>
                <button class="page-guide__tab page-guide__tab--guide" data-panel="guide" aria-label="Show User Guide" aria-pressed="false">
                  User Guide
                </button>
              </div>
              <button class="page-guide__collapse" aria-label="Collapse panel" aria-expanded="true">
                <svg class="page-guide__collapse-icon" width="16" height="16" viewBox="0 0 16 16" fill="none">
                  <path d="M6 12l4-4-4-4" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
              </button>
            </div>
            <div class="page-guide__panel page-guide__panel--info active" data-panel="info">
              <div class="page-guide__content">
              <h2 class="page-guide__title">Manual Freeze Permission</h2>
              <p class="page-guide__intro">Decide if token balances can be frozen (temporarily locked).</p>

              <div class="page-guide__section">
                <h3 class="page-guide__section-title">Quick Reference</h3>

                <h4 class="page-guide__step-heading" id="guide-enable-freezing">Enable Freezing</h4>
                <p><strong>If enabled:</strong> Allows blocking a wallet's transfers (balance stays visible but
                  unusable).</p>
                <p><strong>If disabled:</strong> Ensures full decentralization — no one can stop transfers.</p>
                <p><strong>Default Authorization:</strong> NoOne (freeze and pause disabled by default)</p>

                <h4 class="page-guide__step-heading" id="guide-who-can-freeze">Who Can Freeze</h4>
                <p><strong>Authorization Levels Available:</strong></p>
                <ul class="page-guide__list">
                  <li><strong>NoOne:</strong> Freezing permanently disabled (default)</li>
                  <li><strong>ContractOwner:</strong> Only contract creator</li>
                  <li><strong>Identity:</strong> Specific Dash Platform identity (e.g., compliance officer)</li>
                  <li><strong>MainGroup:</strong> Primary governance group</li>
                  <li><strong>Group:</strong> Custom governance group (max 256 members, voting power max 65,536)</li>
                </ul>

                <h4 class="page-guide__step-heading" id="guide-freeze-rule-changer">Who Can Change This Rule</h4>
                <p>If set to "No One," even you cannot restore freeze authority later.</p>

                <h4 class="page-guide__step-heading" id="guide-freeze-history">History Tracking</h4>
                <p><strong>keepsFreezingHistory:</strong> Tracks all freeze/unfreeze events on-chain (default: TRUE)</p>
                <p>Enable for compliance and transparency. Disable only for privacy/cost reasons.</p>

                <h4 class="page-guide__step-heading" id="guide-unfreezing">Unfreezing</h4>
                <p>Choose whether frozen balances can be restored. You can enable unfreezing independently from freezing
                  to create flexible compliance workflows.</p>

                <h4 class="page-guide__step-heading" id="guide-freeze-governance-safeguards">Governance Safeguards</h4>
                <p>Each permission (Freeze, Unfreeze, Destroy Frozen) has independent governance safeguards that control
                  post-deployment modifications:</p>
                <ul class="page-guide__list">
                  <li><strong>Allow changing authorized actor to "No One":</strong> Permits permanently disabling the
                    action by removing all authorized actors.</li>
                  <li><strong>Allow changing rule changer to "No One":</strong> Allows rule changers to lock themselves
                    out, making rules immutable.</li>
                  <li><strong>Allow rule changer to modify themselves:</strong> Enables rule changers to reassign
                    control to other identities or groups.</li>
                </ul>
                <p><strong>Note:</strong> Freeze has its own governance safeguards, Unfreeze has separate safeguards,
                  and Destroy Frozen has its own. Configure each independently based on your compliance requirements.
                </p>
                <p><strong>Security tip:</strong> Keep safeguards disabled (default) to maintain maximum flexibility.
                  Enable only if you need the option to make permissions permanently immutable later.</p>
              </div>

              <div class="page-guide__section">
                <h3 class="page-guide__section-title">Best Practice</h3>
                <ul class="page-guide__list">
                  <li><strong>Regulated tokens (e.g., stablecoins):</strong> enable freeze with Group authority (max 256 members).</li>
                  <li><strong>Fully decentralized assets:</strong> keep NoOne (default) - freezing disabled.</li>
                  <li><strong>Compliance workflows:</strong> enable both freeze and unfreeze with different authority
                    levels.</li>
                  <li><strong>Governance safeguards:</strong> leave disabled for operational flexibility, enable if
                    planning future immutability.</li>
                  <li><strong>History tracking:</strong> Keep keepsFreezingHistory enabled (default) for compliance tokens.</li>
                  <li>If used, always publish freeze policy in your documentation.</li>
                </ul>
              </div>
            </div>
            </div>
            <div class="page-guide__panel page-guide__panel--guide" data-panel="guide" hidden>
              <div class="page-guide__content">
                <h2 class="page-guide__title">Freeze</h2>
                <p class="page-guide__intro">Step-by-step guide to configuring freezing, unfreezing, and destroy frozen funds permissions.</p>

                <div class="page-guide__section">
                  <h3 class="page-guide__section-title">Step 1: Enable or Disable Freezing</h3>
                  <p>Choose "No" to disable freezing functionality. Choose "Yes" to allow freezing balances for compliance purposes.</p>
                </div>

                <div class="page-guide__section">
                  <h3 class="page-guide__section-title">Step 2: Select Who Can Freeze (if enabled)</h3>
                  <p>Choose the authority type (Owner Only, Specific Identity, Group, or No One). Enter identity ID if needed.</p>
                </div>

                <div class="page-guide__section">
                  <h3 class="page-guide__section-title">Step 3: Select Who Can Change Freezing Rules</h3>
                  <p>Choose who can modify freezing permissions. Enter identity ID if needed.</p>
                </div>

                <div class="page-guide__section">
                  <h3 class="page-guide__section-title">Step 4: Configure Freezing Governance Safeguards</h3>
                  <p>Toggle the three governance options: allow changing authorized freezer to "No One", allow changing rule changer to "No One", and allow rule changer to modify themselves.</p>
                </div>

                <div class="page-guide__section">
                  <h3 class="page-guide__section-title">Step 5: Enable or Disable Unfreezing</h3>
                  <p>Choose "No" if frozen accounts stay frozen permanently. Choose "Yes" to allow unfreezing balances to restore transfer capabilities.</p>
                </div>

                <div class="page-guide__section">
                  <h3 class="page-guide__section-title">Step 6: Select Who Can Unfreeze (if enabled)</h3>
                  <p>Choose the authority type (Owner Only, Specific Identity, Group, or No One). Enter identity ID if needed.</p>
                </div>

                <div class="page-guide__section">
                  <h3 class="page-guide__section-title">Step 7: Select Who Can Change Unfreezing Rules</h3>
                  <p>Choose who can modify unfreezing permissions. Enter identity ID if needed.</p>
                </div>

                <div class="page-guide__section">
                  <h3 class="page-guide__section-title">Step 8: Configure Unfreezing Governance Safeguards</h3>
                  <p>Toggle the three governance options for unfreezing rules.</p>
                </div>

                <div class="page-guide__section">
                  <h3 class="page-guide__section-title">Step 9: Enable or Disable Destroy Frozen Funds</h3>
                  <p>Choose "No" if frozen funds cannot be destroyed. Choose "Yes" to allow destroying frozen funds for compliance.</p>
                </div>

                <div class="page-guide__section">
                  <h3 class="page-guide__section-title">Step 10: Select Who Can Destroy Frozen Funds (if enabled)</h3>
                  <p>Choose the authority type (Owner Only, Specific Identity, Group, or No One). Enter identity ID if needed.</p>
                </div>

                <div class="page-guide__section">
                  <h3 class="page-guide__section-title">Step 11: Select Who Can Change Destroy Frozen Rules</h3>
                  <p>Choose who can modify destroy frozen permissions. Enter identity ID if needed.</p>
                </div>

                <div class="page-guide__section">
                  <h3 class="page-guide__section-title">Step 12: Configure Destroy Frozen Governance Safeguards</h3>
                  <p>Toggle the three governance options for destroy frozen rules.</p>
                </div>

                <div class="page-guide__section">
                  <h3 class="page-guide__section-title">Step 13: Configure Frozen Balance Behavior (optional)</h3>
                  <p>Toggle "Allow transfers to frozen balances" if you want frozen addresses to receive tokens (typical for utility tokens). Leave off if frozen addresses should not receive tokens (typical for compliance tokens).</p>
                </div>

                <div class="page-guide__section">
                  <h3 class="page-guide__section-title">Step 14: Configure Frozen Balance Transfer Governance</h3>
                  <p>Set who can change the frozen balance transfer setting and configure the three governance safeguards.</p>
                </div>

                <div class="page-guide__section">
                  <h3 class="page-guide__section-title">Step 15: Verify and Continue</h3>
                  <p>Review all freezing, unfreezing, and destruction settings, then proceed to the next configuration tab.</p>
                </div>
              </div>
            </div>
          </aside>

          <div class="wizard-screen__inner">
            <form class="wizard-form" id="manual-freeze-form" novalidate>
              <h1 class="wizard-screen__title" id="title-permissions-manual-freeze" tabindex="-1">Can token balances be
                frozen?</h1>
              <p class="wizard-screen__subtitle">Configure permissions for freezing and unfreezing identities to prevent
                token transfers.</p>

              <!-- Enable/Disable Freezing Card -->
              <div class="form-card">
                <div class="form-card__header">
                  <h3 class="form-card__title">Freezing</h3>
                  <p class="form-card__description">Choose whether balances can be frozen to prevent transfers</p>
                </div>
                <div class="form-card__body">
                  <fieldset class="wizard-fieldset">
                    <legend class="wizard-field__label with-help">Enable freezing?
                      <button type="button" class="help-icon" data-help="manual-freeze" data-guide-target="guide-manual-freeze" aria-label="Help: Manual Freezing" tabindex="0">
                        <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
                          <circle cx="8" cy="8" r="7" stroke="currentColor" stroke-width="2"/>
                          <path d="M8 7v4M8 4.5h.01" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                        </svg>
                      </button>
                    </legend>

                    <!-- No Option -->
                    <label class="wizard-choice">
                      <input class="wizard-choice__input" type="radio" name="manual-freeze-enabled" value="disabled"
                        checked>
                      <span class="wizard-choice__content">
                        <span class="wizard-choice__title">No</span>
                        <span class="wizard-choice__hint">Freezing functionality is disabled</span>
                      </span>
                    </label>

                    <!-- Yes Option -->
                    <label class="wizard-choice">
                      <input class="wizard-choice__input" type="radio" name="manual-freeze-enabled" value="enabled"
                        data-toggle-panel="manual-freeze-permissions-panel">
                      <span class="wizard-choice__content">
                        <span class="wizard-choice__title">Yes</span>
                        <span class="wizard-choice__hint">Allow freezing balances for compliance</span>
                      </span>
                    </label>
                  </fieldset>

                  <!-- Permission Configuration (shown only when Yes is selected) -->
                  <div class="distribution-inline-panel" id="manual-freeze-permissions-panel" hidden>
                    <div class="authorization-group">
                      <!-- Authorized to perform action -->
                      <div class="field-group">
                        <label class="wizard-field__label" for="manual-freeze-permission">
                          Authorized to perform action
                          <button type="button" class="help-icon" data-help="freeze-permission" data-guide-target="guide-freezing" aria-label="Help: Freeze Permission" tabindex="0">
                            <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
                              <circle cx="8" cy="8" r="7" stroke="currentColor" stroke-width="2"/>
                              <path d="M8 7v4M8 4.5h.01" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                            </svg>
                          </button>
                        </label>
                        <select class="wizard-field__input" id="manual-freeze-permission" name="manual-freeze-permission">
                          <option value="no-one" selected>No One</option>
                          <option value="owner">Contract Owner</option>
                          <option value="identity">Specific Identity</option>
                          <option value="group">Specific Group</option>
                        </select>
                        <span class="field-hint">Choose who can freeze balances after deployment</span>
                      </div>

                      <!-- Identity Panel -->
                      <div class="authorization-inline-panel" id="manual-freeze-panel-identity" hidden>
                        <div class="field-group">
                          <label class="wizard-field__label" for="manual-freeze-identity-id">Identity ID</label>
                          <input class="wizard-field__input" type="text" id="manual-freeze-identity-id"
                            name="manual-freeze-identity-id" placeholder="Enter the Base58 ID">
                          <span class="field-hint">Enter the Dash Platform identity ID that can freeze balances</span>
                        </div>
                      </div>

                      <!-- Group Panel -->
                      <div class="authorization-inline-panel" id="manual-freeze-panel-group" hidden>
                        <div class="field-group" id="manual-freeze-group-selector-container">
                          <label class="wizard-field__label" for="manual-freeze-group-id">Select group</label>
                          <select class="wizard-field__input" id="manual-freeze-group-id" name="manual-freeze-group-id">
                            <option value="">Select a group...</option>
                          </select>
                          <span class="field-hint" id="manual-freeze-group-hint">Choose which group can perform this action</span>
                        </div>
                        <div class="field-message field-message--info" id="manual-freeze-no-groups-message" hidden>
                          <p>No group has been created yet.</p>
                          <button class="wizard-button wizard-button--secondary wizard-button--small" type="button"
                            id="manual-freeze-create-group-btn">Create Group</button>
                        </div>
                      </div>

                      <!-- Authorized to change rules -->
                      <div class="field-group" style="margin-top: var(--space-6); padding-top: var(--space-6); border-top: 1px solid var(--color-border);">
                        <label class="wizard-field__label" for="manual-freeze-change-rules">
                          Authorized to change rules
                          <button type="button" class="help-icon" data-help="freeze-rule-changer" data-guide-target="guide-governance-safeguards-freezing" aria-label="Help: Freeze Rule Changer" tabindex="0">
                            <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
                              <circle cx="8" cy="8" r="7" stroke="currentColor" stroke-width="2"/>
                              <path d="M8 7v4M8 4.5h.01" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                            </svg>
                          </button>
                        </label>
                        <select class="wizard-field__input" id="manual-freeze-change-rules" name="manual-freeze-change-rules">
                          <option value="no-one" selected>No One</option>
                          <option value="owner">Contract Owner</option>
                          <option value="identity">Specific Identity</option>
                          <option value="group">Specific Group</option>
                        </select>
                        <span class="field-hint">Define who has authority to modify freezing permissions after deployment</span>
                      </div>

                      <!-- Rule Changer Identity Panel -->
                      <div class="authorization-inline-panel" id="manual-freeze-rules-identity-panel" hidden>
                        <div class="field-group">
                          <label class="wizard-field__label" for="manual-freeze-rules-identity-id">Identity ID</label>
                          <input class="wizard-field__input" type="text" id="manual-freeze-rules-identity-id"
                            placeholder="Enter the Base58 ID">
                          <span class="field-hint">Enter the Dash Platform identity ID that can modify freezing rules</span>
                        </div>
                      </div>

                      <!-- Rule Changer Group Panel -->
                      <div class="authorization-inline-panel" id="manual-freeze-rules-group-panel" hidden>
                        <div class="field-group">
                          <label class="wizard-field__label" for="manual-freeze-rules-group-id">Select group</label>
                          <select class="wizard-field__input" id="manual-freeze-rules-group-id">
                            <option value="">Select a group...</option>
                          </select>
                          <span class="field-hint">Choose which group can modify freezing rules</span>
                        </div>
                      </div>
                    </div>

                    <!-- Governance Safeguards for Freezing -->
                    <fieldset class="wizard-fieldset" style="margin-top: var(--space-6);">
                      <legend class="wizard-field__label">Governance Safeguards</legend>
                      <p class="wizard-subsection__body" style="margin-bottom: var(--space-4);">Control what rule
                        modifications are permitted after deployment</p>

                      <div class="wizard-field wizard-field--checkbox">
                        <label class="wizard-checkbox" for="freeze-allow-authorized-none">
                          <input class="wizard-checkbox__input" id="freeze-allow-authorized-none" type="checkbox">
                          <span class="wizard-checkbox__label">Allow changing authorized freezer to "No One"</span>
                        </label>
                        <p class="field-hint">When enabled, authorized freezers can be permanently locked by changing to "No One"</p>
                      </div>

                      <div class="wizard-field wizard-field--checkbox">
                        <label class="wizard-checkbox" for="freeze-allow-admin-none">
                          <input class="wizard-checkbox__input" id="freeze-allow-admin-none" type="checkbox">
                          <span class="wizard-checkbox__label">Allow changing rule changer to "No One"</span>
                        </label>
                        <p class="field-hint">When enabled, the rule changer can permanently lock themselves out by changing to "No One"</p>
                      </div>

                      <div class="wizard-field wizard-field--checkbox">
                        <label class="wizard-checkbox" for="freeze-allow-self-change">
                          <input class="wizard-checkbox__input" id="freeze-allow-self-change" type="checkbox">
                          <span class="wizard-checkbox__label">Allow rule changer to modify themselves</span>
                        </label>
                        <p class="field-hint">When enabled, the current rule changer can reassign rule-changing authority to a different identity or group</p>
                      </div>
                    </fieldset>

                    <!-- Unfreezing Section (inside freeze permissions panel) -->
                    <fieldset class="wizard-fieldset"
                      style="margin-top: var(--space-8); padding-top: var(--space-6); border-top: 1px solid var(--color-border);">
                      <legend class="wizard-field__label">Unfreezing</legend>
                      <p class="wizard-subsection__body" style="margin-bottom: var(--space-4);">Choose whether frozen
                        balances can be restored to active status</p>

                      <!-- No Option -->
                      <label class="wizard-choice">
                        <input class="wizard-choice__input" type="radio" name="manual-unfreeze-enabled" value="disabled"
                          checked>
                        <span class="wizard-choice__content">
                          <span class="wizard-choice__title">No</span>
                          <span class="wizard-choice__hint">Unfreezing functionality is disabled (frozen accounts stay
                            frozen)</span>
                        </span>
                      </label>

                      <!-- Yes Option -->
                      <label class="wizard-choice">
                        <input class="wizard-choice__input" type="radio" name="manual-unfreeze-enabled" value="enabled"
                          data-toggle-panel="manual-unfreeze-permissions-panel">
                        <span class="wizard-choice__content">
                          <span class="wizard-choice__title">Yes</span>
                          <span class="wizard-choice__hint">Allow unfreezing balances to restore transfer
                            capabilities</span>
                        </span>
                      </label>
                    </fieldset>

                    <!-- Permission Configuration (shown only when Yes is selected) -->
                    <div class="distribution-inline-panel" id="manual-unfreeze-permissions-panel" hidden>
                      <div class="authorization-group">
                        <!-- Authorized to perform action -->
                        <div class="field-group">
                          <label class="wizard-field__label" for="manual-unfreeze-permission">
                            Authorized to perform action
                            <button type="button" class="help-icon" data-help="unfreeze-rules" data-guide-target="guide-unfreeze-rules" aria-label="Help: Unfreeze Rules" tabindex="0">
                              <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
                                <circle cx="8" cy="8" r="7" stroke="currentColor" stroke-width="2"/>
                                <path d="M8 7v4M8 4.5h.01" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                              </svg>
                            </button>
                          </label>
                          <select class="wizard-field__input" id="manual-unfreeze-permission" name="manual-unfreeze-permission">
                            <option value="no-one" selected>No One</option>
                            <option value="owner">Contract Owner</option>
                            <option value="identity">Specific Identity</option>
                            <option value="group">Specific Group</option>
                          </select>
                          <span class="field-hint">Choose who can unfreeze balances after deployment</span>
                        </div>

                        <!-- Identity Panel -->
                        <div class="authorization-inline-panel" id="manual-unfreeze-panel-identity" hidden>
                          <div class="field-group">
                            <label class="wizard-field__label" for="manual-unfreeze-identity-id">Identity ID</label>
                            <input class="wizard-field__input" type="text" id="manual-unfreeze-identity-id"
                              name="manual-unfreeze-identity-id" placeholder="Enter the Base58 ID">
                            <span class="field-hint">Enter the Dash Platform identity ID that can unfreeze balances</span>
                          </div>
                        </div>

                        <!-- Group Panel -->
                        <div class="authorization-inline-panel" id="manual-unfreeze-panel-group" hidden>
                          <div class="field-group" id="manual-unfreeze-group-selector-container">
                            <label class="wizard-field__label" for="manual-unfreeze-group-id">Select group</label>
                            <select class="wizard-field__input" id="manual-unfreeze-group-id" name="manual-unfreeze-group-id">
                              <option value="">Select a group...</option>
                            </select>
                            <span class="field-hint" id="manual-unfreeze-group-hint">Choose which group can perform this action</span>
                          </div>
                          <div class="field-message field-message--info" id="manual-unfreeze-no-groups-message" hidden>
                            <p>No group has been created yet.</p>
                            <button class="wizard-button wizard-button--secondary wizard-button--small" type="button"
                              id="manual-unfreeze-create-group-btn">Create Group</button>
                          </div>
                        </div>

                        <!-- Authorized to change rules -->
                        <div class="field-group" style="margin-top: var(--space-6); padding-top: var(--space-6); border-top: 1px solid var(--color-border);">
                          <label class="wizard-field__label" for="manual-unfreeze-change-rules">
                            Authorized to change rules
                            <button type="button" class="help-icon" data-help="unfreeze-rule-changer" data-guide-target="guide-governance-safeguards-unfreezing" aria-label="Help: Unfreeze Rule Changer" tabindex="0">
                              <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
                                <circle cx="8" cy="8" r="7" stroke="currentColor" stroke-width="2"/>
                                <path d="M8 7v4M8 4.5h.01" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                              </svg>
                            </button>
                          </label>
                          <select class="wizard-field__input" id="manual-unfreeze-change-rules" name="manual-unfreeze-change-rules">
                            <option value="no-one" selected>No One</option>
                            <option value="owner">Contract Owner</option>
                            <option value="identity">Specific Identity</option>
                            <option value="group">Specific Group</option>
                          </select>
                          <span class="field-hint">Define who has authority to modify unfreezing permissions after deployment</span>
                        </div>

                        <!-- Rule Changer Identity Panel -->
                        <div class="authorization-inline-panel" id="manual-unfreeze-rules-identity-panel" hidden>
                          <div class="field-group">
                            <label class="wizard-field__label" for="manual-unfreeze-rules-identity-id">Identity ID</label>
                            <input class="wizard-field__input" type="text" id="manual-unfreeze-rules-identity-id"
                              placeholder="Enter the Base58 ID">
                            <span class="field-hint">Enter the Dash Platform identity ID that can modify unfreezing rules</span>
                          </div>
                        </div>

                        <!-- Rule Changer Group Panel -->
                        <div class="authorization-inline-panel" id="manual-unfreeze-rules-group-panel" hidden>
                          <div class="field-group">
                            <label class="wizard-field__label" for="manual-unfreeze-rules-group-id">Select group</label>
                            <select class="wizard-field__input" id="manual-unfreeze-rules-group-id">
                              <option value="">Select a group...</option>
                            </select>
                            <span class="field-hint">Choose which group can modify unfreezing rules</span>
                          </div>
                        </div>
                      </div>

                      <!-- Governance Safeguards for Unfreezing -->
                      <fieldset class="wizard-fieldset" style="margin-top: var(--space-6);">
                        <legend class="wizard-field__label">Governance Safeguards</legend>
                        <p class="wizard-subsection__body" style="margin-bottom: var(--space-4);">Control what rule
                          modifications are permitted after deployment</p>

                        <div class="wizard-field wizard-field--checkbox">
                          <label class="wizard-checkbox" for="unfreeze-allow-authorized-none">
                            <input class="wizard-checkbox__input" id="unfreeze-allow-authorized-none" type="checkbox">
                            <span class="wizard-checkbox__label">Allow changing authorized unfreezer to "No One"</span>
                          </label>
                          <p class="field-hint">When enabled, authorized unfreezers can be permanently locked by
                            changing to "No One"</p>
                        </div>

                        <div class="wizard-field wizard-field--checkbox">
                          <label class="wizard-checkbox" for="unfreeze-allow-admin-none">
                            <input class="wizard-checkbox__input" id="unfreeze-allow-admin-none" type="checkbox">
                            <span class="wizard-checkbox__label">Allow changing rule changer to "No One"</span>
                          </label>
                          <p class="field-hint">When enabled, the rule changer can permanently lock themselves out by
                            changing to "No One"</p>
                        </div>

                        <div class="wizard-field wizard-field--checkbox">
                          <label class="wizard-checkbox" for="unfreeze-allow-self-change">
                            <input class="wizard-checkbox__input" id="unfreeze-allow-self-change" type="checkbox">
                            <span class="wizard-checkbox__label">Allow rule changer to modify themselves</span>
                          </label>
                          <p class="field-hint">When enabled, the current rule changer can reassign rule-changing
                            authority to a different identity or group</p>
                        </div>
                      </fieldset>
                    </div>

                    <!-- Destroy Frozen Section (inside freeze permissions panel) -->
                    <fieldset class="wizard-fieldset"
                      style="margin-top: var(--space-8); padding-top: var(--space-6); border-top: 1px solid var(--color-border);">
                      <legend class="wizard-field__label with-help">Destroy Frozen Funds
                        <button type="button" class="help-icon" data-help="destroy-frozen-rules" data-guide-target="guide-destroy-frozen-rules" aria-label="Help: Destroy Frozen Funds Rules" tabindex="0">
                          <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
                            <circle cx="8" cy="8" r="7" stroke="currentColor" stroke-width="2"/>
                            <path d="M8 7v4M8 4.5h.01" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                          </svg>
                        </button>
                      </legend>
                      <p class="wizard-subsection__body" style="margin-bottom: var(--space-4);">Choose whether frozen
                        tokens can be permanently destroyed</p>

                      <!-- No Option -->
                      <label class="wizard-choice">
                        <input class="wizard-choice__input" type="radio" name="destroy-frozen-enabled" value="disabled"
                          checked>
                        <span class="wizard-choice__content">
                          <span class="wizard-choice__title">No</span>
                          <span class="wizard-choice__hint">Frozen funds cannot be destroyed</span>
                        </span>
                      </label>

                      <!-- Yes Option -->
                      <label class="wizard-choice">
                        <input class="wizard-choice__input" type="radio" name="destroy-frozen-enabled" value="enabled"
                          data-toggle-panel="destroy-frozen-permissions-panel">
                        <span class="wizard-choice__content">
                          <span class="wizard-choice__title">Yes</span>
                          <span class="wizard-choice__hint">Allow destroying frozen funds for compliance</span>
                        </span>
                      </label>

                    </fieldset>

                    <!-- Permission Configuration (shown only when Yes is selected) -->
                    <div class="distribution-inline-panel" id="destroy-frozen-permissions-panel" hidden>
                      <div class="authorization-group">
                        <!-- Authorized to perform action -->
                        <div class="field-group">
                          <label class="wizard-field__label" for="destroy-frozen-permission">
                            Authorized to perform action
                            <button type="button" class="help-icon" data-help="destroy-frozen-permission" data-guide-target="guide-destroy-frozen-rules" aria-label="Help: Destroy Frozen Permission" tabindex="0">
                              <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
                                <circle cx="8" cy="8" r="7" stroke="currentColor" stroke-width="2"/>
                                <path d="M8 7v4M8 4.5h.01" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                              </svg>
                            </button>
                          </label>
                          <select class="wizard-field__input" id="destroy-frozen-permission" name="destroy-frozen-permission">
                            <option value="no-one" selected>No One</option>
                            <option value="owner">Contract Owner</option>
                            <option value="identity">Specific Identity</option>
                            <option value="group">Specific Group</option>
                          </select>
                          <span class="field-hint">Choose who can destroy frozen funds after deployment</span>
                        </div>

                        <!-- Identity Panel -->
                        <div class="authorization-inline-panel" id="destroy-frozen-panel-identity" hidden>
                          <div class="field-group">
                            <label class="wizard-field__label" for="destroy-frozen-identity-id">Identity ID</label>
                            <input class="wizard-field__input" type="text" id="destroy-frozen-identity-id"
                              name="destroy-frozen-identity-id" placeholder="Enter the Base58 ID">
                            <span class="field-hint">Enter the Dash Platform identity ID that can destroy frozen funds</span>
                          </div>
                        </div>

                        <!-- Group Panel -->
                        <div class="authorization-inline-panel" id="destroy-frozen-panel-group" hidden>
                          <div class="field-group" id="destroy-frozen-group-selector-container">
                            <label class="wizard-field__label" for="destroy-frozen-group-id">Select group</label>
                            <select class="wizard-field__input" id="destroy-frozen-group-id" name="destroy-frozen-group-id">
                              <option value="">Select a group...</option>
                            </select>
                            <span class="field-hint" id="destroy-frozen-group-hint">Choose which group can perform this action</span>
                          </div>
                          <div class="field-message field-message--info" id="destroy-frozen-no-groups-message" hidden>
                            <p>No group has been created yet.</p>
                            <button class="wizard-button wizard-button--secondary wizard-button--small" type="button"
                              id="destroy-frozen-create-group-btn">Create Group</button>
                          </div>
                        </div>

                        <!-- Authorized to change rules -->
                        <div class="field-group" style="margin-top: var(--space-6); padding-top: var(--space-6); border-top: 1px solid var(--color-border);">
                          <label class="wizard-field__label" for="destroy-frozen-change-rules">
                            Authorized to change rules
                            <button type="button" class="help-icon" data-help="destroy-frozen-change-rules" data-guide-target="guide-governance-safeguards-destroy-frozen" aria-label="Help: Destroy Frozen Change Rules" tabindex="0">
                              <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
                                <circle cx="8" cy="8" r="7" stroke="currentColor" stroke-width="2"/>
                                <path d="M8 7v4M8 4.5h.01" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                              </svg>
                            </button>
                          </label>
                          <select class="wizard-field__input" id="destroy-frozen-change-rules" name="destroy-frozen-change-rules">
                            <option value="no-one" selected>No One</option>
                            <option value="owner">Contract Owner</option>
                            <option value="identity">Specific Identity</option>
                            <option value="group">Specific Group</option>
                          </select>
                          <span class="field-hint">Define who has authority to modify destroy frozen permissions after deployment</span>
                        </div>

                        <!-- Rule Changer Identity Panel -->
                        <div class="authorization-inline-panel" id="destroy-frozen-rules-identity-panel" hidden>
                          <div class="field-group">
                            <label class="wizard-field__label" for="destroy-frozen-rules-identity-id">Identity ID</label>
                            <input class="wizard-field__input" type="text" id="destroy-frozen-rules-identity-id"
                              placeholder="Enter the Base58 ID">
                            <span class="field-hint">Enter the Dash Platform identity ID that can modify destroy frozen rules</span>
                          </div>
                        </div>

                        <!-- Rule Changer Group Panel -->
                        <div class="authorization-inline-panel" id="destroy-frozen-rules-group-panel" hidden>
                          <div class="field-group">
                            <label class="wizard-field__label" for="destroy-frozen-rules-group-id">Select group</label>
                            <select class="wizard-field__input" id="destroy-frozen-rules-group-id">
                              <option value="">Select a group...</option>
                            </select>
                            <span class="field-hint">Choose which group can modify destroy frozen rules</span>
                          </div>
                        </div>
                      </div>

                      <!-- Governance Safeguards -->
                      <fieldset class="wizard-fieldset" style="margin-top: var(--space-6);">
                        <legend class="wizard-field__label">Governance Safeguards</legend>
                        <p class="wizard-subsection__body" style="margin-bottom: var(--space-4);">Control what rule
                          modifications are permitted after deployment</p>

                        <div class="wizard-field wizard-field--checkbox">
                          <label class="wizard-checkbox" for="destroy-frozen-allow-authorized-none">
                            <input class="wizard-checkbox__input" id="destroy-frozen-allow-authorized-none"
                              type="checkbox">
                            <span class="wizard-checkbox__label">Allow changing authorized destroyer to "No One"</span>
                          </label>
                          <p class="field-hint">When enabled, authorized destroyers can be permanently locked by
                            changing to "No One"</p>
                        </div>

                        <div class="wizard-field wizard-field--checkbox">
                          <label class="wizard-checkbox" for="destroy-frozen-allow-admin-none">
                            <input class="wizard-checkbox__input" id="destroy-frozen-allow-admin-none" type="checkbox">
                            <span class="wizard-checkbox__label">Allow changing rule changer to "No One"</span>
                          </label>
                          <p class="field-hint">When enabled, the rule changer can permanently lock themselves out by
                            changing to "No One"</p>
                        </div>

                        <div class="wizard-field wizard-field--checkbox">
                          <label class="wizard-checkbox" for="destroy-frozen-allow-self-change">
                            <input class="wizard-checkbox__input" id="destroy-frozen-allow-self-change" type="checkbox">
                            <span class="wizard-checkbox__label">Allow rule changer to modify themselves</span>
                          </label>
                          <p class="field-hint">When enabled, the current rule changer can reassign rule-changing
                            authority to a different identity or group</p>
                        </div>
                      </fieldset>
                      </fieldset>
                    </div>

                    <!-- Allow Transfer to Frozen Balance Configuration -->
                    <fieldset class="wizard-fieldset"
                      style="margin-top: var(--space-8); padding-top: var(--space-6); border-top: 1px solid var(--color-border);">
                      <legend class="wizard-field__label">Frozen balance behavior</legend>
                      <p class="wizard-subsection__body" style="margin-bottom: var(--space-4);">
                        Control whether tokens can be sent to addresses that have frozen balances
                      </p>

                      <div class="wizard-field wizard-field--checkbox">
                        <label class="wizard-checkbox">
                          <input class="wizard-checkbox__input" type="checkbox" id="permissions-allow-frozen"
                            name="permissions-allow-frozen">
                          <span class="wizard-checkbox__label">
                            <span class="wizard-checkbox__title">Allow transfers to frozen balances</span>
                            <span class="wizard-checkbox__hint" style="display: block; margin-top: var(--space-2xs);">
                              When enabled, tokens can be sent to addresses with frozen balances. The frozen balance
                              cannot spend the tokens, but can receive them. Typically disabled for compliance tokens,
                              enabled for utility tokens.
                            </span>
                          </span>
                        </label>
                      </div>

                      <!-- Governance Safeguards for Allow Frozen (conditional) -->
                      <div id="allow-frozen-safeguards-panel" hidden style="margin-top: var(--space-6); padding: var(--space-5); background: var(--color-background-subtle); border-radius: var(--radius-md);">
                        <h4 style="margin: 0 0 var(--space-3) 0; font-size: var(--font-size-base); font-weight: 600;">Frozen Balance Transfer Governance</h4>
                        <p class="wizard-subsection__body" style="margin-bottom: var(--space-4);">Control who can modify the frozen balance transfer setting after deployment</p>

                        <div class="wizard-field wizard-field--checkbox">
                          <label class="wizard-checkbox" for="allow-frozen-allow-change-authorized-none">
                            <input class="wizard-checkbox__input" id="allow-frozen-allow-change-authorized-none" type="checkbox">
                            <span class="wizard-checkbox__label">Allow changing authorized modifier to "No One"</span>
                          </label>
                          <p class="field-hint">When enabled, the ability to modify this setting can be permanently locked by changing to "No One"</p>
                        </div>

                        <div class="wizard-field wizard-field--checkbox">
                          <label class="wizard-checkbox" for="allow-frozen-allow-change-admin-none">
                            <input class="wizard-checkbox__input" id="allow-frozen-allow-change-admin-none" type="checkbox">
                            <span class="wizard-checkbox__label">Allow changing rule changer to "No One"</span>
                          </label>
                          <p class="field-hint">When enabled, the rule changer can permanently lock themselves out by changing to "No One"</p>
                        </div>

                        <div class="wizard-field wizard-field--checkbox">
                          <label class="wizard-checkbox" for="allow-frozen-allow-self-change">
                            <input class="wizard-checkbox__input" id="allow-frozen-allow-self-change" type="checkbox">
                            <span class="wizard-checkbox__label">Allow rule changer to modify themselves</span>
                          </label>
                          <p class="field-hint">When enabled, the current rule changer can reassign rule-changing authority to a different identity or group</p>
                        </div>
                      </div>
                    </fieldset>
                  </div>
                </div>

                <p class="wizard-field__message" id="permissions-manual-freeze-message" role="status"
                  aria-live="polite"></p>
                <div class="wizard-actions wizard-actions--between wizard-actions--sticky">
                  <button class="wizard-button wizard-button--secondary" type="button"
                    data-step-back="permissions-manual-freeze">← Back</button>
                  <button class="wizard-button wizard-button--secondary" type="button" id="contract-preview-btn">📄
                    Contract Preview</button>
                  <button class="wizard-button wizard-button--primary" id="permissions-manual-freeze-next"
                    type="submit">Continue →</button>
                </div>
            </form>
          </div>
        </section>

        <!-- Permissions: Emergency Actions Sub-step -->
        <section class="wizard-screen" id="screen-permissions-emergency" data-step="permissions"
          data-substep="permissions-emergency" data-tab="token" hidden>

          <!-- Right Side Guide Panel -->
          <aside class="page-guide" aria-label="Page guide" data-collapsed="false">
            <div class="page-guide__header">
              <div class="page-guide__tabs-horizontal">
                <button class="page-guide__tab page-guide__tab--info active" data-panel="info" aria-label="Show Information" aria-pressed="true">
                  Information
                </button>
                <button class="page-guide__tab page-guide__tab--guide" data-panel="guide" aria-label="Show User Guide" aria-pressed="false">
                  User Guide
                </button>
              </div>
              <button class="page-guide__collapse" aria-label="Collapse panel" aria-expanded="true">
                <svg class="page-guide__collapse-icon" width="16" height="16" viewBox="0 0 16 16" fill="none">
                  <path d="M6 12l4-4-4-4" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
              </button>
            </div>
            <div class="page-guide__panel page-guide__panel--info active" data-panel="info">
              <div class="page-guide__content">
              <h2 class="page-guide__title">Emergency Actions</h2>
              <p class="page-guide__intro">Configure who can pause and unpause all token operations in emergency situations.</p>

              <div class="page-guide__section">
                <h3 class="page-guide__section-title">Quick Reference</h3>

                <h4 class="page-guide__step-heading" id="guide-emergency-pause">Emergency Pause/Unpause</h4>
                <p>Emergency actions allow authorized parties to immediately suspend all token operations (transfers, mints, burns, freezes) in response to security threats, exploits, or critical bugs. When paused, the token becomes completely inactive until explicitly unpaused.</p>
                <p><strong>Default Authorization:</strong> NoOne (emergency actions disabled by default for maximum decentralization)</p>
                <p><strong>Official Parameter:</strong> emergencyActionRules control who can pause/unpause</p>

                <h4 class="page-guide__step-heading" id="guide-who-can-pause">Authorization Levels</h4>
                <p><strong>All 5 Authorization Levels Available:</strong></p>
                <ul class="page-guide__list">
                  <li><strong>NoOne:</strong> Emergency actions permanently disabled (default, maximum decentralization)</li>
                  <li><strong>ContractOwner:</strong> Only contract creator can pause/unpause</li>
                  <li><strong>Identity:</strong> Specific Dash Platform identity can trigger emergency actions</li>
                  <li><strong>MainGroup:</strong> Primary governance group controls emergency response</li>
                  <li><strong>Group(x):</strong> Custom governance group (max 256 members, voting power max 65,536)</li>
                </ul>

                <h4 class="page-guide__step-heading" id="guide-pause-rule-changer">Who Can Change This Rule</h4>
                <p>Define who has authority to modify emergency action permissions after deployment. This governance layer controls whether emergency response capabilities can be enabled, disabled, or transferred.</p>
                <p><strong>All 5 authorization levels apply to rule changes as well.</strong></p>

                <h4 class="page-guide__step-heading" id="guide-emergency-default">Official Default</h4>
                <p><strong>Default Setting:</strong> NoOne (emergency actions disabled)</p>
                <p>Dash Platform tokens default to maximum decentralization with no emergency pause capability. Enable this feature only if you require emergency response capabilities.</p>
              </div>

              <div class="page-guide__section">
                <h3 class="page-guide__section-title">Best Practice</h3>
                <ul class="page-guide__list">
                  <li><strong>Production tokens:</strong> Use Group governance (max 256 members) for multi-signature emergency control, never a single identity</li>
                  <li><strong>Decentralized projects:</strong> Keep default NoOne setting to prevent centralized control</li>
                  <li><strong>Early-stage projects:</strong> Enable ContractOwner control during initial launch, then transfer to Group governance</li>
                  <li><strong>Group limits:</strong> Max 256 members per group, max 65,536 total voting power</li>
                  <li>Document emergency response procedures publicly for transparency</li>
                  <li>Test emergency pause/unpause on testnet before mainnet deployment</li>
                  <li>For mature public tokens, consider permanently locking to NoOne after stabilization</li>
                </ul>
              </div>
            </div>
            </div>
            <div class="page-guide__panel page-guide__panel--guide" data-panel="guide" hidden>
              <div class="page-guide__content">
                <h2 class="page-guide__title">Emergency Actions</h2>
                <p class="page-guide__intro">Step-by-step guide to configuring emergency pause/resume permissions.</p>

                <div class="page-guide__section">
                  <h3 class="page-guide__section-title">Step 1: Enable or Disable Emergency Actions</h3>
                  <p>Choose "No" to disable emergency actions. Choose "Yes" to allow global pause/resume of all token transfers during emergencies.</p>
                </div>

                <div class="page-guide__section">
                  <h3 class="page-guide__section-title">Step 2: Select Who Can Perform Emergency Actions (if enabled)</h3>
                  <p>Choose the authority type (Owner Only, Specific Identity, Group, or No One). Enter identity ID if needed.</p>
                </div>

                <div class="page-guide__section">
                  <h3 class="page-guide__section-title">Step 3: Select Who Can Change Emergency Action Rules</h3>
                  <p>Choose who can modify emergency action permissions. Enter identity ID if needed.</p>
                </div>

                <div class="page-guide__section">
                  <h3 class="page-guide__section-title">Step 4: Configure Governance Safeguards</h3>
                  <p>Toggle these options based on your governance needs:</p>
                  <ul class="page-guide__list">
                    <li><strong>Allow changing authorized actor to "No One":</strong> Enables permanently disabling emergency actions</li>
                    <li><strong>Allow changing rule changer to "No One":</strong> Enables permanently locking emergency action rule modifications</li>
                    <li><strong>Allow rule changer to modify themselves:</strong> Enables the current rule changer to reassign their authority</li>
                  </ul>
                </div>

                <div class="page-guide__section">
                  <h3 class="page-guide__section-title">Step 5: Verify and Continue</h3>
                  <p>Review all emergency action settings and proceed to the next configuration tab.</p>
                </div>
              </div>
            </div>
          </aside>

          <div class="wizard-screen__inner">
            <form class="wizard-form" id="emergency-form" novalidate>
              <h1 class="wizard-screen__title" id="title-permissions-emergency" tabindex="-1">Can emergency actions be
                performed?</h1>
              <p class="wizard-screen__subtitle">Configure permissions for global pause/resume in emergencies. When
                paused, all token transfers are frozen.</p>

              <!-- Enable/Disable Emergency Actions Card -->
              <div class="form-card">
                <div class="form-card__header">
                  <h3 class="form-card__title">Emergency Actions</h3>
                  <p class="form-card__description">Choose whether emergency pause/resume can be triggered</p>
                </div>
                <div class="form-card__body">
                  <fieldset class="wizard-fieldset">
                    <legend class="wizard-field__label with-help">Enable emergency actions?
                      <button type="button" class="help-icon" data-help="emergency-action-rules" data-guide-target="guide-emergency-action-rules" aria-label="Help: Emergency Action Rules" tabindex="0">
                        <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
                          <circle cx="8" cy="8" r="7" stroke="currentColor" stroke-width="2"/>
                          <path d="M8 7v4M8 4.5h.01" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                        </svg>
                      </button>
                    </legend>

                    <!-- No Option -->
                    <label class="wizard-choice">
                      <input class="wizard-choice__input" type="radio" name="emergency-enabled" value="disabled"
                        checked>
                      <span class="wizard-choice__content">
                        <span class="wizard-choice__title">No</span>
                        <span class="wizard-choice__hint">Emergency actions are disabled</span>
                      </span>
                    </label>

                    <!-- Yes Option -->
                    <label class="wizard-choice">
                      <input class="wizard-choice__input" type="radio" name="emergency-enabled" value="enabled"
                        data-toggle-panel="emergency-permissions-panel">
                      <span class="wizard-choice__content">
                        <span class="wizard-choice__title">Yes</span>
                        <span class="wizard-choice__hint">Allow global pause/resume for emergencies</span>
                      </span>
                    </label>
                  </fieldset>

                  <!-- Permission Configuration (shown only when Yes is selected) -->
                  <div class="distribution-inline-panel" id="emergency-permissions-panel" hidden>
                    <div class="authorization-group">
                      <!-- Authorized to perform action -->
                      <div class="field-group">
                        <label class="wizard-field__label" for="emergency-permission">
                          Authorized to perform action
                          <button type="button" class="help-icon" data-help="emergency-permission" data-guide-target="guide-emergency-action-rules" aria-label="Help: Emergency Permission" tabindex="0">
                            <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
                              <circle cx="8" cy="8" r="7" stroke="currentColor" stroke-width="2"/>
                              <path d="M8 7v4M8 4.5h.01" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                            </svg>
                          </button>
                        </label>
                        <select class="wizard-field__input" id="emergency-permission" name="emergency-permission">
                          <option value="no-one" selected>No One</option>
                          <option value="owner">Contract Owner</option>
                          <option value="identity">Specific Identity</option>
                          <option value="group">Specific Group</option>
                        </select>
                        <span class="field-hint">Choose who can perform emergency pause/resume actions</span>
                      </div>

                      <!-- Identity Panel -->
                      <div class="authorization-inline-panel" id="emergency-panel-identity" hidden>
                        <div class="field-group">
                          <label class="wizard-field__label" for="emergency-identity-id">Identity ID</label>
                          <input class="wizard-field__input" type="text" id="emergency-identity-id"
                            name="emergency-identity-id" placeholder="Enter the Base58 ID">
                          <span class="field-hint">Enter the Dash Platform identity ID that can perform emergency actions</span>
                        </div>
                      </div>

                      <!-- Group Panel -->
                      <div class="authorization-inline-panel" id="emergency-panel-group" hidden>
                        <div class="field-group" id="emergency-group-selector-container">
                          <label class="wizard-field__label" for="emergency-group-id">Select group</label>
                          <select class="wizard-field__input" id="emergency-group-id" name="emergency-group-id">
                            <option value="">Select a group...</option>
                          </select>
                          <span class="field-hint" id="emergency-group-hint">Choose which group can perform this action</span>
                        </div>
                        <div class="field-message field-message--info" id="emergency-no-groups-message" hidden>
                          <p>No group has been created yet.</p>
                          <button class="wizard-button wizard-button--secondary wizard-button--small" type="button"
                            id="emergency-create-group-btn">Create Group</button>
                        </div>
                      </div>

                      <!-- Authorized to change rules -->
                      <div class="field-group" style="margin-top: var(--space-6); padding-top: var(--space-6); border-top: 1px solid var(--color-border);">
                        <label class="wizard-field__label" for="emergency-change-rules">
                          Authorized to change rules
                          <button type="button" class="help-icon" data-help="emergency-change-rules" data-guide-target="guide-governance-safeguards-emergency" aria-label="Help: Emergency Change Rules" tabindex="0">
                            <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
                              <circle cx="8" cy="8" r="7" stroke="currentColor" stroke-width="2"/>
                              <path d="M8 7v4M8 4.5h.01" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                            </svg>
                          </button>
                        </label>
                        <select class="wizard-field__input" id="emergency-change-rules" name="emergency-change-rules">
                          <option value="no-one" selected>No One</option>
                          <option value="owner">Contract Owner</option>
                          <option value="identity">Specific Identity</option>
                          <option value="group">Specific Group</option>
                        </select>
                        <span class="field-hint">Define who has authority to modify emergency action permissions after deployment</span>
                      </div>

                      <!-- Rule Changer Identity Panel -->
                      <div class="authorization-inline-panel" id="emergency-rules-identity-panel" hidden>
                        <div class="field-group">
                          <label class="wizard-field__label" for="emergency-rules-identity-id">Identity ID</label>
                          <input class="wizard-field__input" type="text" id="emergency-rules-identity-id"
                            placeholder="Enter the Base58 ID">
                          <span class="field-hint">Enter the Dash Platform identity ID that can modify emergency action rules</span>
                        </div>
                      </div>

                      <!-- Rule Changer Group Panel -->
                      <div class="authorization-inline-panel" id="emergency-rules-group-panel" hidden>
                        <div class="field-group">
                          <label class="wizard-field__label" for="emergency-rules-group-id">Select group</label>
                          <select class="wizard-field__input" id="emergency-rules-group-id">
                            <option value="">Select a group...</option>
                          </select>
                          <span class="field-hint">Choose which group can modify emergency action rules</span>
                        </div>
                      </div>
                    </div>

                    <!-- Governance Safeguards -->
                    <fieldset class="wizard-fieldset" style="margin-top: var(--space-6);">
                      <legend class="wizard-field__label with-help">Governance Safeguards
                        <button type="button" class="help-icon" data-help="governance-safeguards" data-guide-target="guide-governance-safeguards-emergency" aria-label="Help: Governance Safeguards" tabindex="0">
                          <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
                            <circle cx="8" cy="8" r="7" stroke="currentColor" stroke-width="2"/>
                            <path d="M8 7v4M8 4.5h.01" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                          </svg>
                        </button>
                      </legend>
                      <p class="wizard-subsection__body" style="margin-bottom: var(--space-4);">Control what rule
                        modifications are permitted after deployment</p>

                      <div class="wizard-field wizard-field--checkbox">
                        <label class="wizard-checkbox" for="emergency-allow-authorized-none">
                          <input class="wizard-checkbox__input" id="emergency-allow-authorized-none" type="checkbox">
                          <span class="wizard-checkbox__label">Allow changing authorized actor to "No One"</span>
                        </label>
                        <p class="field-hint">When enabled, authorized emergency actors can be permanently locked by
                          changing to "No One"</p>
                      </div>

                      <div class="wizard-field wizard-field--checkbox">
                        <label class="wizard-checkbox" for="emergency-allow-admin-none">
                          <input class="wizard-checkbox__input" id="emergency-allow-admin-none" type="checkbox">
                          <span class="wizard-checkbox__label">Allow changing rule changer to "No One"</span>
                        </label>
                        <p class="field-hint">When enabled, the rule changer can permanently lock themselves out by
                          changing to "No One"</p>
                      </div>

                      <div class="wizard-field wizard-field--checkbox">
                        <label class="wizard-checkbox" for="emergency-allow-self-change">
                          <input class="wizard-checkbox__input" id="emergency-allow-self-change" type="checkbox">
                          <span class="wizard-checkbox__label">Allow rule changer to modify themselves</span>
                        </label>
                        <p class="field-hint">When enabled, the current rule changer can reassign rule-changing
                          authority to a different identity or group</p>
                      </div>
                    </fieldset>
                  </div>
                </div>

                <p class="wizard-field__message" id="permissions-emergency-message" role="status" aria-live="polite"></p>
                <div class="wizard-actions wizard-actions--between wizard-actions--sticky">
                  <button class="wizard-button wizard-button--secondary" type="button"
                    data-step-back="permissions-emergency">← Back</button>
                  <button class="wizard-button wizard-button--secondary" type="button" id="contract-preview-btn">📄
                    Contract Preview</button>
                  <button class="wizard-button wizard-button--primary" id="permissions-emergency-next"
                    type="submit">Continue →</button>
                </div>
            </form>
          </div>
        </section>

        <!-- Permissions: Conventions Change Sub-step -->
        <section class="wizard-screen" id="screen-permissions-conventions-change" data-step="permissions"
          data-substep="permissions-conventions-change" data-tab="token" hidden>

          <!-- Right Side Guide Panel -->
          <aside class="page-guide" aria-label="Page guide" data-collapsed="false">
            <div class="page-guide__header">
              <div class="page-guide__tabs-horizontal">
                <button class="page-guide__tab page-guide__tab--info active" data-panel="info" aria-label="Show Information" aria-pressed="true">
                  Information
                </button>
                <button class="page-guide__tab page-guide__tab--guide" data-panel="guide" aria-label="Show User Guide" aria-pressed="false">
                  User Guide
                </button>
              </div>
              <button class="page-guide__collapse" aria-label="Collapse panel" aria-expanded="true">
                <svg class="page-guide__collapse-icon" width="16" height="16" viewBox="0 0 16 16" fill="none">
                  <path d="M6 12l4-4-4-4" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
              </button>
            </div>
            <div class="page-guide__panel page-guide__panel--info active" data-panel="info">
              <div class="page-guide__content">
              <h2 class="page-guide__title">Conventions Change Permission</h2>
              <p class="page-guide__intro">Define who can update token display conventions including name, symbol, decimals, and localizations.</p>

              <div class="page-guide__section">
                <h3 class="page-guide__section-title">Quick Reference</h3>

                <h4 class="page-guide__step-heading" id="guide-conventions-enable-change">Token Conventions</h4>
                <p>Conventions define how your token appears in wallets, exchanges, and user interfaces. This includes the token name, symbol, decimal places, and multi-language localizations (singular/plural forms, capitalization rules).</p>
                <p><strong>Official Parameter:</strong> conventionsChangeRules control who can modify naming conventions</p>
                <p><strong>Default Authorization:</strong> Typically ContractOwner (allows creator to update branding)</p>

                <h4 class="page-guide__step-heading" id="guide-conventions-what-changes">What Can Be Changed</h4>
                <ul class="page-guide__list">
                  <li><strong>Token Name:</strong> Display name shown to users</li>
                  <li><strong>Symbol:</strong> Ticker symbol (e.g., BTC, ETH)</li>
                  <li><strong>Decimals:</strong> Number of decimal places for display</li>
                  <li><strong>Localizations:</strong> Language-specific display rules (singular/plural forms, capitalization)</li>
                </ul>
                <p><strong>Note:</strong> This screen was previously covered in the Naming Update screen. Settings are consistent across both locations.</p>

                <h4 class="page-guide__step-heading" id="guide-conventions-who-can-change">Authorization Levels</h4>
                <p><strong>All 5 Authorization Levels Available:</strong></p>
                <ul class="page-guide__list">
                  <li><strong>NoOne:</strong> Conventions permanently locked (immutable branding)</li>
                  <li><strong>ContractOwner:</strong> Only contract creator can update (typical default)</li>
                  <li><strong>Identity:</strong> Specific Dash Platform identity controls branding</li>
                  <li><strong>MainGroup:</strong> Primary governance group decides convention changes</li>
                  <li><strong>Group(x):</strong> Custom governance group (max 256 members, voting power max 65,536)</li>
                </ul>

                <h4 class="page-guide__step-heading" id="guide-conventions-update-rules">Who Can Change These Rules</h4>
                <p>Define who has authority to modify convention change permissions after deployment. This governance layer controls whether branding update capabilities can be enabled, disabled, or transferred.</p>
                <p><strong>All 5 authorization levels apply to rule changes as well.</strong></p>
              </div>

              <div class="page-guide__section">
                <h3 class="page-guide__section-title">Best Practice</h3>
                <ul class="page-guide__list">
                  <li><strong>Early-stage tokens:</strong> Keep ContractOwner control for rebranding flexibility</li>
                  <li><strong>Mature tokens:</strong> Lock to NoOne after final branding is established</li>
                  <li><strong>Community tokens:</strong> Use Group governance (max 256 members) for democratic branding decisions</li>
                  <li><strong>Exchange-listed tokens:</strong> Lock conventions to prevent confusion after listing</li>
                  <li><strong>Group limits:</strong> Max 256 members per group, max 65,536 total voting power</li>
                  <li>Consider long-term branding strategy before permanently locking</li>
                  <li>Document convention changes publicly for transparency</li>
                  <li>Test convention updates on testnet before applying to mainnet</li>
                </ul>
              </div>
            </div>
            </div>
            <div class="page-guide__panel page-guide__panel--guide" data-panel="guide" hidden>
              <div class="page-guide__content">
                <h2 class="page-guide__title">Conventions Change</h2>
                <p class="page-guide__intro">Step-by-step guide to configuring conventions change permissions.</p>

                <div class="page-guide__section">
                  <h3 class="page-guide__section-title">Step 1: Enable or Disable Conventions Change</h3>
                  <p>Choose "No" if token conventions cannot be changed. Choose "Yes" to enable conventions changes (migrations, swaps, protocol upgrades) with authorized parties.</p>
                </div>

                <div class="page-guide__section">
                  <h3 class="page-guide__section-title">Step 2: Select Who Can Perform Conventions Changes (if enabled)</h3>
                  <p>Choose the authority type (Contract Owner, Identity, Group, or No One). Enter identity ID if needed.</p>
                </div>

                <div class="page-guide__section">
                  <h3 class="page-guide__section-title">Step 3: Select Who Can Change Authorization Rules</h3>
                  <p>Choose who can modify the conventions change permissions (Owner, Identity, Group, or No One). Enter identity ID if needed.</p>
                </div>

                <div class="page-guide__section">
                  <h3 class="page-guide__section-title">Step 4: Configure Governance Safeguards</h3>
                  <p>Toggle these options based on your governance needs:</p>
                  <ul class="page-guide__list">
                    <li><strong>Allow changing authorized actor to "No One":</strong> Enables permanently disabling conventions changes</li>
                    <li><strong>Allow changing rule changer to "No One":</strong> Enables permanently locking authorization rule modifications</li>
                    <li><strong>Allow rule changer to modify themselves:</strong> Enables the current rule changer to reassign their authority</li>
                  </ul>
                </div>

                <div class="page-guide__section">
                  <h3 class="page-guide__section-title">Step 5: Verify and Continue</h3>
                  <p>Review all conventions change settings and proceed to the next configuration tab.</p>
                </div>
              </div>
            </div>
          </aside>

          <div class="wizard-screen__inner">
            <form class="wizard-form" id="permissions-conventions-change-form" novalidate>
              <h1 class="wizard-screen__title" id="title-permissions-conventions-change" tabindex="-1">Do you want to
                enable Conventions Change? <span class="wizard-badge wizard-badge--optional">(optional setting)</span>
              </h1>
              <p class="wizard-screen__subtitle">Control who can modify token conventions and rules, including
                migrations, swaps, and protocol upgrades.</p>

              <!-- Enable Conventions Change -->
              <div class="form-card">
                <div class="form-card__header">
                  <h3 class="form-card__title">Enable Conventions Change</h3>
                  <p class="form-card__description">Allow modifications to token conventions and rules</p>
                </div>
                <div class="form-card__body">
                  <fieldset class="wizard-fieldset">
                    <legend class="wizard-field__label">Enable conventions changes?
                      <button type="button" class="help-icon" data-help="conventions-enable-change" data-guide-target="guide-conventions-enable-change" aria-label="Help: Enable Conventions Change" tabindex="0">
                        <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
                          <circle cx="8" cy="8" r="7" stroke="currentColor" stroke-width="2"/>
                          <path d="M8 7v4M8 4.5h.01" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                        </svg>
                      </button>
                    </legend>

                    <!-- No Option -->
                    <label class="wizard-choice">
                      <input class="wizard-choice__input" type="radio" name="conventions-change-enable" value="disabled"
                        checked>
                      <span class="wizard-choice__content">
                        <span class="wizard-choice__title">No</span>
                        <span class="wizard-choice__hint">Token conventions cannot be changed</span>
                      </span>
                    </label>

                    <!-- Yes Option -->
                    <label class="wizard-choice">
                      <input class="wizard-choice__input" type="radio" name="conventions-change-enable" value="enabled"
                        data-toggle-panel="conventions-change-config-container">
                      <span class="wizard-choice__content">
                        <span class="wizard-choice__title">Yes</span>
                        <span class="wizard-choice__hint">Enable conventions changes with authorized parties</span>
                      </span>
                    </label>
                  </fieldset>

                  <!-- Conventions Change Configuration (shown when Yes is selected) -->
                  <div class="distribution-inline-panel" id="conventions-change-config-container" hidden>

                    <div class="authorization-group">
                      <!-- Authorized to perform action -->
                      <div class="field-group">
                        <label class="wizard-field__label" for="conventions-perform">
                          Authorized to perform action
                          <button type="button" class="help-icon" data-help="conventions-who-can-change" data-guide-target="guide-conventions-who-can-change" aria-label="Help: Who Can Perform Conventions Changes" tabindex="0">
                            <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
                              <circle cx="8" cy="8" r="7" stroke="currentColor" stroke-width="2"/>
                              <path d="M8 7v4M8 4.5h.01" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                            </svg>
                          </button>
                        </label>
                        <select class="wizard-field__input" id="conventions-perform" name="conventions-perform">
                          <option value="no-one" selected>No One</option>
                          <option value="owner">Contract Owner</option>
                          <option value="identity">Specific Identity</option>
                          <option value="group">Specific Group</option>
                        </select>
                        <span class="field-hint">Who can execute conventions changes?</span>
                      </div>

                      <!-- Identity Panel -->
                      <div class="authorization-inline-panel" id="conventions-perform-identity-panel" hidden>
                        <div class="field-group">
                          <label class="wizard-field__label" for="conventions-perform-identity-id">Identity ID</label>
                          <input class="wizard-field__input" type="text" id="conventions-perform-identity-id"
                            placeholder="Enter the Base58 ID">
                          <span class="field-hint">Enter the Dash Platform identity ID</span>
                        </div>
                      </div>

                      <!-- Group Panel -->
                      <div class="authorization-inline-panel" id="conventions-perform-group-panel" hidden>
                        <div class="field-group">
                          <label class="wizard-field__label" for="conventions-perform-group-id">Select group</label>
                          <select class="wizard-field__input" id="conventions-perform-group-id">
                            <option value="">Select a group...</option>
                          </select>
                          <span class="field-hint">Choose which group can perform this action</span>
                        </div>
                      </div>

                      <!-- Authorized to change rules -->
                      <div class="field-group" style="margin-top: var(--space-6); padding-top: var(--space-6); border-top: 1px solid var(--color-border);">
                        <label class="wizard-field__label" for="conventions-change-rules">
                          Authorized to change rules
                          <button type="button" class="help-icon" data-help="conventions-update-rules" data-guide-target="guide-conventions-update-rules" aria-label="Help: Who Can Update Rules" tabindex="0">
                            <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
                              <circle cx="8" cy="8" r="7" stroke="currentColor" stroke-width="2"/>
                              <path d="M8 7v4M8 4.5h.01" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                            </svg>
                          </button>
                        </label>
                        <select class="wizard-field__input" id="conventions-change-rules" name="conventions-change-rules">
                          <option value="no-one" selected>No One</option>
                          <option value="owner">Contract Owner</option>
                          <option value="identity">Specific Identity</option>
                          <option value="group">Specific Group</option>
                        </select>
                        <span class="field-hint">Who can modify the authorization rules for conventions changes?</span>
                      </div>

                      <!-- Rule Changer Identity Panel -->
                      <div class="authorization-inline-panel" id="conventions-rules-identity-panel" hidden>
                        <div class="field-group">
                          <label class="wizard-field__label" for="conventions-rules-identity-id">Identity ID</label>
                          <input class="wizard-field__input" type="text" id="conventions-rules-identity-id"
                            placeholder="Enter the Base58 ID">
                          <span class="field-hint">Enter the Dash Platform identity ID</span>
                        </div>
                      </div>

                      <!-- Rule Changer Group Panel -->
                      <div class="authorization-inline-panel" id="conventions-rules-group-panel" hidden>
                        <div class="field-group">
                          <label class="wizard-field__label" for="conventions-rules-group-id">Select group</label>
                          <select class="wizard-field__input" id="conventions-rules-group-id">
                            <option value="">Select a group...</option>
                          </select>
                          <span class="field-hint">Choose which group can modify rules</span>
                        </div>
                      </div>
                    </div>

                    <!-- Governance Safeguards -->
                    <fieldset class="wizard-fieldset" style="margin-top: var(--space-6);">
                      <legend class="wizard-field__label with-help">Governance Safeguards
                        <button type="button" class="help-icon" data-help="governance-safeguards" data-guide-target="guide-governance-safeguards-conventions" aria-label="Help: Governance Safeguards" tabindex="0">
                          <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
                            <circle cx="8" cy="8" r="7" stroke="currentColor" stroke-width="2"/>
                            <path d="M8 7v4M8 4.5h.01" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                          </svg>
                        </button>
                      </legend>
                      <p class="wizard-subsection__body" style="margin-bottom: var(--space-4);">Control what rule
                        modifications are permitted after deployment</p>

                      <div class="wizard-field wizard-field--checkbox">
                        <label class="wizard-checkbox" for="conventions-change-allow-authorized-none">
                          <input class="wizard-checkbox__input" id="conventions-change-allow-authorized-none"
                            type="checkbox">
                          <span class="wizard-checkbox__label">Allow changing authorized actor to "No One"</span>
                        </label>
                        <p class="field-hint">When enabled, authorized actors for convention changes can be permanently
                          locked by changing to "No One"</p>
                      </div>

                      <div class="wizard-field wizard-field--checkbox">
                        <label class="wizard-checkbox" for="conventions-change-allow-admin-none">
                          <input class="wizard-checkbox__input" id="conventions-change-allow-admin-none"
                            type="checkbox">
                          <span class="wizard-checkbox__label">Allow changing rule changer to "No One"</span>
                        </label>
                        <p class="field-hint">When enabled, the rule changer can permanently lock themselves out by
                          changing to "No One"</p>
                      </div>

                      <div class="wizard-field wizard-field--checkbox">
                        <label class="wizard-checkbox" for="conventions-change-allow-self-change">
                          <input class="wizard-checkbox__input" id="conventions-change-allow-self-change"
                            type="checkbox">
                          <span class="wizard-checkbox__label">Allow rule changer to modify themselves</span>
                        </label>
                        <p class="field-hint">When enabled, the current rule changer can reassign rule-changing
                          authority to a different identity or group</p>
                      </div>
                    </fieldset>

                  </div>
                  </fieldset>
                </div>

                <p class="wizard-field__message" id="permissions-conventions-change-message" role="status"
                  aria-live="polite"></p>

                <div class="wizard-actions wizard-actions--between wizard-actions--sticky">
                  <button class="wizard-button wizard-button--secondary" type="button"
                    data-step-back="permissions-conventions-change">← Back</button>
                  <button class="wizard-button wizard-button--secondary" type="button" id="contract-preview-btn">📄
                    Contract Preview</button>
                  <button class="wizard-button wizard-button--primary" id="permissions-conventions-change-next"
                    type="submit">Continue →</button>
                </div>
            </form>
          </div>
        </section>

        <!-- Permissions: Marketplace Trade Mode Change -->
        <section class="wizard-screen" id="screen-permissions-marketplace-trade-mode-change" data-step="permissions"
          data-substep="permissions-marketplace-trade-mode-change" data-tab="token" hidden>

          <!-- Right Side Guide Panel -->
          <aside class="page-guide" aria-label="Page guide" data-collapsed="false">
            <div class="page-guide__header">
              <div class="page-guide__tabs-horizontal">
                <button class="page-guide__tab page-guide__tab--info active" data-panel="info" aria-label="Show Information" aria-pressed="true">
                  Information
                </button>
                <button class="page-guide__tab page-guide__tab--guide" data-panel="guide" aria-label="Show User Guide" aria-pressed="false">
                  User Guide
                </button>
              </div>
              <button class="page-guide__collapse" aria-label="Collapse panel" aria-expanded="true">
                <svg class="page-guide__collapse-icon" width="16" height="16" viewBox="0 0 16 16" fill="none">
                  <path d="M6 12l4-4-4-4" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
              </button>
            </div>
            <div class="page-guide__panel page-guide__panel--info active" data-panel="info">
              <div class="page-guide__content">
              <h2 class="page-guide__title">Marketplace Trade Mode Change</h2>
              <p class="page-guide__intro">Configure who can modify your token's marketplace trading permissions in future versions of Dash Platform.</p>

              <div class="page-guide__section">
                <h3 class="page-guide__section-title">Quick Reference</h3>

                <h4 class="page-guide__step-heading" id="guide-trade-mode">Current Status and Future Capability</h4>
                <p><strong>Current State:</strong> All tokens launch as <strong>NotTradeable</strong> (trading disabled). Marketplace trading features are not yet available on Dash Platform but are planned for future releases.</p>
                <p><strong>Official Parameter:</strong> tradeModeChangeRules control who can modify trading permissions</p>
                <p><strong>This screen pre-configures governance</strong> for future marketplace functionality, determining who will have authority to enable trading once the feature is activated.</p>

                <h4 class="page-guide__step-heading" id="guide-trade-modes">Future Trading Modes (Planned)</h4>
                <ul class="page-guide__list">
                  <li><strong>NotTradeable (current only mode):</strong> Token cannot be traded on marketplace, only transferred</li>
                  <li><strong>Permissionless (planned):</strong> Anyone can trade freely without approval</li>
                  <li><strong>CommitteeApproved (planned):</strong> Trades require authorization from governance group</li>
                </ul>
                <p><strong>Note:</strong> Only NotTradeable mode is currently available. Future modes will enable decentralized exchange functionality.</p>

                <h4 class="page-guide__step-heading" id="guide-trade-who-can-modify">Authorization Levels</h4>
                <p><strong>All 5 Authorization Levels Available:</strong></p>
                <ul class="page-guide__list">
                  <li><strong>NoOne:</strong> Trade mode permanently locked as NotTradeable (cannot enable trading)</li>
                  <li><strong>ContractOwner:</strong> Only contract creator can enable/change trading modes</li>
                  <li><strong>Identity:</strong> Specific Dash Platform identity controls marketplace access</li>
                  <li><strong>MainGroup:</strong> Primary governance group decides trading permissions</li>
                  <li><strong>Group(x):</strong> Custom governance group (max 256 members, voting power max 65,536)</li>
                </ul>

                <h4 class="page-guide__step-heading" id="guide-trade-rule-changer">Who Can Change These Rules</h4>
                <p>Define who has authority to modify trade mode change permissions after deployment. This governance layer controls whether marketplace activation capabilities can be enabled, disabled, or transferred.</p>
                <p><strong>All 5 authorization levels apply to rule changes as well.</strong></p>

                <h4 class="page-guide__step-heading" id="guide-trade-impact">Impact on Token Liquidity</h4>
                <p>Trade mode controls marketplace access and liquidity. When marketplace features launch, this permission determines who can enable decentralized exchange trading for your token.</p>
              </div>

              <div class="page-guide__section">
                <h3 class="page-guide__section-title">Best Practice</h3>
                <ul class="page-guide__list">
                  <li><strong>DEX tokens (future trading):</strong> Keep ContractOwner or Group control to enable trading when marketplace launches</li>
                  <li><strong>Private/internal tokens:</strong> Lock to NoOne to prevent marketplace trading permanently</li>
                  <li><strong>Community tokens:</strong> Use Group governance (max 256 members) for democratic trading decisions</li>
                  <li><strong>Group limits:</strong> Max 256 members per group, max 65,536 total voting power</li>
                  <li>Pre-configure governance now even though marketplace isn't active yet</li>
                  <li>Consider regulatory implications before enabling open trading</li>
                  <li>Test marketplace features on testnet before mainnet activation</li>
                </ul>
              </div>
            </div>
            </div>
            <div class="page-guide__panel page-guide__panel--guide" data-panel="guide" hidden>
              <div class="page-guide__content">
                <h2 class="page-guide__title">Marketplace Trade Mode</h2>
                <p class="page-guide__intro">Step-by-step guide to configuring marketplace trade mode permissions.</p>

                <div class="page-guide__section">
                  <h3 class="page-guide__section-title">Step 1: Enable or Disable Marketplace Trade Mode Changes</h3>
                  <p>Choose "No" if marketplace trade mode cannot be changed. Choose "Yes" to enable marketplace trade mode changes with authorized parties.</p>
                </div>

                <div class="page-guide__section">
                  <h3 class="page-guide__section-title">Step 2: Select Who Can Perform Trade Mode Changes (if enabled)</h3>
                  <p>Choose the authority type (Contract Owner, Identity, Group, or No One). Enter identity ID if needed.</p>
                </div>

                <div class="page-guide__section">
                  <h3 class="page-guide__section-title">Step 3: Select Who Can Change Authorization Rules</h3>
                  <p>Choose who can modify the trade mode change permissions (Owner, Identity, Group, or No One). Enter identity ID if needed.</p>
                </div>

                <div class="page-guide__section">
                  <h3 class="page-guide__section-title">Step 4: Configure Governance Safeguards</h3>
                  <p>Toggle these options based on your governance needs:</p>
                  <ul class="page-guide__list">
                    <li><strong>Allow changing authorized actor to "No One":</strong> Enables permanently disabling trade mode changes</li>
                    <li><strong>Allow changing rule changer to "No One":</strong> Enables permanently locking authorization rule modifications</li>
                    <li><strong>Allow rule changer to modify themselves:</strong> Enables the current rule changer to reassign their authority</li>
                  </ul>
                </div>

                <div class="page-guide__section">
                  <h3 class="page-guide__section-title">Step 5: Verify and Continue</h3>
                  <p>Review all marketplace trade mode settings and proceed to the next configuration tab.</p>
                </div>
              </div>
            </div>
          </aside>

          <div class="wizard-screen__inner">
            <form class="wizard-form" id="permissions-marketplace-trade-mode-change-form" novalidate>
              <h1 class="wizard-screen__title" id="title-permissions-marketplace-trade-mode-change" tabindex="-1">Can
                marketplace trade mode be changed?</h1>
              <p class="wizard-screen__subtitle">Configure who can modify your token's trading mode in the marketplace.
              </p>

              <div class="form-card">
                <div class="form-card__header">
                  <h3 class="form-card__title">Enable Marketplace Trade Mode Change</h3>
                  <p class="form-card__description">Allow modifications to marketplace trading mechanisms and policies
                  </p>
                </div>
                <div class="form-card__body">
                  <fieldset class="wizard-fieldset">
                    <legend class="wizard-field__label">Enable marketplace trade mode changes?</legend>

                    <!-- No Option -->
                    <label class="wizard-choice">
                      <input class="wizard-choice__input" type="radio" name="marketplace-trade-mode-enable"
                        value="disabled" checked>
                      <span class="wizard-choice__content">
                        <span class="wizard-choice__title">No</span>
                        <span class="wizard-choice__hint">Marketplace trade mode cannot be changed</span>
                      </span>
                    </label>

                    <!-- Yes Option -->
                    <label class="wizard-choice">
                      <input class="wizard-choice__input" type="radio" name="marketplace-trade-mode-enable"
                        value="enabled" data-toggle-panel="marketplace-trade-mode-config-container">
                      <span class="wizard-choice__content">
                        <span class="wizard-choice__title">Yes</span>
                        <span class="wizard-choice__hint">Enable marketplace trade mode changes with authorized
                          parties</span>
                      </span>
                    </label>
                  </fieldset>

                  <!-- Marketplace Trade Mode Configuration (shown when Yes is selected) -->
                  <div class="distribution-inline-panel" id="marketplace-trade-mode-config-container" hidden>

                    <div class="authorization-group">
                      <!-- Authorized to perform action -->
                      <div class="field-group">
                        <label class="wizard-field__label" for="marketplace-trade-mode-perform">
                          Authorized to perform action
                          <button type="button" class="help-icon" data-help="marketplace-trade-mode-perform" data-guide-target="guide-marketplace-trade-mode" aria-label="Help: Marketplace Trade Mode" tabindex="0">
                            <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
                              <circle cx="8" cy="8" r="7" stroke="currentColor" stroke-width="2"/>
                              <path d="M8 7v4M8 4.5h.01" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                            </svg>
                          </button>
                        </label>
                        <select class="wizard-field__input" id="marketplace-trade-mode-perform" name="marketplace-trade-mode-perform">
                          <option value="no-one" selected>No One</option>
                          <option value="owner">Contract Owner</option>
                          <option value="identity">Specific Identity</option>
                          <option value="group">Specific Group</option>
                        </select>
                        <span class="field-hint">Who can execute marketplace trade mode changes?</span>
                      </div>

                      <!-- Identity Panel -->
                      <div class="authorization-inline-panel" id="marketplace-trade-mode-perform-identity-panel" hidden>
                        <div class="field-group">
                          <label class="wizard-field__label" for="marketplace-trade-mode-perform-identity-id">Identity ID</label>
                          <input class="wizard-field__input" type="text" id="marketplace-trade-mode-perform-identity-id"
                            placeholder="Enter the Base58 ID">
                          <span class="field-hint">Enter the Dash Platform identity ID</span>
                        </div>
                      </div>

                      <!-- Group Panel -->
                      <div class="authorization-inline-panel" id="marketplace-trade-mode-perform-group-panel" hidden>
                        <div class="field-group">
                          <label class="wizard-field__label" for="marketplace-trade-mode-perform-group-id">Select group</label>
                          <select class="wizard-field__input" id="marketplace-trade-mode-perform-group-id">
                            <option value="">Select a group...</option>
                          </select>
                          <span class="field-hint">Choose which group can perform this action</span>
                        </div>
                      </div>

                      <!-- Authorized to change rules -->
                      <div class="field-group" style="margin-top: var(--space-6); padding-top: var(--space-6); border-top: 1px solid var(--color-border);">
                        <label class="wizard-field__label" for="marketplace-trade-mode-change-rules">
                          Authorized to change rules
                          <button type="button" class="help-icon" data-help="marketplace-trade-mode-rules" data-guide-target="guide-governance-safeguards-marketplace" aria-label="Help: Marketplace Trade Mode Rules" tabindex="0">
                            <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
                              <circle cx="8" cy="8" r="7" stroke="currentColor" stroke-width="2"/>
                              <path d="M8 7v4M8 4.5h.01" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                            </svg>
                          </button>
                        </label>
                        <select class="wizard-field__input" id="marketplace-trade-mode-change-rules" name="marketplace-trade-mode-change-rules">
                          <option value="no-one" selected>No One</option>
                          <option value="owner">Contract Owner</option>
                          <option value="identity">Specific Identity</option>
                          <option value="group">Specific Group</option>
                        </select>
                        <span class="field-hint">Who can modify the authorization rules for marketplace trade mode changes?</span>
                      </div>

                      <!-- Rule Changer Identity Panel -->
                      <div class="authorization-inline-panel" id="marketplace-trade-mode-rules-identity-panel" hidden>
                        <div class="field-group">
                          <label class="wizard-field__label" for="marketplace-trade-mode-rules-identity-id">Identity ID</label>
                          <input class="wizard-field__input" type="text" id="marketplace-trade-mode-rules-identity-id"
                            placeholder="Enter the Base58 ID">
                          <span class="field-hint">Enter the Dash Platform identity ID</span>
                        </div>
                      </div>

                      <!-- Rule Changer Group Panel -->
                      <div class="authorization-inline-panel" id="marketplace-trade-mode-rules-group-panel" hidden>
                        <div class="field-group">
                          <label class="wizard-field__label" for="marketplace-trade-mode-rules-group-id">Select group</label>
                          <select class="wizard-field__input" id="marketplace-trade-mode-rules-group-id">
                            <option value="">Select a group...</option>
                          </select>
                          <span class="field-hint">Choose which group can modify rules</span>
                        </div>
                      </div>
                    </div>

                    <!-- Governance Safeguards -->
                    <fieldset class="wizard-fieldset" style="margin-top: var(--space-6);">
                      <legend class="wizard-field__label with-help">Governance Safeguards
                        <button type="button" class="help-icon" data-help="governance-safeguards" data-guide-target="guide-governance-safeguards-marketplace" aria-label="Help: Governance Safeguards" tabindex="0">
                          <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
                            <circle cx="8" cy="8" r="7" stroke="currentColor" stroke-width="2"/>
                            <path d="M8 7v4M8 4.5h.01" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                          </svg>
                        </button>
                      </legend>
                      <p class="wizard-subsection__body" style="margin-bottom: var(--space-4);">Control what rule
                        modifications are permitted after deployment</p>

                      <div class="wizard-field wizard-field--checkbox">
                        <label class="wizard-checkbox" for="marketplace-trade-mode-allow-authorized-none">
                          <input class="wizard-checkbox__input" id="marketplace-trade-mode-allow-authorized-none"
                            type="checkbox">
                          <span class="wizard-checkbox__label">Allow changing authorized actor to "No One"</span>
                        </label>
                        <p class="field-hint">When enabled, authorized actors for trade mode changes can be permanently
                          locked by changing to "No One"</p>
                      </div>

                      <div class="wizard-field wizard-field--checkbox">
                        <label class="wizard-checkbox" for="marketplace-trade-mode-allow-admin-none">
                          <input class="wizard-checkbox__input" id="marketplace-trade-mode-allow-admin-none"
                            type="checkbox">
                          <span class="wizard-checkbox__label">Allow changing rule changer to "No One"</span>
                        </label>
                        <p class="field-hint">When enabled, the rule changer can permanently lock themselves out by
                          changing to "No One"</p>
                      </div>

                      <div class="wizard-field wizard-field--checkbox">
                        <label class="wizard-checkbox" for="marketplace-trade-mode-allow-self-change">
                          <input class="wizard-checkbox__input" id="marketplace-trade-mode-allow-self-change"
                            type="checkbox">
                          <span class="wizard-checkbox__label">Allow rule changer to modify themselves</span>
                        </label>
                        <p class="field-hint">When enabled, the current rule changer can reassign rule-changing
                          authority to a different identity or group</p>
                      </div>
                    </fieldset>

                  </div>
                  </fieldset>
                </div>

                <p class="wizard-field__message" id="permissions-marketplace-trade-mode-change-message" role="status"
                  aria-live="polite"></p>

                <div class="wizard-actions wizard-actions--between wizard-actions--sticky">
                  <button class="wizard-button wizard-button--secondary" type="button"
                    data-step-back="permissions-marketplace-trade-mode-change">← Back</button>
                  <button class="wizard-button wizard-button--secondary" type="button" id="contract-preview-btn">📄
                    Contract Preview</button>
                  <button class="wizard-button wizard-button--primary" id="permissions-marketplace-trade-mode-change-next"
                    type="submit">Continue →</button>
                </div>
            </form>
          </div>
        </section>

        <!-- Permissions: Direct Purchase Pricing Change -->
        <section class="wizard-screen" id="screen-permissions-direct-pricing-change" data-step="permissions"
          data-substep="permissions-direct-pricing-change" data-tab="token" hidden>

          <!-- Right Side Guide Panel -->
          <aside class="page-guide" aria-label="Page guide" data-collapsed="false">
            <div class="page-guide__header">
              <div class="page-guide__tabs-horizontal">
                <button class="page-guide__tab page-guide__tab--info active" data-panel="info" aria-label="Show Information" aria-pressed="true">
                  Information
                </button>
                <button class="page-guide__tab page-guide__tab--guide" data-panel="guide" aria-label="Show User Guide" aria-pressed="false">
                  User Guide
                </button>
              </div>
              <button class="page-guide__collapse" aria-label="Collapse panel" aria-expanded="true">
                <svg class="page-guide__collapse-icon" width="16" height="16" viewBox="0 0 16 16" fill="none">
                  <path d="M6 12l4-4-4-4" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
              </button>
            </div>
            <div class="page-guide__panel page-guide__panel--info active" data-panel="info">
              <div class="page-guide__content">
              <h2 class="page-guide__title">Direct Purchase Pricing Change</h2>
              <p class="page-guide__intro">Configure who can modify direct purchase pricing when the contract owner sells tokens at fixed rates.</p>

              <div class="page-guide__section">
                <h3 class="page-guide__section-title">Quick Reference</h3>

                <h4 class="page-guide__step-heading" id="guide-direct-purchase-concept">Direct Purchase Model</h4>
                <p><strong>What is Direct Purchase:</strong> A pricing mechanism where the contract owner sets tiered fixed prices, and users buy tokens directly from the owner at those predetermined rates (not peer-to-peer trading).</p>
                <p><strong>Official Parameter:</strong> changeDirectPurchasePricingRules control who can modify pricing tiers</p>
                <p><strong>History Tracking:</strong> keepsDirectPricingHistory flag (default: TRUE) logs all pricing changes on-chain</p>

                <h4 class="page-guide__step-heading" id="guide-pricing-tiers">Tiered Pricing Structure</h4>
                <p>Direct purchase allows setting multiple price tiers based on purchase quantity or timing. For example:</p>
                <ul class="page-guide__list">
                  <li><strong>Tier 1:</strong> 1-100 tokens at $1.00 each</li>
                  <li><strong>Tier 2:</strong> 101-1000 tokens at $0.90 each</li>
                  <li><strong>Tier 3:</strong> 1001+ tokens at $0.80 each</li>
                </ul>
                <p>The owner sets these tiers, and users purchase at the applicable fixed rate.</p>

                <h4 class="page-guide__step-heading" id="guide-enable-price-changes">Authorization Levels</h4>
                <p><strong>All 5 Authorization Levels Available:</strong></p>
                <ul class="page-guide__list">
                  <li><strong>NoOne:</strong> Pricing permanently locked (immutable rates)</li>
                  <li><strong>ContractOwner:</strong> Only contract creator can adjust pricing</li>
                  <li><strong>Identity:</strong> Specific Dash Platform identity controls pricing strategy</li>
                  <li><strong>MainGroup:</strong> Primary governance group decides pricing changes</li>
                  <li><strong>Group(x):</strong> Custom pricing committee (max 256 members, voting power max 65,536)</li>
                </ul>

                <h4 class="page-guide__step-heading" id="guide-price-modify-rules">Who Can Change These Rules</h4>
                <p>Define who has authority to modify pricing change permissions after deployment. This governance layer controls whether pricing update capabilities can be enabled, disabled, or transferred.</p>
                <p><strong>All 5 authorization levels apply to rule changes as well.</strong></p>

                <h4 class="page-guide__step-heading" id="guide-pricing-history">History Tracking</h4>
                <p><strong>keepsDirectPricingHistory:</strong> Tracks all pricing tier updates on-chain (default: TRUE)</p>
                <p>Provides transparency and auditability for pricing changes. Essential for compliance and user trust. Disable only for maximum privacy.</p>
                <p><strong>Also available:</strong> keepsDirectPurchaseHistory tracks individual purchase transactions</p>
              </div>

              <div class="page-guide__section">
                <h3 class="page-guide__section-title">Best Practice</h3>
                <ul class="page-guide__list">
                  <li><strong>ICO/Token Sales:</strong> Use ContractOwner control for flexible pricing during sale periods</li>
                  <li><strong>Stable tokens:</strong> Lock to NoOne to guarantee fixed pricing forever</li>
                  <li><strong>DAO-managed tokens:</strong> Use Group governance (max 256 members) for democratic pricing decisions</li>
                  <li><strong>Group limits:</strong> Max 256 members per group, max 65,536 total voting power</li>
                  <li><strong>History tracking:</strong> Keep keepsDirectPricingHistory enabled (default) for transparency</li>
                  <li>Document pricing policy and update schedule publicly</li>
                  <li>Test pricing tier logic on testnet before mainnet deployment</li>
                  <li>Consider regulatory implications of dynamic pricing strategies</li>
                </ul>
              </div>
            </div>
            </div>
            <div class="page-guide__panel page-guide__panel--guide" data-panel="guide" hidden>
              <div class="page-guide__content">
                <h2 class="page-guide__title">Direct Purchase Pricing</h2>
                <p class="page-guide__intro">Step-by-step guide to configuring direct purchase pricing permissions.</p>

                <div class="page-guide__section">
                  <h3 class="page-guide__section-title">Step 1: Enable or Disable Direct Purchase Pricing Changes</h3>
                  <p>Choose "No" if direct purchase pricing cannot be changed. Choose "Yes" to enable direct purchase pricing changes with authorized parties.</p>
                </div>

                <div class="page-guide__section">
                  <h3 class="page-guide__section-title">Step 2: Select Who Can Perform Pricing Changes (if enabled)</h3>
                  <p>Choose the authority type (Contract Owner, Identity, Group, or No One). Enter identity ID if needed.</p>
                </div>

                <div class="page-guide__section">
                  <h3 class="page-guide__section-title">Step 3: Select Who Can Change Authorization Rules</h3>
                  <p>Choose who can modify the pricing change permissions (Owner, Identity, Group, or No One). Enter identity ID if needed.</p>
                </div>

                <div class="page-guide__section">
                  <h3 class="page-guide__section-title">Step 4: Configure Governance Safeguards</h3>
                  <p>Toggle these options based on your governance needs:</p>
                  <ul class="page-guide__list">
                    <li><strong>Allow changing authorized actor to "No One":</strong> Enables permanently disabling pricing changes</li>
                    <li><strong>Allow changing rule changer to "No One":</strong> Enables permanently locking authorization rule modifications</li>
                    <li><strong>Allow rule changer to modify themselves:</strong> Enables the current rule changer to reassign their authority</li>
                  </ul>
                </div>

                <div class="page-guide__section">
                  <h3 class="page-guide__section-title">Step 5: Verify and Continue</h3>
                  <p>Review all direct purchase pricing settings and proceed to the next configuration tab.</p>
                </div>
              </div>
            </div>
          </aside>

          <div class="wizard-screen__inner">
            <form class="wizard-form" id="permissions-direct-pricing-change-form" novalidate>
              <h1 class="wizard-screen__title" id="title-permissions-direct-pricing-change" tabindex="-1">Can direct
                purchase pricing be changed?</h1>
              <p class="wizard-screen__subtitle">Define who can adjust your token's direct purchase price.</p>

              <div class="form-card">
                <div class="form-card__header">
                  <h3 class="form-card__title">Enable Direct Purchase Pricing Change</h3>
                  <p class="form-card__description">Allow modifications to direct purchase pricing mechanisms</p>
                </div>
                <div class="form-card__body">
                  <fieldset class="wizard-fieldset">
                    <legend class="wizard-field__label">Enable direct purchase pricing changes?
                      <button type="button" class="help-icon" data-help="direct-pricing-enable" data-guide-target="guide-enable-pricing-change" aria-label="Help: Enable Direct Pricing Changes" tabindex="0">
                        <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
                          <circle cx="8" cy="8" r="7" stroke="currentColor" stroke-width="2"/>
                          <path d="M8 7v4M8 4.5h.01" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                        </svg>
                      </button>
                    </legend>

                    <!-- No Option -->
                    <label class="wizard-choice">
                      <input class="wizard-choice__input" type="radio" name="direct-pricing-enable" value="disabled"
                        checked>
                      <span class="wizard-choice__content">
                        <span class="wizard-choice__title">No</span>
                        <span class="wizard-choice__hint">Direct purchase pricing cannot be changed</span>
                      </span>
                    </label>

                    <!-- Yes Option -->
                    <label class="wizard-choice">
                      <input class="wizard-choice__input" type="radio" name="direct-pricing-enable" value="enabled"
                        data-toggle-panel="direct-pricing-config-container">
                      <span class="wizard-choice__content">
                        <span class="wizard-choice__title">Yes</span>
                        <span class="wizard-choice__hint">Enable direct purchase pricing changes with authorized
                          parties</span>
                      </span>
                    </label>
                  </fieldset>

                  <!-- Direct Pricing Configuration (shown when Yes is selected) -->
                  <div class="distribution-inline-panel" id="direct-pricing-config-container" hidden>

                    <div class="authorization-group">
                      <!-- Authorized to perform action -->
                      <div class="field-group">
                        <label class="wizard-field__label" for="direct-pricing-perform">
                          Authorized to perform action
                          <button type="button" class="help-icon" data-help="direct-pricing-who" data-guide-target="guide-who-can-change-pricing" aria-label="Help: Who Can Change Pricing" tabindex="0">
                            <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
                              <circle cx="8" cy="8" r="7" stroke="currentColor" stroke-width="2"/>
                              <path d="M8 7v4M8 4.5h.01" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                            </svg>
                          </button>
                        </label>
                        <select class="wizard-field__input" id="direct-pricing-perform" name="direct-pricing-perform">
                          <option value="no-one" selected>No One</option>
                          <option value="owner">Contract Owner</option>
                          <option value="identity">Specific Identity</option>
                          <option value="group">Specific Group</option>
                        </select>
                        <span class="field-hint">Who can execute direct purchase pricing changes?</span>
                      </div>

                      <!-- Identity Panel -->
                      <div class="authorization-inline-panel" id="direct-pricing-perform-identity-panel" hidden>
                        <div class="field-group">
                          <label class="wizard-field__label" for="direct-pricing-perform-identity-id">Identity ID</label>
                          <input class="wizard-field__input" type="text" id="direct-pricing-perform-identity-id"
                            placeholder="Enter the Base58 ID">
                          <span class="field-hint">Enter the Dash Platform identity ID</span>
                        </div>
                      </div>

                      <!-- Group Panel -->
                      <div class="authorization-inline-panel" id="direct-pricing-perform-group-panel" hidden>
                        <div class="field-group">
                          <label class="wizard-field__label" for="direct-pricing-perform-group-id">Select group</label>
                          <select class="wizard-field__input" id="direct-pricing-perform-group-id">
                            <option value="">Select a group...</option>
                          </select>
                          <span class="field-hint">Choose which group can perform this action</span>
                        </div>
                      </div>

                      <!-- Authorized to change rules -->
                      <div class="field-group" style="margin-top: var(--space-6); padding-top: var(--space-6); border-top: 1px solid var(--color-border);">
                        <label class="wizard-field__label" for="direct-pricing-change-rules">
                          Authorized to change rules
                          <button type="button" class="help-icon" data-help="direct-pricing-rules" data-guide-target="guide-pricing-rules-update" aria-label="Help: Who Can Update Pricing Rules" tabindex="0">
                            <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
                              <circle cx="8" cy="8" r="7" stroke="currentColor" stroke-width="2"/>
                              <path d="M8 7v4M8 4.5h.01" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                            </svg>
                          </button>
                        </label>
                        <select class="wizard-field__input" id="direct-pricing-change-rules" name="direct-pricing-change-rules">
                          <option value="no-one" selected>No One</option>
                          <option value="owner">Contract Owner</option>
                          <option value="identity">Specific Identity</option>
                          <option value="group">Specific Group</option>
                        </select>
                        <span class="field-hint">Who can modify the authorization rules for direct purchase pricing changes?</span>
                      </div>

                      <!-- Rule Changer Identity Panel -->
                      <div class="authorization-inline-panel" id="direct-pricing-rules-identity-panel" hidden>
                        <div class="field-group">
                          <label class="wizard-field__label" for="direct-pricing-rules-identity-id">Identity ID</label>
                          <input class="wizard-field__input" type="text" id="direct-pricing-rules-identity-id"
                            placeholder="Enter the Base58 ID">
                          <span class="field-hint">Enter the Dash Platform identity ID</span>
                        </div>
                      </div>

                      <!-- Rule Changer Group Panel -->
                      <div class="authorization-inline-panel" id="direct-pricing-rules-group-panel" hidden>
                        <div class="field-group">
                          <label class="wizard-field__label" for="direct-pricing-rules-group-id">Select group</label>
                          <select class="wizard-field__input" id="direct-pricing-rules-group-id">
                            <option value="">Select a group...</option>
                          </select>
                          <span class="field-hint">Choose which group can modify rules</span>
                        </div>
                      </div>
                    </div>

                    <!-- Governance Safeguards -->
                    <fieldset class="wizard-fieldset" style="margin-top: var(--space-6);">
                      <legend class="wizard-field__label with-help">Governance Safeguards
                        <button type="button" class="help-icon" data-help="governance-safeguards" data-guide-target="guide-governance-safeguards-pricing" aria-label="Help: Governance Safeguards" tabindex="0">
                          <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
                            <circle cx="8" cy="8" r="7" stroke="currentColor" stroke-width="2"/>
                            <path d="M8 7v4M8 4.5h.01" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                          </svg>
                        </button>
                      </legend>
                      <p class="wizard-subsection__body" style="margin-bottom: var(--space-4);">Control what rule
                        modifications are permitted after deployment</p>

                      <div class="wizard-field wizard-field--checkbox">
                        <label class="wizard-checkbox" for="direct-pricing-allow-authorized-none">
                          <input class="wizard-checkbox__input" id="direct-pricing-allow-authorized-none"
                            type="checkbox">
                          <span class="wizard-checkbox__label">Allow changing authorized actor to "No One"</span>
                        </label>
                        <p class="field-hint">When enabled, authorized actors for pricing changes can be permanently
                          locked by changing to "No One"</p>
                      </div>

                      <div class="wizard-field wizard-field--checkbox">
                        <label class="wizard-checkbox" for="direct-pricing-allow-admin-none">
                          <input class="wizard-checkbox__input" id="direct-pricing-allow-admin-none" type="checkbox">
                          <span class="wizard-checkbox__label">Allow changing rule changer to "No One"</span>
                        </label>
                        <p class="field-hint">When enabled, the rule changer can permanently lock themselves out by
                          changing to "No One"</p>
                      </div>

                      <div class="wizard-field wizard-field--checkbox">
                        <label class="wizard-checkbox" for="direct-pricing-allow-self-change">
                          <input class="wizard-checkbox__input" id="direct-pricing-allow-self-change" type="checkbox">
                          <span class="wizard-checkbox__label">Allow rule changer to modify themselves</span>
                        </label>
                        <p class="field-hint">When enabled, the current rule changer can reassign rule-changing
                          authority to a different identity or group</p>
                      </div>
                    </fieldset>

                  </div>
                  </fieldset>
                </div>

                <p class="wizard-field__message" id="permissions-direct-pricing-change-message" role="status"
                  aria-live="polite"></p>

                <div class="wizard-actions wizard-actions--between wizard-actions--sticky">
                  <button class="wizard-button wizard-button--secondary" type="button"
                    data-step-back="permissions-direct-pricing-change">← Back</button>
                  <button class="wizard-button wizard-button--secondary" type="button" id="contract-preview-btn">📄
                    Contract Preview</button>
                  <button class="wizard-button wizard-button--primary" id="permissions-direct-pricing-change-next"
                    type="submit">Continue →</button>
                </div>
            </form>
          </div>
        </section>

        <!-- Permissions: Main Control Group Change -->
        <section class="wizard-screen" id="screen-permissions-main-control-change" data-step="permissions"
          data-substep="permissions-main-control-change" data-tab="token" hidden>

          <!-- Right Side Guide Panel -->
          <aside class="page-guide" aria-label="Page guide" data-collapsed="false">
            <div class="page-guide__header">
              <div class="page-guide__tabs-horizontal">
                <button class="page-guide__tab page-guide__tab--info active" data-panel="info" aria-label="Show Information" aria-pressed="true">
                  Information
                </button>
                <button class="page-guide__tab page-guide__tab--guide" data-panel="guide" aria-label="Show User Guide" aria-pressed="false">
                  User Guide
                </button>
              </div>
              <button class="page-guide__collapse" aria-label="Collapse panel" aria-expanded="true">
                <svg class="page-guide__collapse-icon" width="16" height="16" viewBox="0 0 16 16" fill="none">
                  <path d="M6 12l4-4-4-4" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
              </button>
            </div>
            <div class="page-guide__panel page-guide__panel--info active" data-panel="info">
              <div class="page-guide__content">
              <h2 class="page-guide__title">Main Control Change</h2>
              <p class="page-guide__intro">Configure overarching governance for multiple change rules including supply limits, distribution, and administrative controls.</p>

              <div class="page-guide__section">
                <h3 class="page-guide__section-title">Quick Reference</h3>

                <h4 class="page-guide__step-heading" id="guide-enable-group-change">Main Control Concept</h4>
                <p><strong>What is Main Control:</strong> An overarching governance mechanism that can control multiple change rules simultaneously, including maxSupplyChangeRules, perpetualDistributionRules, and other high-level parameters.</p>
                <p><strong>Official Concept:</strong> admin_action_takers parameter exists for override governance capabilities</p>
                <p><strong>Purpose:</strong> Provides a unified governance layer that can modify multiple permissions from a single authority point.</p>

                <h4 class="page-guide__step-heading" id="guide-main-control-scope">What Main Control May Govern</h4>
                <ul class="page-guide__list">
                  <li><strong>maxSupplyChangeRules:</strong> Who can modify maximum token supply limits</li>
                  <li><strong>perpetualDistributionRules:</strong> Control over perpetual distribution mechanisms</li>
                  <li><strong>Administrative overrides:</strong> High-level governance actions (admin_action_takers)</li>
                  <li><strong>Multiple change rules:</strong> Unified control over various permission structures</li>
                  <li><strong>Emergency governance:</strong> Ability to override certain restrictions</li>
                </ul>

                <h4 class="page-guide__step-heading" id="guide-who-can-change-group">Authorization Levels</h4>
                <p><strong>All 5 Authorization Levels Available:</strong></p>
                <ul class="page-guide__list">
                  <li><strong>NoOne:</strong> Main control permanently locked (maximum decentralization)</li>
                  <li><strong>ContractOwner:</strong> Only contract creator has overarching control</li>
                  <li><strong>Identity:</strong> Specific Dash Platform identity controls main governance</li>
                  <li><strong>MainGroup:</strong> Primary governance group (self-referential control)</li>
                  <li><strong>Group(x):</strong> Custom oversight committee (max 256 members, voting power max 65,536)</li>
                </ul>

                <h4 class="page-guide__step-heading" id="guide-group-change-rules">Who Can Change These Rules</h4>
                <p>Define who has authority to modify main control permissions after deployment. This is the highest governance layer—controlling who controls the controllers.</p>
                <p><strong>All 5 authorization levels apply to rule changes as well.</strong></p>

                <h4 class="page-guide__step-heading" id="guide-group-change-impact">Critical Security Notice</h4>
                <p><strong>WARNING:</strong> Main control represents the highest-level permission in your token's governance hierarchy. Losing access to this control may result in permanent inability to modify core token parameters.</p>
                <p><strong>Group Limits:</strong> Max 256 members per group, max 65,536 total voting power</p>
              </div>

              <div class="page-guide__section">
                <h3 class="page-guide__section-title">Best Practice</h3>
                <ul class="page-guide__list">
                  <li><strong>Production tokens:</strong> Always use Group governance (max 256 members) with multi-signature control</li>
                  <li><strong>Never use single identity:</strong> Main control should require multiple parties to prevent single point of failure</li>
                  <li><strong>Decentralized projects:</strong> Use MainGroup for self-governing communities</li>
                  <li><strong>Lock timing:</strong> Only lock to NoOne after governance systems are fully mature and decentralized</li>
                  <li><strong>Group limits:</strong> Max 256 members per group, max 65,536 total voting power</li>
                  <li><strong>Admin override:</strong> Understand admin_action_takers capabilities before configuring</li>
                  <li>Test governance actions on testnet before mainnet deployment</li>
                  <li>Document governance procedures and emergency protocols publicly</li>
                  <li><strong>Critical:</strong> This controls who can manage all other permissions—configure with extreme caution</li>
                </ul>
              </div>
            </div>
            </div>
            <div class="page-guide__panel page-guide__panel--guide" data-panel="guide" hidden>
              <div class="page-guide__content">
                <h2 class="page-guide__title">Main Control Group</h2>
                <p class="page-guide__intro">Step-by-step guide to configuring main control group permissions.</p>

                <div class="page-guide__section">
                  <h3 class="page-guide__section-title">Step 1: Enable or Disable Main Control Group Changes</h3>
                  <p>Choose "No" if the main control group cannot be changed. Choose "Yes" to enable main control group changes with authorized parties.</p>
                </div>

                <div class="page-guide__section">
                  <h3 class="page-guide__section-title">Step 2: Select Who Can Change the Main Control Group (if enabled)</h3>
                  <p>Choose the authority type (Contract Owner, Identity, Group, or No One). Enter identity ID if needed. If "No One" is selected, the main control group is permanently locked.</p>
                </div>

                <div class="page-guide__section">
                  <h3 class="page-guide__section-title">Step 3: Verify and Continue</h3>
                  <p>Review the main control group settings and proceed to the next configuration tab.</p>
                </div>
              </div>
            </div>
          </aside>

          <div class="wizard-screen__inner">
            <form class="wizard-form" id="permissions-main-control-change-form" novalidate>
              <h1 class="wizard-screen__title" id="title-permissions-main-control-change" tabindex="-1">Can the main
                control group be changed?</h1>
              <p class="wizard-screen__subtitle">Determine if your token's primary governance group can be modified in
                the future.</p>

              <div class="form-card">
                <div class="form-card__header">
                  <h3 class="form-card__title">Enable Main Control Group Change</h3>
                  <p class="form-card__description">Allow modifications to the primary administrative control group</p>
                </div>
                <div class="form-card__body">
                  <fieldset class="wizard-fieldset">
                    <legend class="wizard-field__label">Enable main control group changes?
                      <button type="button" class="help-icon" data-help="main-control-enable" data-guide-target="guide-enable-group-change" aria-label="Help: Enable Main Control Group Changes" tabindex="0">
                        <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
                          <circle cx="8" cy="8" r="7" stroke="currentColor" stroke-width="2"/>
                          <path d="M8 7v4M8 4.5h.01" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                        </svg>
                      </button>
                    </legend>

                    <!-- No Option -->
                    <label class="wizard-choice">
                      <input class="wizard-choice__input" type="radio" name="main-control-enable" value="disabled"
                        checked>
                      <span class="wizard-choice__content">
                        <span class="wizard-choice__title">No</span>
                        <span class="wizard-choice__hint">Main control group cannot be changed</span>
                      </span>
                    </label>

                    <!-- Yes Option -->
                    <label class="wizard-choice">
                      <input class="wizard-choice__input" type="radio" name="main-control-enable" value="enabled"
                        data-toggle-panel="main-control-config-container">
                      <span class="wizard-choice__content">
                        <span class="wizard-choice__title">Yes</span>
                        <span class="wizard-choice__hint">Enable main control group changes with authorized
                          parties</span>
                      </span>
                    </label>
                  </fieldset>

                  <!-- Main Control Configuration (shown when Yes is selected) -->
                  <div class="distribution-inline-panel" id="main-control-config-container" hidden>

                    <div class="authorization-group">
                      <!-- Authorized to change the Main Control group -->
                      <div class="field-group">
                        <label class="wizard-field__label" for="main-control-perform">
                          Authorized to perform action
                          <button type="button" class="help-icon" data-help="main-control-who" data-guide-target="guide-who-can-change-group" aria-label="Help: Who Can Change Main Control Group" tabindex="0">
                            <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
                              <circle cx="8" cy="8" r="7" stroke="currentColor" stroke-width="2"/>
                              <path d="M8 7v4M8 4.5h.01" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                            </svg>
                          </button>
                        </label>
                        <select class="wizard-field__input" id="main-control-perform" name="main-control-perform">
                          <option value="no-one" selected>No One</option>
                          <option value="owner">Contract Owner</option>
                          <option value="identity">Specific Identity</option>
                          <option value="group">Specific Group</option>
                        </select>
                        <span class="field-hint">Who can modify the main control group?</span>
                      </div>

                      <!-- Identity Panel -->
                      <div class="authorization-inline-panel" id="main-control-perform-identity-panel" hidden>
                        <div class="field-group">
                          <label class="wizard-field__label" for="main-control-perform-identity-id">Identity ID</label>
                          <input class="wizard-field__input" type="text" id="main-control-perform-identity-id"
                            placeholder="Enter the Base58 ID">
                          <span class="field-hint">Enter the Dash Platform identity ID</span>
                        </div>
                      </div>

                      <!-- Group Panel -->
                      <div class="authorization-inline-panel" id="main-control-perform-group-panel" hidden>
                        <div class="field-group">
                          <label class="wizard-field__label" for="main-control-perform-group-id">Select group</label>
                          <select class="wizard-field__input" id="main-control-perform-group-id">
                            <option value="">Select a group...</option>
                          </select>
                          <span class="field-hint">Choose which group can perform this action</span>
                        </div>
                      </div>

                      <!-- Authorized to change rules -->
                      <div class="field-group" style="margin-top: var(--space-6); padding-top: var(--space-6); border-top: 1px solid var(--color-border);">
                        <label class="wizard-field__label" for="main-control-change-rules">
                          Authorized to change rules
                          <button type="button" class="help-icon" data-help="main-control-rule-changer" data-guide-target="guide-group-change-rules" aria-label="Help: Main Control Rule Changer" tabindex="0">
                            <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
                              <circle cx="8" cy="8" r="7" stroke="currentColor" stroke-width="2"/>
                              <path d="M8 7v4M8 4.5h.01" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                            </svg>
                          </button>
                        </label>
                        <select class="wizard-field__input" id="main-control-change-rules" name="main-control-change-rules">
                          <option value="no-one" selected>No One</option>
                          <option value="owner">Contract Owner</option>
                          <option value="identity">Specific Identity</option>
                          <option value="group">Specific Group</option>
                        </select>
                        <span class="field-hint">Define who has authority to modify main control group change permissions after deployment</span>
                      </div>

                      <!-- Rule Changer Identity Panel -->
                      <div class="authorization-inline-panel" id="main-control-rules-identity-panel" hidden>
                        <div class="field-group">
                          <label class="wizard-field__label" for="main-control-rules-identity-id">Identity ID</label>
                          <input class="wizard-field__input" type="text" id="main-control-rules-identity-id"
                            placeholder="Enter the Base58 ID">
                          <span class="field-hint">Enter the Dash Platform identity ID that can modify main control rules</span>
                        </div>
                      </div>

                      <!-- Rule Changer Group Panel -->
                      <div class="authorization-inline-panel" id="main-control-rules-group-panel" hidden>
                        <div class="field-group">
                          <label class="wizard-field__label" for="main-control-rules-group-id">Select group</label>
                          <select class="wizard-field__input" id="main-control-rules-group-id">
                            <option value="">Select a group...</option>
                          </select>
                          <span class="field-hint">Choose which group can modify main control rules</span>
                        </div>
                      </div>
                    </div>

                    <!-- Governance Safeguards -->
                    <fieldset class="wizard-fieldset" style="margin-top: var(--space-6);">
                      <legend class="wizard-field__label with-help">Governance Safeguards
                        <button type="button" class="help-icon" data-help="governance-safeguards" data-guide-target="guide-governance-safeguards-main-control" aria-label="Help: Governance Safeguards" tabindex="0">
                          <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
                            <circle cx="8" cy="8" r="7" stroke="currentColor" stroke-width="2"/>
                            <path d="M8 7v4M8 4.5h.01" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                          </svg>
                        </button>
                      </legend>
                      <p class="wizard-subsection__body" style="margin-bottom: var(--space-4);">Control what rule
                        modifications are permitted after deployment</p>

                      <div class="wizard-field wizard-field--checkbox">
                        <label class="wizard-checkbox" for="main-control-allow-authorized-none">
                          <input class="wizard-checkbox__input" id="main-control-allow-authorized-none" type="checkbox">
                          <span class="wizard-checkbox__label">Allow changing authorized main control changer to "No One"</span>
                        </label>
                        <p class="field-hint">When enabled, authorized main control changers can be permanently locked by changing to
                          "No One"</p>
                      </div>

                      <div class="wizard-field wizard-field--checkbox">
                        <label class="wizard-checkbox" for="main-control-allow-admin-none">
                          <input class="wizard-checkbox__input" id="main-control-allow-admin-none" type="checkbox">
                          <span class="wizard-checkbox__label">Allow changing rule changer to "No One"</span>
                        </label>
                        <p class="field-hint">When enabled, the rule changer can permanently lock themselves out by
                          changing to "No One"</p>
                      </div>

                      <div class="wizard-field wizard-field--checkbox">
                        <label class="wizard-checkbox" for="main-control-allow-self-change">
                          <input class="wizard-checkbox__input" id="main-control-allow-self-change" type="checkbox">
                          <span class="wizard-checkbox__label">Allow rule changer to modify themselves</span>
                        </label>
                        <p class="field-hint">When enabled, the current rule changer can reassign rule-changing
                          authority to a different identity or group</p>
                      </div>
                    </fieldset>

                  </div>
                  </fieldset>
                </div>

                <p class="wizard-field__message" id="permissions-main-control-change-message" role="status"
                  aria-live="polite"></p>

                <div class="wizard-actions wizard-actions--between wizard-actions--sticky">
                  <button class="wizard-button wizard-button--secondary" type="button"
                    data-step-back="permissions-main-control-change">← Back</button>
                  <button class="wizard-button wizard-button--secondary" type="button" id="contract-preview-btn">📄
                    Contract Preview</button>
                  <button class="wizard-button wizard-button--primary" id="permissions-main-control-change-next"
                    type="submit">Continue →</button>
                </div>
            </form>
          </div>
        </section>

        <!-- Permissions: Group Sub-step -->
        <section class="wizard-screen" id="screen-permissions-group" data-step="permissions"
          data-substep="permissions-group" data-tab="group" hidden>

          <!-- Right Side Guide Panel -->
          <aside class="page-guide" aria-label="Page guide" data-collapsed="false">
            <div class="page-guide__header">
              <div class="page-guide__tabs-horizontal">
                <button class="page-guide__tab page-guide__tab--info active" data-panel="info" aria-label="Show Information" aria-pressed="true">
                  Information
                </button>
                <button class="page-guide__tab page-guide__tab--guide" data-panel="guide" aria-label="Show User Guide" aria-pressed="false">
                  User Guide
                </button>
              </div>
              <button class="page-guide__collapse" aria-label="Collapse panel" aria-expanded="true">
                <svg class="page-guide__collapse-icon" width="16" height="16" viewBox="0 0 16 16" fill="none">
                  <path d="M6 12l4-4-4-4" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
              </button>
            </div>
            <div class="page-guide__panel page-guide__panel--info active" data-panel="info">
              <div class="page-guide__content">
                <h2 class="page-guide__title">Group</h2>
                <p class="page-guide__intro">Step-by-step guide to configuring multi-signature group control.</p>

                <div class="page-guide__section">
                  <h3 class="page-guide__section-title">Step 1: Decide on Group Control</h3>
                  <p>Toggle "Enable group-based control" on if you want multi-signature management for your token. This allows multiple identities to collectively control critical actions. Leave off if you want single-owner control.</p>
                </div>

                <div class="page-guide__section">
                  <h3 class="page-guide__section-title">Step 2: Enter Group Name (if enabled)</h3>
                  <p>Provide a descriptive name for your group. Example: "Treasury Committee" or "Token Management Team".</p>
                </div>

                <div class="page-guide__section">
                  <h3 class="page-guide__section-title">Step 3: Set Approval Threshold (if enabled)</h3>
                  <p>Enter the number of approvals required for actions. This must be less than or equal to the total number of members. Example: If you have 5 members and set threshold to 3, any 3 members must approve actions.</p>
                </div>

                <div class="page-guide__section">
                  <h3 class="page-guide__section-title">Step 4: Add Group Members (if enabled)</h3>
                  <p>For each member, enter their Dash Platform Identity ID (43-44 characters, Base58-encoded) and assign a voting power (positive integer). Higher voting power gives more weight to that member's vote.</p>
                </div>

                <div class="page-guide__section">
                  <h3 class="page-guide__section-title">Step 5: Add or Remove Members (if enabled)</h3>
                  <p>Click "+ Add Member" to include additional members. Click "Remove" next to any member to delete them. Ensure you have at least as many members as your approval threshold requires.</p>
                </div>

                <div class="page-guide__section">
                  <h3 class="page-guide__section-title">Step 6: Verify Configuration</h3>
                  <p>Check that all Identity IDs are valid, voting powers are assigned, and your approval threshold is achievable with your member count.</p>
                </div>

                <div class="page-guide__section">
                  <h3 class="page-guide__section-title">Step 7: Continue</h3>
                  <p>Proceed to the next configuration tab once all fields are complete and valid.</p>
                </div>
              </div>
            </div>

            <div class="page-guide__panel page-guide__panel--guide" data-panel="guide" hidden>
              <div class="page-guide__content">
                <h2 class="page-guide__title">Multi-Signature Groups</h2>
                <p class="page-guide__intro">Share token control with multiple people for enhanced security.</p>

                <div class="page-guide__section">
                  <h3 class="page-guide__section-title">Step-by-step guide</h3>
                  <ol class="page-guide__steps">
                    <li>
                      <strong>Enable Group Control</strong>
                      <p>Turn on to create a multi-sig wallet. Multiple people must approve critical actions.</p>
                    </li>
                    <li>
                      <strong>Set Approval Threshold</strong>
                      <p>How many members must approve? Example: 2 of 3 members = any 2 can approve.</p>
                    </li>
                    <li>
                      <strong>Add Group Members</strong>
                      <p>Enter Dash Platform identity IDs for each member. They'll all share control.</p>
                    </li>
                  </ol>
                </div>

                <div class="page-guide__tip">
                  <strong>💡 Pro Tip</strong>
                  Groups prevent single point of failure. Recommended for valuable tokens or DAOs.
                </div>
              </div>
            </div>
          </aside>

          <div class="wizard-screen__inner">
            <form class="wizard-form" id="permissions-group-form" novalidate>
              <h1 class="wizard-screen__title" id="title-permissions-group" tabindex="-1">Would you like to create a
                group for multi-signature control?</h1>
              <p class="wizard-screen__subtitle">Set up a group of identities that can collectively manage your token
                with configurable approval rules.</p>

              <!-- Group Info Card -->
              <div class="form-card form-card--highlight">
                <div class="form-card__body">
                  <p><strong>What's a group?</strong></p>
                  <p>A group allows multiple identities to collectively control your token, requiring approval from
                    several members before critical actions can be taken. This provides enhanced security through
                    multi-signature governance.</p>
                  <p style="margin-bottom: 0;"><strong>Use cases:</strong> DAO governance • Multi-owner tokens •
                    Team-managed assets • Enhanced security</p>
                </div>
              </div>

              <!-- Enable Group Card -->
              <div class="form-card">
                <div class="form-card__header">
                  <h3 class="form-card__title">Group Control <span class="wizard-badge wizard-badge--optional"
                      style="margin-left: var(--space-2);">Optional</span></h3>
                  <p class="form-card__description">Enable multi-signature group management</p>
                </div>
                <div class="form-card__body">
                  <div class="wizard-field wizard-field--checkbox">
                    <label class="wizard-checkbox">
                      <input class="wizard-checkbox__input" type="checkbox" id="enable-group">
                      <span class="wizard-checkbox__label">Enable group-based control</span>
                    </label>
                  </div>
                </div>
              </div>

              <!-- Group Configuration (shown when enabled) -->
              <div class="form-card" id="group-config-section" style="display: none;">
                <div class="form-card__header">
                  <h3 class="form-card__title">Group Configuration</h3>
                  <p class="form-card__description">Define group members and approval rules</p>
                </div>
                <div class="form-card__body">
                  <!-- Group Name -->
                  <div class="field-group">
                    <label class="wizard-field__label" for="group-name">Group Name *</label>
                    <input class="wizard-field__input" id="group-name" name="group-name" type="text"
                      placeholder="e.g., Token Governance Committee" maxlength="64">
                    <span class="field-hint">A descriptive name for this group</span>
                  </div>

                  <!-- Approval Threshold -->
                  <div class="field-group">
                    <label class="wizard-field__label" for="group-threshold">Approval Threshold *</label>
                    <input class="wizard-field__input" id="group-threshold" name="group-threshold" type="number" min="1"
                      value="2" placeholder="e.g., 2">
                    <span class="field-hint">Number of approvals required for actions (must be ≤ number of
                      members)</span>
                  </div>

                  <!-- Group Members -->
                  <div class="field-group">
                    <label class="wizard-field__label">Group Members</label>
                    <p class="field-hint" style="margin-bottom: var(--space-3);">Add Dash Platform identity IDs for
                      group members. Each member can approve token management actions.</p>

                    <div id="group-members-list" style="margin-bottom: var(--space-3);">
                      <!-- Dynamic member entries will be added here -->
                    </div>

                    <button class="wizard-button wizard-button--secondary" type="button" id="add-group-member">+ Add
                      Member</button>
                  </div>
                </div>
              </div>

              <p class="wizard-field__message" id="permissions-group-message" role="status" aria-live="polite"></p>
            </form>
          </div>
        </section>

        <!-- Permissions: Transfer Notes Sub-step -->
        <section class="wizard-screen" id="screen-permissions-transfer" data-step="permissions"
          data-substep="permissions-transfer" data-tab="token" hidden>

          <!-- Right Side Guide Panel -->
          <aside class="page-guide" aria-label="Page guide" data-collapsed="false">
            <div class="page-guide__header">
              <div class="page-guide__tabs-horizontal">
                <button class="page-guide__tab page-guide__tab--info active" data-panel="info" aria-label="Show Information" aria-pressed="true">
                  Information
                </button>
                <button class="page-guide__tab page-guide__tab--guide" data-panel="guide" aria-label="Show User Guide" aria-pressed="false">
                  User Guide
                </button>
              </div>
              <button class="page-guide__collapse" aria-label="Collapse panel" aria-expanded="true">
                <svg class="page-guide__collapse-icon" width="16" height="16" viewBox="0 0 16 16" fill="none">
                  <path d="M6 12l4-4-4-4" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
              </button>
            </div>
            <div class="page-guide__panel page-guide__panel--info active" data-panel="info">
              <div class="page-guide__content">
              <h2 class="page-guide__title">Transfer Notes</h2>
              <p class="page-guide__intro">Allow users to attach messages or data to token transfers.</p>

              <div class="page-guide__section">
                <h3 class="page-guide__section-title">What are Transfer Notes?</h3>
                <p>Transfer notes let users attach additional data or messages when sending tokens. This is useful for:
                </p>
                <ul class="page-guide__list">
                  <li><strong>Payment references:</strong> Invoice numbers, memo fields</li>
                  <li><strong>Context:</strong> Why the transfer was made</li>
                  <li><strong>Metadata:</strong> Additional information about the transaction</li>
                </ul>

                <h4 class="page-guide__step-heading" id="guide-note-types">Note Types</h4>
                <ul class="page-guide__list">
                  <li><strong>Public:</strong> Visible to everyone on the blockchain</li>
                  <li><strong>Shared Encrypted:</strong> Encrypted, visible only to sender and receiver</li>
                  <li><strong>Private Encrypted:</strong> Encrypted, visible only to sender</li>
                </ul>
              </div>

              <div class="page-guide__section">
                <h3 class="page-guide__section-title">Best Practice</h3>
                <ul class="page-guide__list">
                  <li><strong>Payment tokens:</strong> Enable public notes for payment references</li>
                  <li><strong>Privacy-focused tokens:</strong> Enable encrypted notes only</li>
                  <li>Consider blockchain storage costs when enabling notes</li>
                </ul>
              </div>
            </div>
            </div>
            <div class="page-guide__panel page-guide__panel--guide" data-panel="guide" hidden>
              <div class="page-guide__content">
                <h2 class="page-guide__title">Transfer Notes</h2>
                <p class="page-guide__intro">Step-by-step guide to configuring transfer notes for your token.</p>

                <div class="page-guide__section">
                  <h3 class="page-guide__section-title">Step 1: Enable or Disable Transfer Notes</h3>
                  <p>Choose "No" if transfers should not include notes or messages. Choose "Yes" to allow users to attach notes to token transfers.</p>
                </div>

                <div class="page-guide__section">
                  <h3 class="page-guide__section-title">Step 2: Select Allowed Note Types (if enabled)</h3>
                  <p>Choose which types of notes users can attach. You can select multiple options:</p>
                  <ul class="page-guide__list">
                    <li><strong>Public Notes:</strong> Visible to everyone on the blockchain. Use for payment references, invoice numbers, or public transaction context.</li>
                    <li><strong>Shared Encrypted Notes:</strong> Encrypted and visible only to sender and receiver. Provides privacy while maintaining transaction context between parties.</li>
                    <li><strong>Private Encrypted Notes:</strong> Encrypted and visible only to the sender. Use for internal record-keeping, private memos, or sender-only documentation.</li>
                  </ul>
                </div>

                <div class="page-guide__section">
                  <h3 class="page-guide__section-title">Step 3: Verify Selection</h3>
                  <p>Ensure your note type selections align with your privacy and transparency requirements.</p>
                </div>

                <div class="page-guide__section">
                  <h3 class="page-guide__section-title">Step 4: Continue</h3>
                  <p>Proceed to the next configuration tab once transfer notes are configured.</p>
                </div>
              </div>
            </div>
          </aside>

          <div class="wizard-screen__inner">
            <form class="wizard-form" id="permissions-transfer-form" novalidate>
              <h1 class="wizard-screen__title" id="title-permissions-transfer" tabindex="-1">Enable Transfer Notes?</h1>
              <p class="wizard-screen__subtitle">Allow users to attach messages or data to token transfers.</p>

              <!-- Transfer Notes Configuration Card -->
              <div class="form-card">
                <div class="form-card__header">
                  <h3 class="form-card__title">Transfer Notes</h3>
                  <p class="form-card__description">Control whether users can attach notes to token transfers for
                    enhanced transaction context</p>
                </div>
                <div class="form-card__body">
                  <fieldset class="wizard-fieldset">
                    <legend class="wizard-field__label">Enable transfer notes?</legend>

                    <!-- Disabled Option -->
                    <label class="wizard-choice">
                      <input class="wizard-choice__input" type="radio" name="transfer-notes-enabled" value="disabled"
                        checked>
                      <span class="wizard-choice__content">
                        <span class="wizard-choice__title">No</span>
                        <span class="wizard-choice__hint">Transfers cannot include notes or messages</span>
                      </span>
                    </label>

                    <!-- Enabled Option -->
                    <label class="wizard-choice">
                      <input class="wizard-choice__input" type="radio" name="transfer-notes-enabled" value="enabled"
                        data-toggle-panel="transfer-notes-types-panel">
                      <span class="wizard-choice__content">
                        <span class="wizard-choice__title">Yes</span>
                        <span class="wizard-choice__hint">Allow users to attach notes to transfers</span>
                      </span>
                    </label>
                  </fieldset>

                  <!-- Note Types Panel -->
                  <div class="distribution-inline-panel" id="transfer-notes-types-panel" hidden>
                    <fieldset class="wizard-fieldset"
                      style="margin-top: var(--space-6); padding-top: var(--space-6); border-top: 1px solid var(--color-border);">
                      <legend class="wizard-field__label">Allowed note types</legend>
                      <p class="field-hint" style="margin-bottom: var(--space-3);">Select which types of notes users can
                        attach</p>

                      <!-- Public Notes -->
                      <div class="wizard-field wizard-field--checkbox">
                        <label class="wizard-checkbox">
                          <input class="wizard-checkbox__input" type="checkbox" id="transfer-note-type-public"
                            name="transfer-note-type-public">
                          <span class="wizard-checkbox__label">
                            <span class="wizard-checkbox__title">Public Notes</span>
                            <span class="wizard-checkbox__hint" style="display: block; margin-top: var(--space-2xs);">
                              Visible to everyone on the blockchain. Good for payment references and invoice numbers.
                            </span>
                          </span>
                        </label>
                      </div>

                      <!-- Shared Encrypted Notes -->
                      <div class="wizard-field wizard-field--checkbox">
                        <label class="wizard-checkbox">
                          <input class="wizard-checkbox__input" type="checkbox" id="transfer-note-type-shared"
                            name="transfer-note-type-shared">
                          <span class="wizard-checkbox__label">
                            <span class="wizard-checkbox__title">Shared Encrypted Notes</span>
                            <span class="wizard-checkbox__hint" style="display: block; margin-top: var(--space-2xs);">
                              Encrypted and visible only to sender and receiver. Provides privacy while maintaining
                              context.
                            </span>
                          </span>
                        </label>
                      </div>

                      <!-- Private Encrypted Notes -->
                      <div class="wizard-field wizard-field--checkbox">
                        <label class="wizard-checkbox">
                          <input class="wizard-checkbox__input" type="checkbox" id="transfer-note-type-private"
                            name="transfer-note-type-private">
                          <span class="wizard-checkbox__label">
                            <span class="wizard-checkbox__title">Private Encrypted Notes</span>
                            <span class="wizard-checkbox__hint" style="display: block; margin-top: var(--space-2xs);">
                              Encrypted and visible only to the sender. For internal record-keeping and private memos.
                            </span>
                          </span>
                        </label>
                      </div>
                    </fieldset>
                  </div>
                </div>

                <p class="wizard-field__message" id="permissions-transfer-message" role="status" aria-live="polite"></p>

                <div class="wizard-actions wizard-actions--between wizard-actions--sticky">
                  <button class="wizard-button wizard-button--secondary" type="button"
                    data-step-back="permissions-transfer">← Back</button>
                  <button class="wizard-button wizard-button--secondary" type="button" id="contract-preview-btn">📄
                    Contract Preview</button>
                  <button class="wizard-button wizard-button--primary" id="permissions-transfer-next"
                    type="submit">Continue →</button>
                </div>
            </form>
          </div>
        </section>

        <!-- Distribution: Pre-Programmed Sub-step -->
        <section class="wizard-screen" id="screen-distribution-preprogrammed" data-step="distribution"
          data-substep="distribution-preprogrammed" data-tab="token" hidden>

          <!-- Right Side Guide Panel -->
          <aside class="page-guide" aria-label="Page guide" data-collapsed="false">
            <div class="page-guide__header">
              <div class="page-guide__tabs-horizontal">
                <button class="page-guide__tab page-guide__tab--info active" data-panel="info" aria-label="Show Information" aria-pressed="true">
                  Information
                </button>
                <button class="page-guide__tab page-guide__tab--guide" data-panel="guide" aria-label="Show User Guide" aria-pressed="false">
                  User Guide
                </button>
              </div>
              <button class="page-guide__collapse" aria-label="Collapse panel" aria-expanded="true">
                <svg class="page-guide__collapse-icon" width="16" height="16" viewBox="0 0 16 16" fill="none">
                  <path d="M6 12l4-4-4-4" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
              </button>
            </div>
            <div class="page-guide__panel page-guide__panel--info active" data-panel="info">
              <div class="page-guide__content">
              <h2 class="page-guide__title">Pre-Programmed Distribution</h2>
              <p class="page-guide__intro">Schedule one-time token releases at specific timestamps for airdrops, vesting, and milestone rewards.</p>

              <div class="page-guide__section">
                <h3 class="page-guide__section-title">Quick Reference</h3>

                <h4 class="page-guide__step-heading" id="preprogrammed-overview">What is Pre-Programmed Distribution?</h4>
                <p><strong>What it is:</strong> One of three official Dash Platform distribution methods that allows you to schedule specific token releases at exact timestamps. Each distribution entry specifies when tokens become claimable and how many are available.</p>
                <p><strong>Why it matters:</strong> Pre-programmed distribution provides predictability and transparency for token releases. Recipients know exactly when they can claim tokens, and the schedule cannot be changed arbitrarily once deployed.</p>
                <p><strong>Distribution fee:</strong> 0.1 DASH to enable pre-programmed distribution on your token.</p>

                <h4 class="page-guide__step-heading" id="preprogrammed-methods">Distribution Methods</h4>
                <p>Dash Platform supports three distribution methods (you can combine them):</p>
                <p><strong>1. Manual:</strong> Authorized parties mint tokens on-demand with flexible allocation control.</p>
                <p><strong>2. Pre-Programmed (this screen):</strong> Fixed token releases at specific timestamps for predictable events.</p>
                <p><strong>3. Perpetual:</strong> Scheduled ongoing emissions via block/time/epoch intervals for continuous patterns.</p>

                <h4 class="page-guide__step-heading" id="preprogrammed-use-cases">Common Use Cases</h4>
                <p><strong>Community Airdrops:</strong> Release tokens to early supporters or community members at a specific launch date.</p>
                <p><strong>Team Vesting:</strong> Gradually unlock tokens for team members, advisors, or investors over months or years with cliff periods.</p>
                <p><strong>Milestone Rewards:</strong> Release tokens when your project reaches specific dates (e.g., launch anniversary, quarterly distributions).</p>
                <p><strong>Phased Launches:</strong> Distribute different amounts at different stages of your project lifecycle.</p>

                <h4 class="page-guide__step-heading" id="preprogrammed-mechanics">How It Works</h4>
                <p><strong>Distribution Entries:</strong> Each entry specifies a Unix timestamp (seconds since January 1, 1970 UTC) and token amount.</p>
                <p><strong>Claiming Process:</strong> Once the timestamp passes, designated recipients can claim their allocated tokens.</p>
                <p><strong>Immutability:</strong> After deployment, scheduled releases cannot be modified (unless you enable governance controls in Advanced settings).</p>

                <h4 class="page-guide__step-heading" id="preprogrammed-considerations">Important Considerations</h4>
                <p><strong>Timestamp Format:</strong> Uses Unix timestamps in seconds (not milliseconds). Always verify timestamps are in UTC timezone to avoid timing errors.</p>
                <p><strong>Timezone Planning:</strong> Convert your local time to UTC before generating Unix timestamps. Use online converters for accuracy.</p>
                <p><strong>Supply Impact:</strong> Verify total pre-programmed amounts don't exceed your max supply limits set in Permissions step.</p>
                <p><strong>Fee Planning:</strong> Budget 0.1 DASH for enabling pre-programmed distribution plus gas fees for each distribution entry.</p>
                <p><strong>Optional Feature:</strong> If you don't need scheduled one-time releases, you can safely skip this step.</p>
              </div>
            </div>
            </div>
            <div class="page-guide__panel page-guide__panel--guide" data-panel="guide" hidden>
              <div class="page-guide__content">
                <h2 class="page-guide__title">Pre-Programmed</h2>
                <p class="page-guide__intro">Step-by-step guide to configuring pre-programmed token distribution.</p>

                <div class="page-guide__section">
                  <h3 class="page-guide__section-title">Step 1: Enable or Disable Pre-Programmed Distribution</h3>
                  <p>Choose "No" to skip to continuous distribution settings. Choose "Yes" to schedule one-time token releases at specific timestamps (useful for airdrops, vesting, or milestone rewards).</p>
                </div>

                <div class="page-guide__section">
                  <h3 class="page-guide__section-title">Step 2: Configure Distribution Entry (if enabled)</h3>
                  <p>For each distribution, set:</p>
                  <ul class="page-guide__list">
                    <li><strong>Timestamp:</strong> Use Days, Hours, and Minutes to specify when tokens should be released</li>
                    <li><strong>Identity:</strong> Enter the Dash Platform identity ID that will receive the tokens</li>
                    <li><strong>Amount:</strong> Enter the number of tokens to distribute at this timestamp</li>
                  </ul>
                </div>

                <div class="page-guide__section">
                  <h3 class="page-guide__section-title">Step 3: Add More Entries (optional)</h3>
                  <p>Click "+ Add New Distribution Entry" to schedule additional token releases. Click "Remove" to delete any entry.</p>
                </div>

                <div class="page-guide__section">
                  <h3 class="page-guide__section-title">Step 4: Verify and Continue</h3>
                  <p>Review all scheduled distributions and proceed to the next configuration section.</p>
                </div>
              </div>
            </div>
          </aside>

          <div class="wizard-screen__inner">
            <form class="wizard-form" id="distribution-preprogrammed-form" novalidate>
              <h1 class="wizard-screen__title" id="title-distribution-preprogrammed" tabindex="-1">Do you want to enable
                Pre-Programmed distribution? <span class="wizard-badge wizard-badge--optional">(optional setting)</span>
              </h1>
              <p class="wizard-screen__subtitle">Pre-Programmed distribution lets you schedule specific token releases
                at exact timestamps - perfect for airdrops, vesting, or milestone rewards.</p>

              <!-- Enable Pre-Programmed Distribution -->
              <div class="form-card">
                <div class="form-card__header">
                  <h3 class="form-card__title">Enable Pre-Programmed Distribution</h3>
                  <p class="form-card__description">Do you want to schedule token releases at specific timestamps?</p>
                </div>
                <div class="form-card__body">
                  <fieldset class="wizard-fieldset">
                    <legend class="wizard-field__label">Enable Pre-Programmed Distribution?</legend>

                    <label class="wizard-choice">
                      <input class="wizard-choice__input" type="radio" name="preprogrammed-enable" value="no"
                        data-toggle-panel="preprogrammed-entries-container" checked>
                      <span class="wizard-choice__content">
                        <span class="wizard-choice__title">No</span>
                        <span class="wizard-choice__hint">Skip to continuous distribution settings</span>
                      </span>
                    </label>

                    <label class="wizard-choice">
                      <input class="wizard-choice__input" type="radio" name="preprogrammed-enable" value="yes"
                        data-toggle-panel="preprogrammed-entries-container">
                      <span class="wizard-choice__content">
                        <span class="wizard-choice__title">Yes</span>
                        <span class="wizard-choice__hint">Schedule one-time token releases at specific times</span>
                      </span>
                    </label>

                    <!-- Pre-Programmed Distribution Entries (shown when Yes is selected) -->
                    <div class="distribution-inline-panel" id="preprogrammed-entries-container" hidden>
                      <div id="preprogrammed-entries-list">
                        <!-- Entries will be dynamically added here -->
                      </div>
                      <button class="wizard-button wizard-button--secondary wizard-button--sm" type="button"
                        id="add-preprogrammed-entry-btn">+ Add New Distribution Entry</button>
                    </div>
                  </fieldset>
                </div>


                <p class="wizard-field__message" id="distribution-preprogrammed-message" role="status" aria-live="polite">
                </p>

                <div class="wizard-actions wizard-actions--between wizard-actions--sticky">
                  <button class="wizard-button wizard-button--secondary" type="button"
                    data-step-back="distribution-preprogrammed">← Back</button>
                  <button class="wizard-button wizard-button--secondary" type="button" id="contract-preview-btn">📄
                    Contract Preview</button>
                  <button class="wizard-button wizard-button--primary" id="distribution-preprogrammed-next"
                    type="submit">Continue →</button>
                </div>
            </form>
          </div>
        </section>

        <!-- Distribution: Perpetual Sub-step -->
        <section class="wizard-screen" id="screen-distribution-perpetual" data-step="distribution"
          data-substep="distribution-perpetual" data-tab="token" hidden>

          <!-- Right Side Guide Panel -->
          <aside class="page-guide" aria-label="Page guide" data-collapsed="false">
            <div class="page-guide__header">
              <div class="page-guide__tabs-horizontal">
                <button class="page-guide__tab page-guide__tab--info active" data-panel="info" aria-label="Show Information" aria-pressed="true">
                  Information
                </button>
                <button class="page-guide__tab page-guide__tab--guide" data-panel="guide" aria-label="Show User Guide" aria-pressed="false">
                  User Guide
                </button>
              </div>
              <button class="page-guide__collapse" aria-label="Collapse panel" aria-expanded="true">
                <svg class="page-guide__collapse-icon" width="16" height="16" viewBox="0 0 16 16" fill="none">
                  <path d="M6 12l4-4-4-4" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
              </button>
            </div>
            <div class="page-guide__panel page-guide__panel--info active" data-panel="info">
              <div class="page-guide__content">
              <h2 class="page-guide__title">Perpetual Distribution</h2>
              <p class="page-guide__intro">Configure continuous token emissions over time for mining rewards, staking incentives, and ongoing distribution programs.</p>

              <div class="page-guide__section">
                <h3 class="page-guide__section-title">Quick Reference</h3>

                <h4 class="page-guide__step-heading" id="perpetual-overview">What is Perpetual Distribution?</h4>
                <p><strong>What it is:</strong> One of three official Dash Platform distribution methods that automatically releases tokens at regular intervals indefinitely. Unlike pre-programmed distribution (one-time releases), perpetual distribution creates an ongoing stream of new tokens.</p>
                <p><strong>Why it matters:</strong> Perpetual distribution enables sustainable tokenomics models that reward network participants, incentivize long-term engagement, and gradually increase circulating supply over time.</p>
                <p><strong>Key components:</strong> Requires both a cadence (when to release) and an emission function (how much to release).</p>
                <p><strong>Distribution fee:</strong> 0.1 DASH to enable perpetual distribution on your token.</p>

                <h4 class="page-guide__step-heading" id="perpetual-use-cases">Common Use Cases</h4>
                <p><strong>Mining/Validation Rewards:</strong> Distribute tokens to network participants who validate transactions or secure the blockchain.</p>
                <p><strong>Staking Rewards:</strong> Continuously reward users who lock up (stake) their tokens to support network security.</p>
                <p><strong>Liquidity Mining:</strong> Incentivize users to provide liquidity to decentralized exchanges or lending protocols.</p>
                <p><strong>Ecosystem Incentives:</strong> Create ongoing rewards for developers, content creators, or community contributors.</p>

                <h4 class="page-guide__step-heading" id="perpetual-cadence">Distribution Cadence Types</h4>
                <p><strong>Block-based:</strong> Release tokens every N blocks. Predictable based on blockchain activity (e.g., every 1000 blocks ≈ 2.5 hours on Dash).</p>
                <p><strong>Time-based:</strong> Release tokens at specific time intervals (hours, days, weeks). More intuitive for users but may vary based on actual block times.</p>
                <p><strong>Epoch-based:</strong> Release tokens at defined epoch boundaries (~18 days per epoch on Dash Platform). Useful for coordinating with governance or protocol events.</p>

                <h4 class="page-guide__step-heading" id="perpetual-emission-functions">Emission Functions (9 Official Types)</h4>
                <p>Dash Platform supports 9 emission function types. All functions support optional min_value and max_value bounds:</p>
                <p><strong>1. FixedAmount:</strong> Constant tokens per period (f(x) = amount)</p>
                <p><strong>2. Random:</strong> Uniform distribution between min and max values</p>
                <p><strong>3. StepDecreasingAmount:</strong> Discrete reductions over time (like Bitcoin halvings)</p>
                <p><strong>4. Linear:</strong> f(x) = (a*(x-s)/d) + b with fractional slope for gradual changes</p>
                <p><strong>5. Polynomial:</strong> Supports fractional exponents for square roots, cube roots, or power functions</p>
                <p><strong>6. Exponential:</strong> Rapid growth or decay (f(x) = a*base^((m/n)*x) / d)</p>
                <p><strong>7. Logarithmic:</strong> Slowing growth over time (f(x) = a*log(x) + b)</p>
                <p><strong>8. InvertedLogarithmic:</strong> Front-loaded emissions with gradual decline</p>
                <p><strong>9. Stepwise:</strong> Constant values across specific intervals with custom amounts</p>

                <h4 class="page-guide__step-heading" id="perpetual-considerations">Important Considerations</h4>
                <p><strong>Inflationary Pressure:</strong> Perpetual distribution continuously increases circulating supply, which can create downward price pressure if not balanced with demand.</p>
                <p><strong>Max Supply Interaction:</strong> If you set a maximum supply in Permissions, perpetual distribution will automatically stop when max supply is reached.</p>
                <p><strong>Min/Max Bounds:</strong> All emission functions (except Random which requires them) support optional minimum and maximum emission values per period.</p>
                <p><strong>Epoch Duration:</strong> Each Dash Platform epoch is approximately 18 days. Plan accordingly when using epoch-based cadence.</p>
                <p><strong>Fee Planning:</strong> Budget 0.1 DASH for enabling perpetual distribution plus gas fees for ongoing emissions.</p>
                <p><strong>Optional Feature:</strong> If you don't need continuous emissions (e.g., fixed supply token), you can safely skip this step.</p>
              </div>
            </div>
            </div>
            <div class="page-guide__panel page-guide__panel--guide" data-panel="guide" hidden>
              <div class="page-guide__content">
                <h2 class="page-guide__title">Perpetual</h2>
                <p class="page-guide__intro">Step-by-step guide to configuring continuous token distribution.</p>

                <div class="page-guide__section">
                  <h3 class="page-guide__section-title">Step 1: Enable or Disable Perpetual Distribution</h3>
                  <p>Choose "No" to skip perpetual distribution. Choose "Yes" to set up continuous token releases (useful for mining rewards, staking, or ongoing incentives).</p>
                </div>

                <div class="page-guide__section">
                  <h3 class="page-guide__section-title">Step 2: Select Release Schedule Type (if enabled)</h3>
                  <p>Choose when tokens should be released:</p>
                  <ul class="page-guide__list">
                    <li><strong>Block-based (Perpetual):</strong> Release tokens every N blocks (Example: 1000 blocks ≈ 2.5 hours)</li>
                    <li><strong>Time-based (Perpetual):</strong> Release tokens every N hours/days</li>
                    <li><strong>Epoch-based (Perpetual):</strong> Release at platform epoch changes (advanced)</li>
                  </ul>
                </div>

                <div class="page-guide__section">
                  <h3 class="page-guide__section-title">Step 3: Set Release Frequency</h3>
                  <p>Enter the release interval based on your selected schedule type (number of blocks, hours/days, or epochs).</p>
                </div>

                <div class="page-guide__section">
                  <h3 class="page-guide__section-title">Step 4: Select Emission Function Type</h3>
                  <p>Choose how much should be released each time:</p>
                  <ul class="page-guide__list">
                    <li><strong>Fixed amount:</strong> Same amount every time</li>
                    <li><strong>Exponential:</strong> Amount changes by percentage (like Bitcoin halving)</li>
                    <li><strong>Linear:</strong> Amount increases or decreases gradually</li>
                    <li><strong>Random:</strong> Random amount within a range (gamified rewards)</li>
                    <li><strong>Step Decreasing:</strong> Amount decreases in steps</li>
                    <li><strong>Stepwise:</strong> Custom amounts at specific intervals</li>
                    <li><strong>Polynomial:</strong> Complex polynomial curve (advanced)</li>
                    <li><strong>Logarithmic:</strong> Diminishing emission rate over time</li>
                    <li><strong>Inverted Logarithmic:</strong> Increasing emission rate that levels off</li>
                  </ul>
                </div>

                <div class="page-guide__section">
                  <h3 class="page-guide__section-title">Step 5: Configure Emission Parameters</h3>
                  <p>Enter the specific parameters for your chosen emission function (amounts, rates, ranges, etc.).</p>
                </div>

                <div class="page-guide__section">
                  <h3 class="page-guide__section-title">Step 6: Choose Distribution Recipient</h3>
                  <p>Select who receives the distributed tokens:</p>
                  <ul class="page-guide__list">
                    <li><strong>Contract Owner:</strong> Tokens go to the contract owner's identity</li>
                    <li><strong>Specific Identity:</strong> Enter a designated Dash Platform identity ID</li>
                  </ul>
                </div>

                <div class="page-guide__section">
                  <h3 class="page-guide__section-title">Step 7: Configure Perpetual Distribution Rules</h3>
                  <p>Set who can perform perpetual distribution actions and who can change those rules. Choose from: No One, Contract Owner, Specific Identity, Specific Group, or Main Contract Group. Enter identity IDs if needed.</p>
                </div>

                <div class="page-guide__section">
                  <h3 class="page-guide__section-title">Step 8: Configure Governance Safeguards</h3>
                  <p>Toggle these options:</p>
                  <ul class="page-guide__list">
                    <li><strong>Changing authorized action takers to no one allowed:</strong> Enables permanently locking perpetual distribution</li>
                    <li><strong>Changing admin action takers to no one allowed:</strong> Enables permanently locking the rules</li>
                    <li><strong>Self-changing admin action takers allowed:</strong> Rule changers can modify who can change the rules</li>
                  </ul>
                </div>

                <div class="page-guide__section">
                  <h3 class="page-guide__section-title">Step 9: Verify and Continue</h3>
                  <p>Review all perpetual distribution settings and proceed to the next configuration section.</p>
                </div>
              </div>
            </div>
          </aside>

          <div class="wizard-screen__inner">
            <form class="wizard-form" id="distribution-perpetual-form" novalidate>
              <h1 class="wizard-screen__title" id="title-distribution-perpetual" tabindex="-1">Do you want to enable
                Perpetual distribution? <span class="wizard-badge wizard-badge--optional">(optional setting)</span></h1>
              <p class="wizard-screen__subtitle">Perpetual distribution continuously releases tokens over time - perfect
                for mining rewards, staking, or ongoing incentives.</p>

              <!-- Enable Perpetual Distribution -->
              <div class="form-card">
                <div class="form-card__header">
                  <h3 class="form-card__title">Enable Perpetual Distribution</h3>
                  <p class="form-card__description">Do you want to set up continuous token releases?</p>
                </div>
                <div class="form-card__body">
                  <fieldset class="wizard-fieldset">
                    <legend class="wizard-field__label">Enable Perpetual Distribution?</legend>

                    <label class="wizard-choice">
                      <input class="wizard-choice__input" type="radio" name="perpetual-enable" value="no"
                        data-toggle-panel="perpetual-config-container" checked>
                      <span class="wizard-choice__content">
                        <span class="wizard-choice__title">No</span>
                        <span class="wizard-choice__hint">Skip perpetual distribution</span>
                      </span>
                    </label>

                    <label class="wizard-choice">
                      <input class="wizard-choice__input" type="radio" name="perpetual-enable" value="yes"
                        data-toggle-panel="perpetual-config-container">
                      <span class="wizard-choice__content">
                        <span class="wizard-choice__title">Yes</span>
                        <span class="wizard-choice__hint">Set up continuous token releases</span>
                      </span>
                    </label>

                    <!-- Perpetual Configuration (shown when Yes is selected) -->
                    <div class="distribution-inline-panel" id="perpetual-config-container" hidden>

                      <!-- Schedule Type Section -->
                      <div style="margin-bottom: var(--space-4);">
                        <h4 style="font-size: 1rem; font-weight: 600; margin: 0 0 var(--space-2) 0;">Release Schedule
                        </h4>
                        <p style="font-size: 0.875rem; color: var(--color-text-subtle); margin: 0 0 var(--space-3) 0;">
                          When should tokens be released?</p>

                        <fieldset class="wizard-fieldset">
                          <legend class="wizard-field__label">Schedule type</legend>

                          <!-- Block-based Option -->
                          <label class="wizard-choice">
                            <input class="wizard-choice__input" type="radio" name="distribution-type" value="block"
                              data-toggle-panel="distribution-panel-block">
                            <span class="wizard-choice__content">
                              <span class="wizard-choice__title">Block-based (Perpetual)</span>
                              <span class="wizard-choice__hint">Continuous emission - Release tokens every N
                                blocks</span>
                            </span>
                          </label>
                          <div class="distribution-inline-panel" id="distribution-panel-block" hidden>
                            <div class="field-group">
                              <label class="wizard-field__label" for="dist-block-interval">Release every
                                (blocks)</label>
                              <input class="wizard-field__input" type="number" id="dist-block-interval"
                                placeholder="e.g., 1000" min="1">
                              <span class="field-hint">Example: 1000 blocks ≈ 2.5 hours • Tokens are claimable at each
                                interval</span>
                            </div>
                          </div>

                          <!-- Time-based Option -->
                          <label class="wizard-choice">
                            <input class="wizard-choice__input" type="radio" name="distribution-type" value="time"
                              data-toggle-panel="distribution-panel-time">
                            <span class="wizard-choice__content">
                              <span class="wizard-choice__title">Time-based (Perpetual)</span>
                              <span class="wizard-choice__hint">Continuous emission - Release tokens every N
                                hours/days</span>
                            </span>
                          </label>
                          <div class="distribution-inline-panel" id="distribution-panel-time" hidden>
                            <div class="field-group">
                              <label class="wizard-field__label" for="dist-time-interval">Release every</label>
                              <input class="wizard-field__input" type="number" id="dist-time-interval"
                                placeholder="e.g., 24" min="1">
                              <span class="field-hint">Hours (24 = daily, 168 = weekly) • Tokens are claimable at each
                                interval</span>
                            </div>
                          </div>

                          <!-- Epoch-based Option -->
                          <label class="wizard-choice">
                            <input class="wizard-choice__input" type="radio" name="distribution-type" value="epoch"
                              data-toggle-panel="distribution-panel-epoch">
                            <span class="wizard-choice__content">
                              <span class="wizard-choice__title">Epoch-based (Perpetual)</span>
                              <span class="wizard-choice__hint">Continuous emission - Release at platform epoch changes
                                (advanced)</span>
                            </span>
                          </label>
                          <div class="distribution-inline-panel" id="distribution-panel-epoch" hidden>
                            <div class="field-group">
                              <label class="wizard-field__label" for="dist-epoch-interval">Release every
                                (epochs)</label>
                              <input class="wizard-field__input" type="number" id="dist-epoch-interval"
                                placeholder="e.g., 1" min="1" value="1">
                              <span class="field-hint">1 = every epoch change</span>
                            </div>
                          </div>
                        </fieldset>
                      </div>

                      <!-- Emission Function Section -->
                      <div style="margin-top: var(--space-5);">
                        <h4 style="font-size: 1rem; font-weight: 600; margin: 0 0 var(--space-2) 0;">Emission Function
                        </h4>
                        <p style="font-size: 0.875rem; color: var(--color-text-subtle); margin: 0 0 var(--space-3) 0;">
                          How much should be released each time?</p>

                        <fieldset class="wizard-fieldset">
                          <legend class="wizard-field__label with-help">Emission type
                            <button type="button" class="help-icon" data-help="emission-function" data-guide-target="guide-emission-function" aria-label="Help: Emission Function" tabindex="0">
                              <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
                                <circle cx="8" cy="8" r="7" stroke="currentColor" stroke-width="2"/>
                                <path d="M8 7v4M8 4.5h.01" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                              </svg>
                            </button>
                          </legend>

                          <!-- Fixed Amount Option -->
                          <label class="wizard-choice">
                            <input class="wizard-choice__input" type="radio" name="emission-type" value="fixed"
                              data-toggle-panel="emission-panel-fixed">
                            <span class="wizard-choice__content">
                              <span class="wizard-choice__title">Fixed amount</span>
                              <span class="wizard-choice__hint">Release the same amount every time</span>
                            </span>
                          </label>
                          <div class="distribution-inline-panel" id="emission-panel-fixed" hidden>
                            <div class="field-group">
                              <label class="wizard-field__label" for="emission-fixed-amount">Amount per release</label>
                              <input class="wizard-field__input" type="text" id="emission-fixed-amount"
                                placeholder="e.g., 100">
                              <span class="field-hint">This exact amount will be released each time</span>
                            </div>
                          </div>

                          <!-- Exponential Option -->
                          <label class="wizard-choice">
                            <input class="wizard-choice__input" type="radio" name="emission-type" value="exponential"
                              data-toggle-panel="emission-panel-exponential">
                            <span class="wizard-choice__content">
                              <span class="wizard-choice__title">Exponential</span>
                              <span class="wizard-choice__hint">Amount changes by percentage (like Bitcoin
                                halving)</span>
                            </span>
                          </label>
                          <div class="distribution-inline-panel" id="emission-panel-exponential" hidden>
                            <div class="field-group">
                              <label class="wizard-field__label" for="emission-exp-a">Scaling Factor (a, { 0 &lt; a ≤
                                256 })</label>
                              <input class="wizard-field__input" type="number" id="emission-exp-a" placeholder="e.g., 1"
                                min="1" max="256">
                            </div>
                            <div class="field-group">
                              <label class="wizard-field__label" for="emission-exp-m">Exponent Rate Numerator (m, { -8 ≤
                                m ≤ 8 ; m ≠ 0 })</label>
                              <input class="wizard-field__input" type="number" id="emission-exp-m" placeholder="e.g., 2"
                                min="-8" max="8">
                              <span class="field-hint">Cannot be 0</span>
                            </div>
                            <div class="field-group">
                              <label class="wizard-field__label" for="emission-exp-n">Exponent Rate Denominator (n, { 0
                                &lt; n ≤ 32 })</label>
                              <input class="wizard-field__input" type="number" id="emission-exp-n" placeholder="e.g., 1"
                                min="1" max="32">
                            </div>
                            <div class="field-group">
                              <label class="wizard-field__label" for="emission-exp-d">Divisor (d, { u64 ; d ≠ 0
                                })</label>
                              <input class="wizard-field__input" type="text" id="emission-exp-d" placeholder="e.g., 1">
                              <span class="field-hint">Cannot be 0</span>
                            </div>
                            <div class="field-group">
                              <label class="wizard-field__label" for="emission-exp-s">Start Period Offset (s, optional,
                                u64)</label>
                              <input class="wizard-field__input" type="text" id="emission-exp-s" placeholder="None">
                              <span class="field-hint">Optional starting period offset</span>
                            </div>
                            <div class="field-group">
                              <label class="wizard-field__label" for="emission-exp-o">Offset (o, i64)</label>
                              <input class="wizard-field__input" type="text" id="emission-exp-o" placeholder="e.g., 0">
                            </div>
                            <div class="field-group">
                              <label class="wizard-field__label" for="emission-exp-b">Base amount (b, u64)</label>
                              <input class="wizard-field__input" type="text" id="emission-exp-b"
                                placeholder="e.g., 100">
                            </div>
                            <div class="field-group">
                              <label class="wizard-field__label" for="emission-exp-min-value">Minimum Emission Value
                                (optional, u64)</label>
                              <input class="wizard-field__input" type="text" id="emission-exp-min-value"
                                placeholder="None">
                              <span class="field-hint">Optional minimum emission value</span>
                            </div>
                            <div class="field-group">
                              <label class="wizard-field__label" for="emission-exp-max-value">Maximum Emission Value
                                (optional, u64)</label>
                              <input class="wizard-field__input" type="text" id="emission-exp-max-value"
                                placeholder="None">
                              <span class="field-hint">Optional maximum emission value</span>
                            </div>
                          </div>

                          <!-- Linear Option -->
                          <label class="wizard-choice">
                            <input class="wizard-choice__input" type="radio" name="emission-type" value="linear"
                              data-toggle-panel="emission-panel-linear">
                            <span class="wizard-choice__content">
                              <span class="wizard-choice__title">Linear</span>
                              <span class="wizard-choice__hint">Amount increases or decreases gradually</span>
                            </span>
                          </label>
                          <div class="distribution-inline-panel" id="emission-panel-linear" hidden>
                            <div class="field-group">
                              <label class="wizard-field__label" for="emission-linear-slope-numerator">Slope Numerator
                                (a, { -255 ≤ a ≤ 256 })</label>
                              <input class="wizard-field__input" type="number" id="emission-linear-slope-numerator"
                                placeholder="e.g., 1" min="-255" max="256">
                            </div>
                            <div class="field-group">
                              <label class="wizard-field__label" for="emission-linear-slope-divisor">Slope Divisor (d,
                                u64)</label>
                              <input class="wizard-field__input" type="text" id="emission-linear-slope-divisor"
                                placeholder="e.g., 1">
                            </div>
                            <div class="field-group">
                              <label class="wizard-field__label" for="emission-linear-start-step">Start Step (s, i64,
                                optional)</label>
                              <input class="wizard-field__input" type="text" id="emission-linear-start-step"
                                placeholder="None">
                              <span class="field-hint">Optional starting step value</span>
                            </div>
                            <div class="field-group">
                              <label class="wizard-field__label" for="emission-linear-starting-amount">Starting Amount
                                (b, i64)</label>
                              <input class="wizard-field__input" type="text" id="emission-linear-starting-amount"
                                placeholder="e.g., 100">
                            </div>
                            <div class="field-group">
                              <label class="wizard-field__label" for="emission-linear-min-value">Minimum Emission Value
                                (optional)</label>
                              <input class="wizard-field__input" type="text" id="emission-linear-min-value"
                                placeholder="None">
                              <span class="field-hint">Optional minimum emission value</span>
                            </div>
                            <div class="field-group">
                              <label class="wizard-field__label" for="emission-linear-max-value">Maximum Emission Value
                                (optional)</label>
                              <input class="wizard-field__input" type="text" id="emission-linear-max-value"
                                placeholder="None">
                              <span class="field-hint">Optional maximum emission value</span>
                            </div>
                          </div>

                          <!-- Random Option -->
                          <label class="wizard-choice">
                            <input class="wizard-choice__input" type="radio" name="emission-type" value="random"
                              data-toggle-panel="emission-panel-random">
                            <span class="wizard-choice__content">
                              <span class="wizard-choice__title">Random</span>
                              <span class="wizard-choice__hint">Random amount within a range (gamified rewards)</span>
                            </span>
                          </label>
                          <div class="distribution-inline-panel" id="emission-panel-random" hidden>
                            <div class="field-group">
                              <label class="wizard-field__label" for="emission-random-min">Minimum amount</label>
                              <input class="wizard-field__input" type="text" id="emission-random-min"
                                placeholder="e.g., 50">
                            </div>
                            <div class="field-group">
                              <label class="wizard-field__label" for="emission-random-max">Maximum amount</label>
                              <input class="wizard-field__input" type="text" id="emission-random-max"
                                placeholder="e.g., 150">
                              <span class="field-hint">Each release will be a random value between min and max</span>
                            </div>
                          </div>

                          <!-- Step Decreasing Option -->
                          <label class="wizard-choice">
                            <input class="wizard-choice__input" type="radio" name="emission-type"
                              value="step-decreasing" data-toggle-panel="emission-panel-step-decreasing">
                            <span class="wizard-choice__content">
                              <span class="wizard-choice__title">Step Decreasing</span>
                              <span class="wizard-choice__hint">Amount decreases in steps (like Bitcoin halving)</span>
                            </span>
                          </label>
                          <div class="distribution-inline-panel" id="emission-panel-step-decreasing" hidden>
                            <div class="field-group">
                              <label class="wizard-field__label" for="emission-step-count">Step Count</label>
                              <input class="wizard-field__input" type="number" id="emission-step-count"
                                placeholder="e.g., 4" min="1">
                              <span class="field-hint">Number of emissions before decreasing</span>
                            </div>
                            <div class="field-group">
                              <label class="wizard-field__label" for="emission-step-numerator">Decrease per Interval
                                Numerator (n &lt; 65,536)</label>
                              <input class="wizard-field__input" type="number" id="emission-step-numerator"
                                placeholder="e.g., 1" min="0" max="65535">
                            </div>
                            <div class="field-group">
                              <label class="wizard-field__label" for="emission-step-denominator">Decrease per Interval
                                Denominator (d &lt; 65,536)</label>
                              <input class="wizard-field__input" type="number" id="emission-step-denominator"
                                placeholder="e.g., 2" min="1" max="65535">
                              <span class="field-hint">1/2 = halving, 3/4 = 75% of previous, etc.</span>
                            </div>
                            <div class="field-group">
                              <label class="wizard-field__label" for="emission-step-offset">Start Period Offset (i64,
                                optional)</label>
                              <input class="wizard-field__input" type="text" id="emission-step-offset"
                                placeholder="None">
                              <span class="field-hint">Optional starting period offset</span>
                            </div>
                            <div class="field-group">
                              <label class="wizard-field__label" for="emission-step-start">Initial Token Emission
                                Amount</label>
                              <input class="wizard-field__input" type="text" id="emission-step-start"
                                placeholder="e.g., 1000">
                            </div>
                            <div class="field-group">
                              <label class="wizard-field__label" for="emission-step-min-value">Minimum Emission Value
                                (optional)</label>
                              <input class="wizard-field__input" type="text" id="emission-step-min-value"
                                placeholder="None">
                              <span class="field-hint">Optional minimum emission value</span>
                            </div>
                            <div class="field-group">
                              <label class="wizard-field__label" for="emission-step-max-interval">
                                Maximum Interval Count
                                <span style="color: var(--color-error); font-weight: 600;">⚠️ IMPORTANT</span>
                              </label>
                              <input class="wizard-field__input" type="number" id="emission-step-max-interval"
                                placeholder="128" min="1" max="1024" value="128">
                              <span class="field-hint" style="color: var(--color-warning);">
                                <strong>Maximum number of emission intervals (1-1024).</strong> After this many
                                intervals, the trailing amount is distributed perpetually. Defaults to 128 if not set.
                                For Bitcoin-style halving over 100+ years, set this to a higher value (e.g., 500).
                              </span>
                            </div>
                            <div class="field-group">
                              <label class="wizard-field__label" for="emission-step-trailing">Trailing Distribution
                                Interval Token Amount</label>
                              <input class="wizard-field__input" type="text" id="emission-step-trailing"
                                placeholder="e.g., 10">
                              <span class="field-hint">Final emission amount after all decreases</span>
                            </div>
                          </div>

                          <!-- Stepwise Option -->
                          <label class="wizard-choice">
                            <input class="wizard-choice__input" type="radio" name="emission-type" value="stepwise"
                              data-toggle-panel="emission-panel-stepwise">
                            <span class="wizard-choice__content">
                              <span class="wizard-choice__title">Stepwise</span>
                              <span class="wizard-choice__hint">Custom amounts at specific intervals</span>
                            </span>
                          </label>
                          <div class="distribution-inline-panel" id="emission-panel-stepwise" hidden>
                            <div id="stepwise-entries">
                              <div class="field-group stepwise-entry" data-entry-index="0">
                                <label class="wizard-field__label">
                                  At interval <input class="wizard-field__input" type="number" name="stepwise-interval"
                                    placeholder="0" min="0"
                                    style="width: 120px; display: inline-block; margin: 0 var(--space-2);">
                                  emit <input class="wizard-field__input" type="text" name="stepwise-amount"
                                    placeholder="1000"
                                    style="width: 120px; display: inline-block; margin: 0 var(--space-2);"> tokens
                                </label>
                                <button class="wizard-button wizard-button--text wizard-button--sm" type="button"
                                  data-remove-stepwise style="margin-left: var(--space-2);">Remove</button>
                              </div>
                            </div>
                            <button class="wizard-button wizard-button--secondary wizard-button--sm" type="button"
                              id="add-stepwise-entry" style="margin-top: var(--space-3);">+ Add Interval</button>
                            <span class="field-hint" style="display: block; margin-top: var(--space-2);">Define custom
                              emission amounts for specific intervals</span>
                          </div>

                          <!-- Polynomial Option -->
                          <label class="wizard-choice">
                            <input class="wizard-choice__input" type="radio" name="emission-type" value="polynomial"
                              data-toggle-panel="emission-panel-polynomial">
                            <span class="wizard-choice__content">
                              <span class="wizard-choice__title">Polynomial</span>
                              <span class="wizard-choice__hint">Complex polynomial curve (advanced)</span>
                            </span>
                          </label>
                          <div class="distribution-inline-panel" id="emission-panel-polynomial" hidden>
                            <div class="field-group">
                              <label class="wizard-field__label" for="emission-poly-a">Scaling Factor (a, { -255 ≤ a ≤
                                256 })</label>
                              <input class="wizard-field__input" type="number" id="emission-poly-a"
                                placeholder="e.g., 1" min="-255" max="256">
                            </div>
                            <div class="field-group">
                              <label class="wizard-field__label" for="emission-poly-m">Exponent Numerator (m, { -8 ≤ m ≤
                                8 })</label>
                              <input class="wizard-field__input" type="number" id="emission-poly-m"
                                placeholder="e.g., 2" min="-8" max="8">
                            </div>
                            <div class="field-group">
                              <label class="wizard-field__label" for="emission-poly-n">Exponent Denominator (n, { 0 &lt;
                                n ≤ 32 })</label>
                              <input class="wizard-field__input" type="number" id="emission-poly-n"
                                placeholder="e.g., 1" min="1" max="32">
                            </div>
                            <div class="field-group">
                              <label class="wizard-field__label" for="emission-poly-d">Divisor (d, u64)</label>
                              <input class="wizard-field__input" type="text" id="emission-poly-d" placeholder="e.g., 1">
                            </div>
                            <div class="field-group">
                              <label class="wizard-field__label" for="emission-poly-s">Start Period Offset (s, optional,
                                u64)</label>
                              <input class="wizard-field__input" type="text" id="emission-poly-s" placeholder="None">
                              <span class="field-hint">Optional starting period offset</span>
                            </div>
                            <div class="field-group">
                              <label class="wizard-field__label" for="emission-poly-o">Offset (o, i64)</label>
                              <input class="wizard-field__input" type="text" id="emission-poly-o" placeholder="e.g., 0">
                            </div>
                            <div class="field-group">
                              <label class="wizard-field__label" for="emission-poly-b">Initial Token Emission (b,
                                u64)</label>
                              <input class="wizard-field__input" type="text" id="emission-poly-b"
                                placeholder="e.g., 100">
                            </div>
                            <div class="field-group">
                              <label class="wizard-field__label" for="emission-poly-min-value">Minimum Emission Value
                                (optional, u64)</label>
                              <input class="wizard-field__input" type="text" id="emission-poly-min-value"
                                placeholder="None">
                              <span class="field-hint">Optional minimum emission value</span>
                            </div>
                            <div class="field-group">
                              <label class="wizard-field__label" for="emission-poly-max-value">Maximum Emission Value
                                (optional, u64)</label>
                              <input class="wizard-field__input" type="text" id="emission-poly-max-value"
                                placeholder="None">
                              <span class="field-hint">Optional maximum emission value</span>
                            </div>
                          </div>

                          <!-- Logarithmic Option -->
                          <label class="wizard-choice">
                            <input class="wizard-choice__input" type="radio" name="emission-type" value="logarithmic"
                              data-toggle-panel="emission-panel-logarithmic">
                            <span class="wizard-choice__content">
                              <span class="wizard-choice__title">Logarithmic</span>
                              <span class="wizard-choice__hint">Diminishing emission rate over time</span>
                            </span>
                          </label>
                          <div class="distribution-inline-panel" id="emission-panel-logarithmic" hidden>
                            <div class="field-group">
                              <label class="wizard-field__label" for="emission-log-a">Scaling Factor (a, i64, { -32_766
                                ≤ a ≤ 32_767 })</label>
                              <input class="wizard-field__input" type="number" id="emission-log-a"
                                placeholder="e.g., 100" min="-32766" max="32767">
                            </div>
                            <div class="field-group">
                              <label class="wizard-field__label" for="emission-log-d">Divisor (d, u64)</label>
                              <input class="wizard-field__input" type="text" id="emission-log-d" placeholder="e.g., 1">
                            </div>
                            <div class="field-group">
                              <label class="wizard-field__label" for="emission-log-m">Exponent Numerator (m,
                                u64)</label>
                              <input class="wizard-field__input" type="text" id="emission-log-m" placeholder="e.g., 1">
                            </div>
                            <div class="field-group">
                              <label class="wizard-field__label" for="emission-log-n">Exponent Denominator (n,
                                u64)</label>
                              <input class="wizard-field__input" type="text" id="emission-log-n" placeholder="e.g., 1">
                            </div>
                            <div class="field-group">
                              <label class="wizard-field__label" for="emission-log-s">Start Period Offset (s, optional,
                                u64)</label>
                              <input class="wizard-field__input" type="text" id="emission-log-s" placeholder="None">
                              <span class="field-hint">Optional starting period offset</span>
                            </div>
                            <div class="field-group">
                              <label class="wizard-field__label" for="emission-log-o">Offset (o, i64)</label>
                              <input class="wizard-field__input" type="text" id="emission-log-o" placeholder="e.g., 0">
                            </div>
                            <div class="field-group">
                              <label class="wizard-field__label" for="emission-log-b">Base Amount (b, u64)</label>
                              <input class="wizard-field__input" type="text" id="emission-log-b"
                                placeholder="e.g., 100">
                            </div>
                            <div class="field-group">
                              <label class="wizard-field__label" for="emission-log-min-value">Minimum Emission Value
                                (optional, u64)</label>
                              <input class="wizard-field__input" type="text" id="emission-log-min-value"
                                placeholder="None">
                              <span class="field-hint">Optional minimum emission value</span>
                            </div>
                            <div class="field-group">
                              <label class="wizard-field__label" for="emission-log-max-value">Maximum Emission Value
                                (optional, u64)</label>
                              <input class="wizard-field__input" type="text" id="emission-log-max-value"
                                placeholder="None">
                              <span class="field-hint">Optional maximum emission value</span>
                            </div>
                          </div>

                          <!-- Inverted Logarithmic Option -->
                          <label class="wizard-choice">
                            <input class="wizard-choice__input" type="radio" name="emission-type"
                              value="inverted-logarithmic" data-toggle-panel="emission-panel-inverted-logarithmic">
                            <span class="wizard-choice__content">
                              <span class="wizard-choice__title">Inverted Logarithmic</span>
                              <span class="wizard-choice__hint">Increasing emission rate that levels off</span>
                            </span>
                          </label>
                          <div class="distribution-inline-panel" id="emission-panel-inverted-logarithmic" hidden>
                            <div class="field-group">
                              <label class="wizard-field__label" for="emission-invlog-a">Scaling Factor (a, i64, {
                                -32_766 ≤ a ≤ 32_767 })</label>
                              <input class="wizard-field__input" type="number" id="emission-invlog-a"
                                placeholder="e.g., 100" min="-32766" max="32767">
                            </div>
                            <div class="field-group">
                              <label class="wizard-field__label" for="emission-invlog-d">Divisor (d, u64)</label>
                              <input class="wizard-field__input" type="text" id="emission-invlog-d"
                                placeholder="e.g., 1">
                            </div>
                            <div class="field-group">
                              <label class="wizard-field__label" for="emission-invlog-m">Exponent Numerator (m,
                                u64)</label>
                              <input class="wizard-field__input" type="text" id="emission-invlog-m"
                                placeholder="e.g., 1">
                            </div>
                            <div class="field-group">
                              <label class="wizard-field__label" for="emission-invlog-n">Exponent Denominator (n,
                                u64)</label>
                              <input class="wizard-field__input" type="text" id="emission-invlog-n"
                                placeholder="e.g., 1">
                            </div>
                            <div class="field-group">
                              <label class="wizard-field__label" for="emission-invlog-s">Start Period Offset (s,
                                optional, u64)</label>
                              <input class="wizard-field__input" type="text" id="emission-invlog-s" placeholder="None">
                              <span class="field-hint">Optional starting period offset</span>
                            </div>
                            <div class="field-group">
                              <label class="wizard-field__label" for="emission-invlog-o">Offset (o, i64)</label>
                              <input class="wizard-field__input" type="text" id="emission-invlog-o"
                                placeholder="e.g., 0">
                            </div>
                            <div class="field-group">
                              <label class="wizard-field__label" for="emission-invlog-b">Base Amount (b, u64)</label>
                              <input class="wizard-field__input" type="text" id="emission-invlog-b"
                                placeholder="e.g., 100">
                            </div>
                            <div class="field-group">
                              <label class="wizard-field__label" for="emission-invlog-min-value">Minimum Emission Value
                                (optional, u64)</label>
                              <input class="wizard-field__input" type="text" id="emission-invlog-min-value"
                                placeholder="None">
                              <span class="field-hint">Optional minimum emission value</span>
                            </div>
                            <div class="field-group">
                              <label class="wizard-field__label" for="emission-invlog-max-value">Maximum Emission Value
                                (optional, u64)</label>
                              <input class="wizard-field__input" type="text" id="emission-invlog-max-value"
                                placeholder="None">
                              <span class="field-hint">Optional maximum emission value</span>
                            </div>
                          </div>

                        </fieldset>
                      </div>

                      <!-- Distribution Recipient Section -->
                      <div style="margin-top: var(--space-6); margin-bottom: var(--space-4);">
                        <h4 style="font-size: 1rem; font-weight: 600; margin: 0 0 var(--space-2) 0;">Distribution Recipient
                        </h4>
                        <p style="font-size: 0.875rem; color: var(--color-text-subtle); margin: 0 0 var(--space-3) 0;">
                          Who receives the distributed tokens?</p>

                        <fieldset class="wizard-fieldset">
                          <legend class="wizard-field__label">Recipient type</legend>

                          <!-- Contract Owner Option -->
                          <label class="wizard-choice">
                            <input class="wizard-choice__input" type="radio" name="recipient-type-perpetual"
                              value="contract-owner" checked>
                            <span class="wizard-choice__content">
                              <span class="wizard-choice__title">Contract Owner</span>
                              <span class="wizard-choice__hint">Tokens go to the contract owner's identity</span>
                            </span>
                          </label>

                          <!-- Specific Identity Option -->
                          <label class="wizard-choice" id="recipient-identity-choice-perpetual">
                            <input class="wizard-choice__input" type="radio" name="recipient-type-perpetual"
                              value="specific-identity" data-toggle-panel="recipient-identity-panel-perpetual">
                            <span class="wizard-choice__content">
                              <span class="wizard-choice__title">Specific Identity</span>
                              <span class="wizard-choice__hint">Tokens go to a designated Dash identity</span>
                            </span>
                          </label>
                          <div class="distribution-inline-panel" id="recipient-identity-panel-perpetual" hidden>
                            <div class="field-group">
                              <label class="wizard-field__label" for="recipient-identity-id-perpetual">Identity ID</label>
                              <input class="wizard-field__input" type="text" id="recipient-identity-id-perpetual"
                                placeholder="Enter Dash identity ID (Base58)">
                              <span class="field-hint">A valid Dash Platform identity ID (43-44 characters, Base58
                                encoded)</span>
                            </div>
                          </div>

                          <!-- Evonodes by Participation Option (Epoch-only) -->
                          <label class="wizard-choice" id="recipient-evonodes-choice-perpetual" hidden>
                            <input class="wizard-choice__input" type="radio" name="recipient-type-perpetual"
                              value="evonodes-by-participation">
                            <span class="wizard-choice__content">
                              <span class="wizard-choice__title">Evonodes by Participation</span>
                              <span class="wizard-choice__hint">Distribute tokens to evonodes based on their participation
                                in the network (Epoch-based distribution only)</span>
                            </span>
                          </label>
                        </fieldset>
                      </div>

                      <!-- Perpetual Distribution Rules Section -->
                      <div style="margin-top: var(--space-8); padding-top: var(--space-6); border-top: 1px solid var(--color-border-subtle);">
                        <h4 style="font-size: 1rem; font-weight: 600; margin: 0 0 var(--space-2) 0;">Perpetual Distribution Rules
                        </h4>
                        <p style="font-size: 0.875rem; color: var(--color-text-subtle); margin: 0 0 var(--space-4) 0;">
                          Control who can perform and modify perpetual distribution</p>

                        <!-- Authorized to perform action -->
                        <div class="field-group" style="margin-bottom: var(--space-5);">
                          <label class="wizard-field__label" for="perpetual-perform-action">Authorized to perform action:</label>
                          <select class="wizard-field__input" id="perpetual-perform-action" name="perpetual-perform-action">
                            <option value="no-one" selected>No One</option>
                            <option value="owner">Contract Owner</option>
                            <option value="identity">Specific Identity</option>
                            <option value="group">Specific Group</option>
                            <option value="main-group">Main Contract Group</option>
                          </select>
                          <span class="field-hint">Who can trigger perpetual distribution actions</span>
                        </div>

                        <!-- Authorized to change rules -->
                        <div class="field-group" style="margin-bottom: var(--space-5);">
                          <label class="wizard-field__label" for="perpetual-change-rules">Authorized to change rules:</label>
                          <select class="wizard-field__input" id="perpetual-change-rules" name="perpetual-change-rules">
                            <option value="no-one" selected>No One</option>
                            <option value="owner">Contract Owner</option>
                            <option value="identity">Specific Identity</option>
                            <option value="group">Specific Group</option>
                            <option value="main-group">Main Contract Group</option>
                          </select>
                          <span class="field-hint">Who can modify perpetual distribution rules</span>
                        </div>

                        <!-- Governance Safeguards -->
                        <div style="margin-top: var(--space-6);">
                          <h5 style="font-size: 0.9rem; font-weight: 600; margin: 0 0 var(--space-5) 0;">Governance Safeguards</h5>

                          <div class="field-group" style="margin-bottom: var(--space-6);">
                            <label class="wizard-checkbox">
                              <input class="wizard-checkbox__input" type="checkbox"
                                id="perpetual-allow-change-authorized-to-none">
                              <span class="wizard-checkbox__label">
                                <span class="wizard-checkbox__title">Changing authorized action takers to no one allowed</span>
                                <span class="wizard-checkbox__hint">Allows permanently locking perpetual distribution by removing
                                  all authorized performers</span>
                              </span>
                            </label>
                          </div>

                          <div class="field-group" style="margin-bottom: var(--space-6);">
                            <label class="wizard-checkbox">
                              <input class="wizard-checkbox__input" type="checkbox"
                                id="perpetual-allow-change-admin-to-none">
                              <span class="wizard-checkbox__label">
                                <span class="wizard-checkbox__title">Changing admin action takers to no one allowed</span>
                                <span class="wizard-checkbox__hint">Allows rule changers to permanently lock the rules</span>
                              </span>
                            </label>
                          </div>

                          <div class="field-group">
                            <label class="wizard-checkbox">
                              <input class="wizard-checkbox__input" type="checkbox" id="perpetual-allow-self-change-admin">
                              <span class="wizard-checkbox__label">
                                <span class="wizard-checkbox__title">Self-changing admin action takers allowed</span>
                                <span class="wizard-checkbox__hint">Rule changers can modify who can change the rules</span>
                              </span>
                            </label>
                          </div>
                        </div>
                      </div>

                    </div>
                  </fieldset>
                </div>

                <p class="wizard-field__message" id="distribution-perpetual-message" role="status" aria-live="polite"></p>

                <div class="wizard-actions wizard-actions--between wizard-actions--sticky">
                  <button class="wizard-button wizard-button--secondary" type="button"
                    data-step-back="distribution-perpetual">← Back</button>
                  <button class="wizard-button wizard-button--secondary" type="button" id="contract-preview-btn">📄
                    Contract Preview</button>
                  <button class="wizard-button wizard-button--primary" id="distribution-perpetual-next"
                    type="submit">Continue →</button>
                </div>
            </form>
          </div>
        </section>

        <!-- Distribution: Schedule Sub-step -->
        <section class="wizard-screen" id="screen-distribution" data-step="distribution" data-substep="distribution"
          data-tab="token" hidden>

          <!-- Right Side Guide Panel -->
          <aside class="page-guide" aria-label="Page guide" data-collapsed="false">
            <div class="page-guide__header">
              <div class="page-guide__tabs-horizontal">
                <button class="page-guide__tab page-guide__tab--info active" data-panel="info" aria-label="Show Information" aria-pressed="true">
                  Information
                </button>
                <button class="page-guide__tab page-guide__tab--guide" data-panel="guide" aria-label="Show User Guide" aria-pressed="false">
                  User Guide
                </button>
              </div>
              <button class="page-guide__collapse" aria-label="Collapse panel" aria-expanded="true">
                <svg class="page-guide__collapse-icon" width="16" height="16" viewBox="0 0 16 16" fill="none">
                  <path d="M6 12l4-4-4-4" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
              </button>
            </div>
            <div class="page-guide__panel page-guide__panel--info active" data-panel="info">
              <div class="page-guide__content">
              <h2 class="page-guide__title">Distribution Schedule</h2>
              <p class="page-guide__intro">Define how and when your token distributes new supply.</p>

              <div class="page-guide__section">
                <h3 class="page-guide__section-title">Guide</h3>
                <p>Choose a type: Pre-programmed, Perpetual, or None. If active, set cadence — by blocks, time, or
                  epoch. This controls the rhythm of emission or rewards. Click Continue to the emission curve.</p>

                <h4 class="page-guide__step-heading" id="guide-distribution-types">Distribution Types</h4>
                <ul class="page-guide__list">
                  <li><strong>Pre-programmed:</strong> Fixed schedule, set it and forget it</li>
                  <li><strong>Perpetual:</strong> Ongoing emission based on rules</li>
                  <li><strong>None:</strong> No automatic distribution</li>
                </ul>

                <h4 class="page-guide__step-heading" id="guide-cadence-types">Cadence Types</h4>
                <ul class="page-guide__list">
                  <li><strong>Block-Based:</strong> Every N blocks (e.g., every 100 blocks)</li>
                  <li><strong>Time-Based:</strong> Every N seconds/minutes/hours (e.g., 3600 = 1 hour)</li>
                  <li><strong>Epoch-Based:</strong> Per epoch period (daily, weekly, monthly, quarterly, yearly)</li>
                </ul>

                <h4 class="page-guide__step-heading" id="guide-emission-function">Emission Function</h4>
                <p>Set the mathematical rule that determines emission over time. Pick a model that matches your
                  economics:</p>
                <ul class="page-guide__list">
                  <li><strong>Fixed:</strong> Constant output</li>
                  <li><strong>Step:</strong> Halving or tiered steps</li>
                  <li><strong>Linear:</strong> Smooth growth or reduction</li>
                  <li><strong>Exponential / Polynomial / Logarithmic:</strong> Advanced curves for adaptive or
                    decreasing emissions</li>
                </ul>
                <p>Define your parameters carefully — this shapes your token's inflation model.</p>
              </div>
            </div>
            </div>
            <div class="page-guide__panel page-guide__panel--guide" data-panel="guide" hidden>
              <div class="page-guide__content">
                <h2 class="page-guide__title">Distribution Schedule</h2>
                <p class="page-guide__intro">Step-by-step guide to configuring your token's release schedule.</p>

                <div class="page-guide__section">
                  <h3 class="page-guide__section-title">Step 1: Understand Distribution Options</h3>
                  <p>This screen lets you set up automatic token distribution over time. Choose a schedule type that matches your use case: mining rewards, staking incentives, or gradual release schedules.</p>
                </div>

                <div class="page-guide__section">
                  <h3 class="page-guide__section-title">Step 2: Select Schedule Type</h3>
                  <p>Choose when tokens should be released:</p>
                  <ul class="page-guide__list">
                    <li><strong>Block-based (Perpetual):</strong> Release tokens every N blocks - best for blockchain-tied rewards</li>
                    <li><strong>Time-based (Perpetual):</strong> Release tokens every N hours/days - best for human-readable schedules</li>
                    <li><strong>Epoch-based (Perpetual):</strong> Release at platform epoch changes - best for governance coordination</li>
                  </ul>
                </div>

                <div class="page-guide__section">
                  <h3 class="page-guide__section-title">Step 3: Configure Release Interval</h3>
                  <p>After selecting a schedule type, enter the interval value in the expanded panel. For example: 1000 blocks, 24 hours (daily), or 1 epoch.</p>
                </div>

                <div class="page-guide__section">
                  <h3 class="page-guide__section-title">Step 4: Verify and Continue</h3>
                  <p>Review your schedule configuration and proceed to set the emission amount in the next step.</p>
                </div>
              </div>
            </div>
          </aside>

          <div class="wizard-screen__inner">
            <form class="wizard-form" id="distribution-form" novalidate>
              <h1 class="wizard-screen__title" id="title-distribution" tabindex="-1">How should tokens be distributed
                over time? <span class="wizard-badge wizard-badge--optional">(optional setting)</span></h1>
              <p class="wizard-screen__subtitle">Set up automatic token distribution with a release schedule (like
                mining rewards).</p>

              <!-- Distribution Info Card -->
              <div class="form-card form-card--highlight">
                <div class="form-card__body">
                  <p><strong>What's this for?</strong></p>
                  <p>Distribution lets you automatically release tokens over time - perfect for rewards, staking, or
                    gradual release schedules. If you don't need this, you can skip it!</p>
                  <p style="margin-bottom: 0;"><strong>Common uses:</strong> Mining rewards • Staking rewards • Team
                    vesting • Community incentives</p>
                </div>
              </div>

              <!-- Distribution Schedule Section -->
              <div class="form-card">
                <div class="form-card__header">
                  <h3 class="form-card__title">Release Schedule</h3>
                  <p class="form-card__description">When should tokens be released?</p>
                </div>
                <div class="form-card__body">
                  <fieldset class="wizard-fieldset" aria-describedby="distribution-message">
                    <legend class="wizard-field__label with-help">Schedule type
                      <button type="button" class="help-icon" data-help="cadence-type" data-guide-target="guide-cadence-type" aria-label="Help: Distribution Cadence Type" tabindex="0">
                        <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
                          <circle cx="8" cy="8" r="7" stroke="currentColor" stroke-width="2"/>
                          <path d="M8 7v4M8 4.5h.01" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                        </svg>
                      </button>
                    </legend>

                    <!-- Block-based Option -->
                    <label class="wizard-choice">
                      <input class="wizard-choice__input" type="radio" name="distribution-type" value="block"
                        data-toggle-panel="distribution-panel-block">
                      <span class="wizard-choice__content">
                        <span class="wizard-choice__title">Block-based (Perpetual)</span>
                        <span class="wizard-choice__hint">Continuous emission - Release tokens every N blocks</span>
                      </span>
                    </label>
                    <div class="distribution-inline-panel" id="distribution-panel-block" hidden>
                      <div class="field-group">
                        <label class="wizard-field__label" for="dist-block-interval">Release every (blocks)</label>
                        <input class="wizard-field__input" type="number" id="dist-block-interval"
                          placeholder="e.g., 1000" min="1">
                        <span class="field-hint">Example: 1000 blocks ≈ 2.5 hours • Tokens are claimable at each
                          interval</span>
                      </div>
                    </div>

                    <!-- Time-based Option -->
                    <label class="wizard-choice">
                      <input class="wizard-choice__input" type="radio" name="distribution-type" value="time"
                        data-toggle-panel="distribution-panel-time">
                      <span class="wizard-choice__content">
                        <span class="wizard-choice__title">Time-based (Perpetual)</span>
                        <span class="wizard-choice__hint">Continuous emission - Release tokens every N hours/days</span>
                      </span>
                    </label>
                    <div class="distribution-inline-panel" id="distribution-panel-time" hidden>
                      <div class="field-group">
                        <label class="wizard-field__label" for="dist-time-interval">Release every</label>
                        <input class="wizard-field__input" type="number" id="dist-time-interval" placeholder="e.g., 24"
                          min="1">
                        <span class="field-hint">Hours (24 = daily, 168 = weekly) • Tokens are claimable at each
                          interval</span>
                      </div>
                    </div>

                    <!-- Epoch-based Option -->
                    <label class="wizard-choice">
                      <input class="wizard-choice__input" type="radio" name="distribution-type" value="epoch"
                        data-toggle-panel="distribution-panel-epoch">
                      <span class="wizard-choice__content">
                        <span class="wizard-choice__title">Epoch-based (Perpetual)</span>
                        <span class="wizard-choice__hint">Continuous emission - Release at platform epoch changes
                          (advanced)</span>
                      </span>
                    </label>
                    <div class="distribution-inline-panel" id="distribution-panel-epoch" hidden>
                      <div class="field-group">
                        <label class="wizard-field__label" for="dist-epoch-interval">Release every (epochs)</label>
                        <input class="wizard-field__input" type="number" id="dist-epoch-interval" placeholder="e.g., 1"
                          min="1" value="1">
                        <span class="field-hint">1 = every epoch change</span>
                      </div>
                    </div>
                  </fieldset>
                </div>

                <p class="wizard-field__message" id="distribution-message" role="status" aria-live="polite"></p>
                <div class="wizard-actions wizard-actions--between wizard-actions--sticky">
                  <button class="wizard-button wizard-button--secondary" type="button" data-step-back="distribution">←
                    Back</button>
                  <button class="wizard-button wizard-button--secondary" type="button" id="contract-preview-btn">📄
                    Contract Preview</button>
                  <button class="wizard-button wizard-button--primary" id="distribution-next" type="submit"
                    disabled>Continue →</button>
                </div>
            </form>
          </div>
        </section>

        <!-- Distribution: Emission Sub-step -->
        <section class="wizard-screen" id="screen-distribution-emission" data-step="distribution"
          data-substep="distribution-emission" data-tab="token" hidden>

          <!-- Right Side Guide Panel -->
          <aside class="page-guide" aria-label="Page guide" data-collapsed="false">
            <div class="page-guide__header">
              <div class="page-guide__tabs-horizontal">
                <button class="page-guide__tab page-guide__tab--info active" data-panel="info" aria-label="Show Information" aria-pressed="true">
                  Information
                </button>
                <button class="page-guide__tab page-guide__tab--guide" data-panel="guide" aria-label="Show User Guide" aria-pressed="false">
                  User Guide
                </button>
              </div>
              <button class="page-guide__collapse" aria-label="Collapse panel" aria-expanded="true">
                <svg class="page-guide__collapse-icon" width="16" height="16" viewBox="0 0 16 16" fill="none">
                  <path d="M6 12l4-4-4-4" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
              </button>
            </div>
            <div class="page-guide__panel page-guide__panel--info active" data-panel="info">
              <div class="page-guide__content">
              <h2 class="page-guide__title">Emission Function</h2>
              <p class="page-guide__intro">Define how many tokens are released at each cadence interval using mathematical functions that shape your token's supply curve.</p>

              <div class="page-guide__section">
                <h3 class="page-guide__section-title">Quick Reference</h3>

                <h4 class="page-guide__step-heading" id="emission-overview">What is an Emission Function?</h4>
                <p><strong>What it is:</strong> A mathematical formula that determines the quantity of tokens released at each cadence interval. The emission function works together with your cadence (from the previous step) to create a complete distribution schedule.</p>
                <p><strong>Why it matters:</strong> The emission function shapes your token's supply curve over time, directly impacting inflation rate, scarcity perception, and incentive sustainability. Different functions create dramatically different economic outcomes.</p>
                <p><strong>Key principle:</strong> Cadence defines WHEN tokens are released; emission function defines HOW MUCH at each release.</p>

                <h4 class="page-guide__step-heading" id="emission-fixed">Fixed Amount</h4>
                <p><strong>Formula:</strong> Same constant amount every period (e.g., 100 tokens per release).</p>
                <p><strong>Best for:</strong> Simple, predictable reward systems where consistency is valued. Easy for users to understand and calculate expected returns.</p>
                <p><strong>Characteristics:</strong> Linear supply growth, constant absolute inflation (decreasing percentage inflation over time as total supply grows).</p>

                <h4 class="page-guide__step-heading" id="emission-exponential">Exponential Decay</h4>
                <p><strong>Formula:</strong> Amount decreases by a percentage over time (similar to Bitcoin halving: a × (m/n)^(period/d)).</p>
                <p><strong>Best for:</strong> Creating scarcity over time, mimicking mining economics, rewarding early adopters while extending emission lifetime.</p>
                <p><strong>Characteristics:</strong> Rapidly decreasing emissions, asymptotic approach to maximum supply, strong early-adopter incentives.</p>

                <h4 class="page-guide__step-heading" id="emission-linear">Linear Change</h4>
                <p><strong>Formula:</strong> Amount increases or decreases by a fixed increment each period (e.g., start at 100, add/subtract 10 each period).</p>
                <p><strong>Best for:</strong> Gradual phase-in or phase-out of rewards, smooth transitions between emission levels, controlled ramp-up periods.</p>
                <p><strong>Characteristics:</strong> Predictable rate of change, smooth supply curve transitions, good for temporary incentive programs.</p>

                <h4 class="page-guide__step-heading" id="emission-step">Step Function</h4>
                <p><strong>Formula:</strong> Different fixed amounts for different time periods (e.g., Year 1: 1000/day, Year 2: 500/day, Year 3: 250/day).</p>
                <p><strong>Best for:</strong> Complex tokenomics requiring different emission rates at different project phases, coordinating with roadmap milestones.</p>
                <p><strong>Characteristics:</strong> Maximum flexibility, can model any desired supply curve, useful for multi-phase projects.</p>

                <h4 class="page-guide__step-heading" id="emission-parameters">Understanding Parameters</h4>
                <p><strong>Scaling Factor (a):</strong> Base multiplier that scales the entire emission curve up or down.</p>
                <p><strong>Exponent Rate (m/n):</strong> Controls how rapidly exponential functions decrease (or increase). Smaller ratios = faster decay.</p>
                <p><strong>Divisor (d):</strong> Period length over which the exponent is applied, affecting decay speed.</p>
                <p><strong>Offset (o):</strong> Shifts the entire function up or down, useful for ensuring minimum emission values.</p>
                <p><strong>Base Amount (b):</strong> Starting amount before applying mathematical transformations.</p>
              </div>
            </div>
            </div>
            <div class="page-guide__panel page-guide__panel--guide" data-panel="guide" hidden>
              <div class="page-guide__content">
                <h2 class="page-guide__title">Emission Function</h2>
                <p class="page-guide__intro">Step-by-step guide to configuring how many tokens are released at each interval.</p>

                <div class="page-guide__section">
                  <h3 class="page-guide__section-title">Step 1: Select Emission Type</h3>
                  <p>Choose how the release amount is calculated:</p>
                  <ul class="page-guide__list">
                    <li><strong>Fixed amount:</strong> Same amount every time (simplest, e.g., 100 tokens per release)</li>
                    <li><strong>Exponential:</strong> Decreasing over time like Bitcoin halving (complex parameters)</li>
                    <li><strong>Linear:</strong> Steadily increasing or decreasing amounts (moderate complexity)</li>
                    <li><strong>Step function:</strong> Different amounts for different phases (maximum control)</li>
                  </ul>
                </div>

                <div class="page-guide__section">
                  <h3 class="page-guide__section-title">Step 2: Configure Parameters</h3>
                  <p>Set the values for your chosen emission type:</p>
                  <ul class="page-guide__list">
                    <li><strong>Fixed:</strong> Enter the amount per release (e.g., 100 tokens)</li>
                    <li><strong>Exponential:</strong> Set scaling factor, exponent rate (m/n), divisor, and optional offsets</li>
                    <li><strong>Linear:</strong> Enter starting amount and slope (increment per period)</li>
                    <li><strong>Step function:</strong> Define each phase with period range and fixed amount</li>
                  </ul>
                </div>

                <div class="page-guide__section">
                  <h3 class="page-guide__section-title">Step 3: Review Total Emissions</h3>
                  <p>Calculate estimated total tokens that will be emitted over your desired timeframe. Verify this doesn't exceed your maximum supply (if set in Permissions). Consider how long until emissions stop or become negligible.</p>
                </div>

                <div class="page-guide__section">
                  <h3 class="page-guide__section-title">Step 4: Verify and Continue</h3>
                  <p>Confirm your emission function matches your tokenomics goals. Ensure inflation rate is sustainable and proceed to the Advanced step to configure trading rules and governance controls.</p>
                </div>
              </div>
            </div>
          </aside>

          <div class="wizard-screen__inner">
            <form class="wizard-form" id="distribution-emission-form" novalidate>
              <h1 class="wizard-screen__title" id="title-distribution-emission" tabindex="-1">How much should be
                released each time?</h1>
              <p class="wizard-screen__subtitle">Choose an emission function that determines the amount distributed at
                each interval.</p>

              <!-- Emission Type Section -->
              <div class="form-card">
                <div class="form-card__header">
                  <h3 class="form-card__title">Emission Function</h3>
                  <p class="form-card__description">Select how much to release per interval</p>
                </div>
                <div class="form-card__body">
                  <fieldset class="wizard-fieldset">
                    <legend class="wizard-field__label">Emission type
                      <button type="button" class="help-icon" data-help="emission-type" data-guide-target="guide-emission-function" aria-label="Help: Emission Type" tabindex="0">
                        <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
                          <circle cx="8" cy="8" r="7" stroke="currentColor" stroke-width="2"/>
                          <path d="M8 7v4M8 4.5h.01" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                        </svg>
                      </button>
                    </legend>

                    <!-- Fixed Amount Option -->
                    <label class="wizard-choice">
                      <input class="wizard-choice__input" type="radio" name="emission-type" value="fixed"
                        data-toggle-panel="emission-panel-fixed">
                      <span class="wizard-choice__content">
                        <span class="wizard-choice__title">Fixed amount</span>
                        <span class="wizard-choice__hint">Release the same amount every time</span>
                      </span>
                    </label>
                    <div class="distribution-inline-panel" id="emission-panel-fixed" hidden>
                      <div class="field-group">
                        <label class="wizard-field__label" for="emission-fixed-amount">Amount per release</label>
                        <input class="wizard-field__input" type="text" id="emission-fixed-amount"
                          placeholder="e.g., 100">
                        <span class="field-hint">This exact amount will be released each time</span>
                      </div>
                    </div>

                    <!-- Exponential Option -->
                    <label class="wizard-choice">
                      <input class="wizard-choice__input" type="radio" name="emission-type" value="exponential"
                        data-toggle-panel="emission-panel-exponential">
                      <span class="wizard-choice__content">
                        <span class="wizard-choice__title">Exponential</span>
                        <span class="wizard-choice__hint">Amount changes by percentage (like Bitcoin halving)</span>
                      </span>
                    </label>
                    <div class="distribution-inline-panel" id="emission-panel-exponential" hidden>
                      <div class="field-group">
                        <label class="wizard-field__label" for="emission-exp-a">Scaling Factor (a, { 0 &lt; a ≤ 256
                          })</label>
                        <input class="wizard-field__input" type="number" id="emission-exp-a" placeholder="e.g., 1"
                          min="1" max="256">
                      </div>
                      <div class="field-group">
                        <label class="wizard-field__label" for="emission-exp-m">Exponent Rate Numerator (m, { -8 ≤ m ≤ 8
                          ; m ≠ 0 })</label>
                        <input class="wizard-field__input" type="number" id="emission-exp-m" placeholder="e.g., 2"
                          min="-8" max="8">
                        <span class="field-hint">Cannot be 0</span>
                      </div>
                      <div class="field-group">
                        <label class="wizard-field__label" for="emission-exp-n">Exponent Rate Denominator (n, { 0 &lt; n
                          ≤ 32 })</label>
                        <input class="wizard-field__input" type="number" id="emission-exp-n" placeholder="e.g., 1"
                          min="1" max="32">
                      </div>
                      <div class="field-group">
                        <label class="wizard-field__label" for="emission-exp-d">Divisor (d, { u64 ; d ≠ 0 })</label>
                        <input class="wizard-field__input" type="text" id="emission-exp-d" placeholder="e.g., 1">
                        <span class="field-hint">Cannot be 0</span>
                      </div>
                      <div class="field-group">
                        <label class="wizard-field__label" for="emission-exp-s">Start Period Offset (s, optional,
                          u64)</label>
                        <input class="wizard-field__input" type="text" id="emission-exp-s" placeholder="None">
                        <span class="field-hint">Optional starting period offset</span>
                      </div>
                      <div class="field-group">
                        <label class="wizard-field__label" for="emission-exp-o">Offset (o, i64)</label>
                        <input class="wizard-field__input" type="text" id="emission-exp-o" placeholder="e.g., 0">
                      </div>
                      <div class="field-group">
                        <label class="wizard-field__label" for="emission-exp-b">Base amount (b, u64)</label>
                        <input class="wizard-field__input" type="text" id="emission-exp-b" placeholder="e.g., 100">
                      </div>
                      <div class="field-group">
                        <label class="wizard-field__label" for="emission-exp-min-value">Minimum Emission Value
                          (optional, u64)</label>
                        <input class="wizard-field__input" type="text" id="emission-exp-min-value" placeholder="None">
                        <span class="field-hint">Optional minimum emission value</span>
                      </div>
                      <div class="field-group">
                        <label class="wizard-field__label" for="emission-exp-max-value">Maximum Emission Value
                          (optional, u64)</label>
                        <input class="wizard-field__input" type="text" id="emission-exp-max-value" placeholder="None">
                        <span class="field-hint">Optional maximum emission value</span>
                      </div>
                    </div>

                    <!-- Linear Option -->
                    <label class="wizard-choice">
                      <input class="wizard-choice__input" type="radio" name="emission-type" value="linear"
                        data-toggle-panel="emission-panel-linear">
                      <span class="wizard-choice__content">
                        <span class="wizard-choice__title">Linear</span>
                        <span class="wizard-choice__hint">Amount increases or decreases gradually</span>
                      </span>
                    </label>
                    <div class="distribution-inline-panel" id="emission-panel-linear" hidden>
                      <div class="field-group">
                        <label class="wizard-field__label" for="emission-linear-slope-numerator">Slope Numerator (a, {
                          -255 ≤ a ≤ 256 })</label>
                        <input class="wizard-field__input" type="number" id="emission-linear-slope-numerator"
                          placeholder="e.g., 1" min="-255" max="256">
                      </div>
                      <div class="field-group">
                        <label class="wizard-field__label" for="emission-linear-slope-divisor">Slope Divisor (d,
                          u64)</label>
                        <input class="wizard-field__input" type="text" id="emission-linear-slope-divisor"
                          placeholder="e.g., 1">
                      </div>
                      <div class="field-group">
                        <label class="wizard-field__label" for="emission-linear-start-step">Start Step (s, i64,
                          optional)</label>
                        <input class="wizard-field__input" type="text" id="emission-linear-start-step"
                          placeholder="None">
                        <span class="field-hint">Optional starting step value</span>
                      </div>
                      <div class="field-group">
                        <label class="wizard-field__label" for="emission-linear-starting-amount">Starting Amount (b,
                          i64)</label>
                        <input class="wizard-field__input" type="text" id="emission-linear-starting-amount"
                          placeholder="e.g., 100">
                      </div>
                      <div class="field-group">
                        <label class="wizard-field__label" for="emission-linear-min-value">Minimum Emission Value
                          (optional)</label>
                        <input class="wizard-field__input" type="text" id="emission-linear-min-value"
                          placeholder="None">
                        <span class="field-hint">Optional minimum emission value</span>
                      </div>
                      <div class="field-group">
                        <label class="wizard-field__label" for="emission-linear-max-value">Maximum Emission Value
                          (optional)</label>
                        <input class="wizard-field__input" type="text" id="emission-linear-max-value"
                          placeholder="None">
                        <span class="field-hint">Optional maximum emission value</span>
                      </div>
                    </div>

                    <!-- Random Option -->
                    <label class="wizard-choice">
                      <input class="wizard-choice__input" type="radio" name="emission-type" value="random"
                        data-toggle-panel="emission-panel-random">
                      <span class="wizard-choice__content">
                        <span class="wizard-choice__title">Random</span>
                        <span class="wizard-choice__hint">Random amount within a range (gamified rewards)</span>
                      </span>
                    </label>
                    <div class="distribution-inline-panel" id="emission-panel-random" hidden>
                      <div class="field-group">
                        <label class="wizard-field__label" for="emission-random-min">Minimum amount</label>
                        <input class="wizard-field__input" type="text" id="emission-random-min" placeholder="e.g., 50">
                      </div>
                      <div class="field-group">
                        <label class="wizard-field__label" for="emission-random-max">Maximum amount</label>
                        <input class="wizard-field__input" type="text" id="emission-random-max" placeholder="e.g., 150">
                        <span class="field-hint">Each release will be a random value between min and max</span>
                      </div>
                    </div>

                    <!-- Step Decreasing Option -->
                    <label class="wizard-choice">
                      <input class="wizard-choice__input" type="radio" name="emission-type" value="step-decreasing"
                        data-toggle-panel="emission-panel-step-decreasing">
                      <span class="wizard-choice__content">
                        <span class="wizard-choice__title">Step Decreasing</span>
                        <span class="wizard-choice__hint">Amount decreases in steps (like Bitcoin halving)</span>
                      </span>
                    </label>
                    <div class="distribution-inline-panel" id="emission-panel-step-decreasing" hidden>
                      <div class="field-group">
                        <label class="wizard-field__label" for="emission-step-count">Step Count</label>
                        <input class="wizard-field__input" type="number" id="emission-step-count" placeholder="e.g., 4"
                          min="1">
                        <span class="field-hint">Number of emissions before decreasing</span>
                      </div>
                      <div class="field-group">
                        <label class="wizard-field__label" for="emission-step-numerator">Decrease per Interval Numerator
                          (n &lt; 65,536)</label>
                        <input class="wizard-field__input" type="number" id="emission-step-numerator"
                          placeholder="e.g., 1" min="0" max="65535">
                      </div>
                      <div class="field-group">
                        <label class="wizard-field__label" for="emission-step-denominator">Decrease per Interval
                          Denominator (d &lt; 65,536)</label>
                        <input class="wizard-field__input" type="number" id="emission-step-denominator"
                          placeholder="e.g., 2" min="1" max="65535">
                        <span class="field-hint">1/2 = halving, 3/4 = 75% of previous, etc.</span>
                      </div>
                      <div class="field-group">
                        <label class="wizard-field__label" for="emission-step-offset">Start Period Offset (i64,
                          optional)</label>
                        <input class="wizard-field__input" type="text" id="emission-step-offset" placeholder="None">
                        <span class="field-hint">Optional starting period offset</span>
                      </div>
                      <div class="field-group">
                        <label class="wizard-field__label" for="emission-step-start">Initial Token Emission
                          Amount</label>
                        <input class="wizard-field__input" type="text" id="emission-step-start"
                          placeholder="e.g., 1000">
                      </div>
                      <div class="field-group">
                        <label class="wizard-field__label" for="emission-step-min-value">Minimum Emission Value
                          (optional)</label>
                        <input class="wizard-field__input" type="text" id="emission-step-min-value" placeholder="None">
                        <span class="field-hint">Optional minimum emission value</span>
                      </div>
                      <div class="field-group">
                        <label class="wizard-field__label" for="emission-step-max-interval">
                          Maximum Interval Count
                          <span style="color: var(--color-error); font-weight: 600;">⚠️ IMPORTANT</span>
                        </label>
                        <input class="wizard-field__input" type="number" id="emission-step-max-interval"
                          placeholder="128" min="1" max="1024" value="128">
                        <span class="field-hint" style="color: var(--color-warning);">
                          <strong>Maximum number of emission intervals (1-1024).</strong> After this many intervals, the
                          trailing amount is distributed perpetually. Defaults to 128 if not set. For Bitcoin-style
                          halving over 100+ years, set this to a higher value (e.g., 500).
                        </span>
                      </div>
                      <div class="field-group">
                        <label class="wizard-field__label" for="emission-step-trailing">Trailing Distribution Interval
                          Token Amount</label>
                        <input class="wizard-field__input" type="text" id="emission-step-trailing"
                          placeholder="e.g., 10">
                        <span class="field-hint">Final emission amount after all decreases</span>
                      </div>
                    </div>

                    <!-- Stepwise Option -->
                    <label class="wizard-choice">
                      <input class="wizard-choice__input" type="radio" name="emission-type" value="stepwise"
                        data-toggle-panel="emission-panel-stepwise">
                      <span class="wizard-choice__content">
                        <span class="wizard-choice__title">Stepwise</span>
                        <span class="wizard-choice__hint">Custom amounts at specific intervals</span>
                      </span>
                    </label>
                    <div class="distribution-inline-panel" id="emission-panel-stepwise" hidden>
                      <div id="stepwise-entries">
                        <div class="field-group stepwise-entry" data-entry-index="0">
                          <label class="wizard-field__label">
                            At interval <input class="wizard-field__input" type="number" name="stepwise-interval"
                              placeholder="0" min="0"
                              style="width: 120px; display: inline-block; margin: 0 var(--space-2);">
                            emit <input class="wizard-field__input" type="text" name="stepwise-amount"
                              placeholder="1000" style="width: 120px; display: inline-block; margin: 0 var(--space-2);">
                            tokens
                          </label>
                          <button class="wizard-button wizard-button--text wizard-button--sm" type="button"
                            data-remove-stepwise style="margin-left: var(--space-2);">Remove</button>
                        </div>
                      </div>
                      <button class="wizard-button wizard-button--secondary wizard-button--sm" type="button"
                        id="add-stepwise-entry" style="margin-top: var(--space-3);">+ Add Interval</button>
                      <span class="field-hint" style="display: block; margin-top: var(--space-2);">Define custom
                        emission amounts for specific intervals</span>
                    </div>

                    <!-- Polynomial Option -->
                    <label class="wizard-choice">
                      <input class="wizard-choice__input" type="radio" name="emission-type" value="polynomial"
                        data-toggle-panel="emission-panel-polynomial">
                      <span class="wizard-choice__content">
                        <span class="wizard-choice__title">Polynomial</span>
                        <span class="wizard-choice__hint">Complex polynomial curve (advanced)</span>
                      </span>
                    </label>
                    <div class="distribution-inline-panel" id="emission-panel-polynomial" hidden>
                      <div class="field-group">
                        <label class="wizard-field__label" for="emission-poly-a">Scaling Factor (a, { -255 ≤ a ≤ 256
                          })</label>
                        <input class="wizard-field__input" type="number" id="emission-poly-a" placeholder="e.g., 1"
                          min="-255" max="256">
                      </div>
                      <div class="field-group">
                        <label class="wizard-field__label" for="emission-poly-m">Exponent Numerator (m, { -8 ≤ m ≤ 8
                          })</label>
                        <input class="wizard-field__input" type="number" id="emission-poly-m" placeholder="e.g., 2"
                          min="-8" max="8">
                      </div>
                      <div class="field-group">
                        <label class="wizard-field__label" for="emission-poly-n">Exponent Denominator (n, { 0 &lt; n ≤
                          32 })</label>
                        <input class="wizard-field__input" type="number" id="emission-poly-n" placeholder="e.g., 1"
                          min="1" max="32">
                      </div>
                      <div class="field-group">
                        <label class="wizard-field__label" for="emission-poly-d">Divisor (d, u64)</label>
                        <input class="wizard-field__input" type="text" id="emission-poly-d" placeholder="e.g., 1">
                      </div>
                      <div class="field-group">
                        <label class="wizard-field__label" for="emission-poly-s">Start Period Offset (s, optional,
                          u64)</label>
                        <input class="wizard-field__input" type="text" id="emission-poly-s" placeholder="None">
                        <span class="field-hint">Optional starting period offset</span>
                      </div>
                      <div class="field-group">
                        <label class="wizard-field__label" for="emission-poly-o">Offset (o, i64)</label>
                        <input class="wizard-field__input" type="text" id="emission-poly-o" placeholder="e.g., 0">
                      </div>
                      <div class="field-group">
                        <label class="wizard-field__label" for="emission-poly-b">Initial Token Emission (b, u64)</label>
                        <input class="wizard-field__input" type="text" id="emission-poly-b" placeholder="e.g., 100">
                      </div>
                      <div class="field-group">
                        <label class="wizard-field__label" for="emission-poly-min-value">Minimum Emission Value
                          (optional, u64)</label>
                        <input class="wizard-field__input" type="text" id="emission-poly-min-value" placeholder="None">
                        <span class="field-hint">Optional minimum emission value</span>
                      </div>
                      <div class="field-group">
                        <label class="wizard-field__label" for="emission-poly-max-value">Maximum Emission Value
                          (optional, u64)</label>
                        <input class="wizard-field__input" type="text" id="emission-poly-max-value" placeholder="None">
                        <span class="field-hint">Optional maximum emission value</span>
                      </div>
                    </div>

                    <!-- Logarithmic Option -->
                    <label class="wizard-choice">
                      <input class="wizard-choice__input" type="radio" name="emission-type" value="logarithmic"
                        data-toggle-panel="emission-panel-logarithmic">
                      <span class="wizard-choice__content">
                        <span class="wizard-choice__title">Logarithmic</span>
                        <span class="wizard-choice__hint">Diminishing emission rate over time</span>
                      </span>
                    </label>
                    <div class="distribution-inline-panel" id="emission-panel-logarithmic" hidden>
                      <div class="field-group">
                        <label class="wizard-field__label" for="emission-log-a">Scaling Factor (a, i64, { -32_766 ≤ a ≤
                          32_767 })</label>
                        <input class="wizard-field__input" type="number" id="emission-log-a" placeholder="e.g., 100"
                          min="-32766" max="32767">
                      </div>
                      <div class="field-group">
                        <label class="wizard-field__label" for="emission-log-d">Divisor (d, u64)</label>
                        <input class="wizard-field__input" type="text" id="emission-log-d" placeholder="e.g., 1">
                      </div>
                      <div class="field-group">
                        <label class="wizard-field__label" for="emission-log-m">Exponent Numerator (m, u64)</label>
                        <input class="wizard-field__input" type="text" id="emission-log-m" placeholder="e.g., 1">
                      </div>
                      <div class="field-group">
                        <label class="wizard-field__label" for="emission-log-n">Exponent Denominator (n, u64)</label>
                        <input class="wizard-field__input" type="text" id="emission-log-n" placeholder="e.g., 1">
                      </div>
                      <div class="field-group">
                        <label class="wizard-field__label" for="emission-log-s">Start Period Offset (s, optional,
                          u64)</label>
                        <input class="wizard-field__input" type="text" id="emission-log-s" placeholder="None">
                        <span class="field-hint">Optional starting period offset</span>
                      </div>
                      <div class="field-group">
                        <label class="wizard-field__label" for="emission-log-o">Offset (o, i64)</label>
                        <input class="wizard-field__input" type="text" id="emission-log-o" placeholder="e.g., 0">
                      </div>
                      <div class="field-group">
                        <label class="wizard-field__label" for="emission-log-b">Base Amount (b, u64)</label>
                        <input class="wizard-field__input" type="text" id="emission-log-b" placeholder="e.g., 100">
                      </div>
                      <div class="field-group">
                        <label class="wizard-field__label" for="emission-log-min-value">Minimum Emission Value
                          (optional, u64)</label>
                        <input class="wizard-field__input" type="text" id="emission-log-min-value" placeholder="None">
                        <span class="field-hint">Optional minimum emission value</span>
                      </div>
                      <div class="field-group">
                        <label class="wizard-field__label" for="emission-log-max-value">Maximum Emission Value
                          (optional, u64)</label>
                        <input class="wizard-field__input" type="text" id="emission-log-max-value" placeholder="None">
                        <span class="field-hint">Optional maximum emission value</span>
                      </div>
                    </div>

                    <!-- Inverted Logarithmic Option -->
                    <label class="wizard-choice">
                      <input class="wizard-choice__input" type="radio" name="emission-type" value="inverted-logarithmic"
                        data-toggle-panel="emission-panel-inverted-logarithmic">
                      <span class="wizard-choice__content">
                        <span class="wizard-choice__title">Inverted Logarithmic</span>
                        <span class="wizard-choice__hint">Increasing emission rate that levels off</span>
                      </span>
                    </label>
                    <div class="distribution-inline-panel" id="emission-panel-inverted-logarithmic" hidden>
                      <div class="field-group">
                        <label class="wizard-field__label" for="emission-invlog-a">Scaling Factor (a, i64, { -32_766 ≤ a
                          ≤ 32_767 })</label>
                        <input class="wizard-field__input" type="number" id="emission-invlog-a" placeholder="e.g., 100"
                          min="-32766" max="32767">
                      </div>
                      <div class="field-group">
                        <label class="wizard-field__label" for="emission-invlog-d">Divisor (d, u64)</label>
                        <input class="wizard-field__input" type="text" id="emission-invlog-d" placeholder="e.g., 1">
                      </div>
                      <div class="field-group">
                        <label class="wizard-field__label" for="emission-invlog-m">Exponent Numerator (m, u64)</label>
                        <input class="wizard-field__input" type="text" id="emission-invlog-m" placeholder="e.g., 1">
                      </div>
                      <div class="field-group">
                        <label class="wizard-field__label" for="emission-invlog-n">Exponent Denominator (n, u64)</label>
                        <input class="wizard-field__input" type="text" id="emission-invlog-n" placeholder="e.g., 1">
                      </div>
                      <div class="field-group">
                        <label class="wizard-field__label" for="emission-invlog-s">Start Period Offset (s, optional,
                          u64)</label>
                        <input class="wizard-field__input" type="text" id="emission-invlog-s" placeholder="None">
                        <span class="field-hint">Optional starting period offset</span>
                      </div>
                      <div class="field-group">
                        <label class="wizard-field__label" for="emission-invlog-o">Offset (o, i64)</label>
                        <input class="wizard-field__input" type="text" id="emission-invlog-o" placeholder="e.g., 0">
                      </div>
                      <div class="field-group">
                        <label class="wizard-field__label" for="emission-invlog-b">Base Amount (b, u64)</label>
                        <input class="wizard-field__input" type="text" id="emission-invlog-b" placeholder="e.g., 100">
                      </div>
                      <div class="field-group">
                        <label class="wizard-field__label" for="emission-invlog-min-value">Minimum Emission Value
                          (optional, u64)</label>
                        <input class="wizard-field__input" type="text" id="emission-invlog-min-value"
                          placeholder="None">
                        <span class="field-hint">Optional minimum emission value</span>
                      </div>
                      <div class="field-group">
                        <label class="wizard-field__label" for="emission-invlog-max-value">Maximum Emission Value
                          (optional, u64)</label>
                        <input class="wizard-field__input" type="text" id="emission-invlog-max-value"
                          placeholder="None">
                        <span class="field-hint">Optional maximum emission value</span>
                      </div>
                    </div>
                  </fieldset>
                </div>
              </div>

              <!-- Distribution Recipient Section -->
              <div class="form-card">
                <div class="form-card__header">
                  <h3 class="form-card__title">Distribution Recipient</h3>
                  <p class="form-card__description">Choose who receives the distributed tokens</p>
                </div>
                <div class="form-card__body">
                  <fieldset class="wizard-fieldset">
                    <legend class="wizard-field__label">Recipient type</legend>

                    <!-- Contract Owner Option -->
                    <label class="wizard-choice">
                      <input class="wizard-choice__input" type="radio" name="recipient-type" value="contract-owner"
                        checked>
                      <span class="wizard-choice__content">
                        <span class="wizard-choice__title">Contract Owner</span>
                        <span class="wizard-choice__hint">Tokens go to the contract owner (you)</span>
                      </span>
                    </label>

                    <!-- Specific Identity Option -->
                    <label class="wizard-choice">
                      <input class="wizard-choice__input" type="radio" name="recipient-type" value="identity"
                        data-toggle-panel="recipient-panel-identity">
                      <span class="wizard-choice__content">
                        <span class="wizard-choice__title">Specific Identity</span>
                        <span class="wizard-choice__hint">Tokens go to a specific Dash Platform identity</span>
                      </span>
                    </label>
                    <div class="distribution-inline-panel" id="recipient-panel-identity" hidden>
                      <div class="field-group">
                        <label class="wizard-field__label" for="recipient-identity-id">Identity ID</label>
                        <input class="wizard-field__input" type="text" id="recipient-identity-id"
                          placeholder="Enter the Base58 ID">
                        <span class="field-hint">The Dash Platform identity that will receive tokens</span>
                      </div>
                    </div>

                    <!-- Evonodes by Participation Option (Epoch-only) -->
                    <label class="wizard-choice" id="recipient-evonodes-choice" hidden>
                      <input class="wizard-choice__input" type="radio" name="recipient-type"
                        value="evonodes-by-participation">
                      <span class="wizard-choice__content">
                        <span class="wizard-choice__title">Evonodes by Participation</span>
                        <span class="wizard-choice__hint">Distribute tokens to evonodes based on their participation
                          in the network (Epoch-based distribution only)</span>
                      </span>
                    </label>
                  </fieldset>
                </div>

                <p class="wizard-field__message" id="distribution-emission-message" role="status" aria-live="polite"></p>
                <div class="wizard-actions wizard-actions--between wizard-actions--sticky">
                  <button class="wizard-button wizard-button--secondary" type="button"
                    data-step-back="distribution-emission">← Back</button>
                  <button class="wizard-button wizard-button--secondary" type="button" id="contract-preview-btn">📄
                    Contract Preview</button>
                  <button class="wizard-button wizard-button--primary" id="distribution-emission-next" type="submit"
                    disabled>Continue →</button>
                </div>
            </form>
          </div>
        </section>

        <!-- Advanced: History Sub-step -->
        <section class="wizard-screen" id="screen-advanced-history" data-step="advanced" data-substep="advanced-history"
          data-tab="token" hidden>

          <!-- Right Side Guide Panel -->
          <aside class="page-guide" aria-label="Page guide" data-collapsed="false">
            <div class="page-guide__header">
              <div class="page-guide__tabs-horizontal">
                <button class="page-guide__tab page-guide__tab--info active" data-panel="info" aria-label="Show Information" aria-pressed="true">
                  Information
                </button>
                <button class="page-guide__tab page-guide__tab--guide" data-panel="guide" aria-label="Show User Guide" aria-pressed="false">
                  User Guide
                </button>
              </div>
              <button class="page-guide__collapse" aria-label="Collapse panel" aria-expanded="true">
                <svg class="page-guide__collapse-icon" width="16" height="16" viewBox="0 0 16 16" fill="none">
                  <path d="M6 12l4-4-4-4" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
              </button>
            </div>
            <div class="page-guide__panel page-guide__panel--info active" data-panel="info">
              <div class="page-guide__content">
              <h2 class="page-guide__title">History Tracking</h2>
              <p class="page-guide__intro">Configure which token operations are permanently recorded on Dash Platform for transparency, compliance, and auditability. All flags default to TRUE.</p>

              <div class="page-guide__section">
                <h3 class="page-guide__section-title">Quick Reference</h3>

                <h4 class="page-guide__step-heading" id="guide-what-is-history">What is History Tracking?</h4>
                <p><strong>What it is:</strong> History tracking creates permanent, queryable records of specific token operations stored directly on the blockchain. Each tracked operation includes timestamps, amounts, participants, and contextual data.</p>
                <p><strong>Why it matters:</strong> History tracking enables transparency, regulatory compliance, dispute resolution, and analytics. It allows token holders, auditors, and applications to query past events and verify the complete lifecycle of tokens.</p>
                <p><strong>Default behavior:</strong> All six history tracking flags default to TRUE, meaning all operations are tracked unless you explicitly disable specific types. This ensures maximum transparency by default.</p>
                <p><strong>Trade-off:</strong> More tracking provides better transparency and auditability but consumes more blockchain storage and increases transaction costs. Less tracking reduces costs and enhances privacy but limits forensic capabilities.</p>

                <h4 class="page-guide__step-heading" id="guide-what-can-be-tracked">Trackable Operations (6 Flags)</h4>
                <p><strong>1. Transfer History (keepsTransferHistory):</strong> Record when tokens move between addresses, including sender, receiver, amount, and timestamp. Supports encrypted notes for confidential transfer metadata (shared/private).</p>
                <p><strong>2. Freezing History (keepsFreezingHistory):</strong> Record when token balances are frozen or unfrozen, essential for compliance and security auditing.</p>
                <p><strong>3. Minting History (keepsMintingHistory):</strong> Record when new tokens are created, documenting supply expansion events with recipient and quantity details.</p>
                <p><strong>4. Burning History (keepsBurningHistory):</strong> Record when tokens are permanently destroyed, tracking supply reduction and the burning address.</p>
                <p><strong>5. Direct Pricing History (keepsDirectPricingHistory):</strong> Record when direct purchase pricing is modified, maintaining a historical price record for valuation analysis and marketplace transparency.</p>
                <p><strong>6. Direct Purchase History (keepsDirectPurchaseHistory):</strong> Record marketplace purchases where tokens are acquired directly from the contract owner (not peer-to-peer transfers).</p>

                <h4 class="page-guide__step-heading" id="guide-notes-support">Notes and Metadata</h4>
                <p><strong>Transfer notes:</strong> The transfer operation supports encrypted notes up to 2048 characters. These can be shared (encrypted for both sender and receiver) or private (sender-only).</p>
                <p><strong>Character limit:</strong> All notes fields across token transitions have a maximum length of 2048 characters. This limit applies system-wide to maintain storage efficiency.</p>
                <p><strong>Encryption capability:</strong> Notes use identity-based encryption, enabling confidential metadata exchange while maintaining privacy for sensitive transaction details.</p>

                <h4 class="page-guide__step-heading" id="guide-tracking-tradeoffs">Implementation Considerations</h4>
                <p><strong>Storage costs:</strong> Each tracked operation consumes blockchain storage. High-volume tokens should carefully select which operations to track to manage costs. Transfer tracking typically has the highest cost due to transaction frequency.</p>
                <p><strong>Privacy implications:</strong> History tracking makes operations permanently visible (though notes can be encrypted). Consider whether full transparency aligns with your token's privacy requirements.</p>
                <p><strong>Query performance:</strong> Tracked events are indexed and searchable, enabling efficient historical queries for wallets, explorers, and analytics tools.</p>
                <p><strong>Immutability:</strong> Once deployed, history tracking settings typically cannot be disabled (though they may be governable depending on your change control configuration). Choose carefully based on long-term requirements.</p>
                <p><strong>Token actions:</strong> Dash Platform supports 11 transition types (Burn, Mint, Transfer, Freeze, Unfreeze, Destroy Frozen Funds, Claim, Emergency Action, Config Update, Set Purchase Price, Purchase). History tracking determines which transitions are recorded.</p>
              </div>
            </div>
            </div>
            <div class="page-guide__panel page-guide__panel--guide" data-panel="guide" hidden>
              <div class="page-guide__content">
                <h2 class="page-guide__title">History</h2>
                <p class="page-guide__intro">Step-by-step guide to configuring history tracking for your token.</p>

                <div class="page-guide__section">
                  <h3 class="page-guide__section-title">Step 1: Select History Tracking Options</h3>
                  <p>Toggle on the operations you want to maintain a permanent, searchable record for:</p>
                  <ul class="page-guide__list">
                    <li><strong>Transfers:</strong> Track all token transfers between addresses for transparency and audit trails</li>
                    <li><strong>Freezes and Unfreezes:</strong> Track when balances are frozen or unfrozen for compliance and security records</li>
                    <li><strong>Mints:</strong> Track all token minting operations to maintain a complete supply creation record</li>
                    <li><strong>Burns:</strong> Track all token burning operations to document supply reduction events</li>
                    <li><strong>Direct Purchases:</strong> Track all direct token purchases for transaction records and revenue reporting</li>
                    <li><strong>Direct Pricing Changes:</strong> Track when token pricing is modified for marketplace transparency and historical valuation records</li>
                  </ul>
                </div>

                <div class="page-guide__section">
                  <h3 class="page-guide__section-title">Step 2: Verify and Continue</h3>
                  <p>Review your history tracking selections and proceed to the next configuration tab.</p>
                </div>
              </div>
            </div>
          </aside>

          <div class="wizard-screen__inner">
            <form class="wizard-form" id="advanced-history-form" novalidate>
              <h1 class="wizard-screen__title" id="title-advanced-history" tabindex="-1">What history would you like to
                track?</h1>
              <p class="wizard-screen__subtitle">Enable queryable history tracking for specific token operations.</p>

              <!-- History Tracking Card -->
              <div class="form-card">
                <div class="form-card__header">
                  <h3 class="form-card__title">History Tracking Options</h3>
                  <p class="form-card__description">Choose which operations to maintain a permanent, searchable record
                    for</p>
                </div>
                <div class="form-card__body">
                  <div class="field-group" style="margin-bottom: var(--space-4);">
                    <label class="wizard-checkbox" for="history-transfers">
                      <input class="wizard-checkbox__input" type="checkbox" id="history-transfers"
                        name="history-transfers">
                      <span class="wizard-checkbox__label">
                        <span class="wizard-checkbox__title">Would you like to keep a queryable history of
                          transfers?</span>
                        <span class="wizard-checkbox__hint">Track all token transfers between addresses for transparency
                          and audit trails</span>
                      </span>
                    </label>
                    <button type="button" class="help-icon" data-help="history-transfers" data-guide-target="guide-what-can-be-tracked" aria-label="Help: Track Transfer History" tabindex="0">
                      <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
                        <circle cx="8" cy="8" r="7" stroke="currentColor" stroke-width="2"/>
                        <path d="M8 7v4M8 4.5h.01" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                      </svg>
                    </button>
                  </div>

                  <div class="field-group" style="margin-bottom: var(--space-4);">
                    <label class="wizard-checkbox" for="history-freezes">
                      <input class="wizard-checkbox__input" type="checkbox" id="history-freezes" name="history-freezes">
                      <span class="wizard-checkbox__label">
                        <span class="wizard-checkbox__title">Would you like to keep a queryable history of freezes and
                          unfreezes?</span>
                        <span class="wizard-checkbox__hint">Track when token balances are frozen or unfrozen for
                          compliance and security records</span>
                      </span>
                    </label>
                    <button type="button" class="help-icon" data-help="history-freezes" data-guide-target="guide-what-can-be-tracked" aria-label="Help: Track Freeze History" tabindex="0">
                      <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
                        <circle cx="8" cy="8" r="7" stroke="currentColor" stroke-width="2"/>
                        <path d="M8 7v4M8 4.5h.01" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                      </svg>
                    </button>
                  </div>

                  <div class="field-group" style="margin-bottom: var(--space-4);">
                    <label class="wizard-checkbox" for="history-mints">
                      <input class="wizard-checkbox__input" type="checkbox" id="history-mints" name="history-mints">
                      <span class="wizard-checkbox__label">
                        <span class="wizard-checkbox__title">Would you like to keep a queryable history of mints?</span>
                        <span class="wizard-checkbox__hint">Track all token minting operations to maintain a complete
                          supply creation record</span>
                      </span>
                    </label>
                    <button type="button" class="help-icon" data-help="history-mints" data-guide-target="guide-what-can-be-tracked" aria-label="Help: Track Mint History" tabindex="0">
                      <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
                        <circle cx="8" cy="8" r="7" stroke="currentColor" stroke-width="2"/>
                        <path d="M8 7v4M8 4.5h.01" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                      </svg>
                    </button>
                  </div>

                  <div class="field-group" style="margin-bottom: var(--space-4);">
                    <label class="wizard-checkbox" for="history-burns">
                      <input class="wizard-checkbox__input" type="checkbox" id="history-burns" name="history-burns">
                      <span class="wizard-checkbox__label">
                        <span class="wizard-checkbox__title">Would you like to keep a queryable history of burns?</span>
                        <span class="wizard-checkbox__hint">Track all token burning operations to document supply
                          reduction events</span>
                      </span>
                    </label>
                    <button type="button" class="help-icon" data-help="history-burns" data-guide-target="guide-what-can-be-tracked" aria-label="Help: Track Burn History" tabindex="0">
                      <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
                        <circle cx="8" cy="8" r="7" stroke="currentColor" stroke-width="2"/>
                        <path d="M8 7v4M8 4.5h.01" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                      </svg>
                    </button>
                  </div>

                  <div class="field-group" style="margin-bottom: var(--space-4);">
                    <label class="wizard-checkbox" for="history-purchases">
                      <input class="wizard-checkbox__input" type="checkbox" id="history-purchases"
                        name="history-purchases">
                      <span class="wizard-checkbox__label">
                        <span class="wizard-checkbox__title">Would you like to keep a queryable history of direct
                          purchases?</span>
                        <span class="wizard-checkbox__hint">Track all direct token purchases for transaction records and
                          revenue reporting</span>
                      </span>
                    </label>
                    <button type="button" class="help-icon" data-help="history-purchases" data-guide-target="guide-what-can-be-tracked" aria-label="Help: Track Purchase History" tabindex="0">
                      <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
                        <circle cx="8" cy="8" r="7" stroke="currentColor" stroke-width="2"/>
                        <path d="M8 7v4M8 4.5h.01" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                      </svg>
                    </button>
                  </div>

                  <div class="field-group">
                    <label class="wizard-checkbox" for="history-direct-pricing">
                      <input class="wizard-checkbox__input" type="checkbox" id="history-direct-pricing"
                        name="history-direct-pricing">
                      <span class="wizard-checkbox__label">
                        <span class="wizard-checkbox__title">Would you like to keep a queryable history of direct pricing
                          changes?</span>
                        <span class="wizard-checkbox__hint">Track when token pricing is modified for marketplace
                          transparency and historical valuation records</span>
                      </span>
                    </label>
                    <button type="button" class="help-icon" data-help="history-pricing" data-guide-target="guide-what-can-be-tracked" aria-label="Help: Track Pricing History" tabindex="0">
                      <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
                        <circle cx="8" cy="8" r="7" stroke="currentColor" stroke-width="2"/>
                        <path d="M8 7v4M8 4.5h.01" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                      </svg>
                    </button>
                  </div>
                </div>

                <p class="wizard-field__message" id="advanced-history-message" role="status" aria-live="polite"></p>
                <div class="wizard-actions wizard-actions--between wizard-actions--sticky">
                  <button class="wizard-button wizard-button--secondary" type="button" data-step-back="advanced">←
                    Back</button>
                  <button class="wizard-button wizard-button--secondary" type="button" id="contract-preview-btn">📄
                    Contract Preview</button>
                  <button class="wizard-button wizard-button--primary" id="advanced-history-next" type="submit">Continue
                    →</button>
                </div>
            </form>
          </div>
        </section>

        <!-- Advanced: Trading Rules Sub-step -->
        <section class="wizard-screen" id="screen-advanced" data-step="advanced" data-substep="advanced"
          data-tab="token" hidden>

          <!-- Right Side Guide Panel -->
          <aside class="page-guide" aria-label="Page guide" data-collapsed="false">
            <div class="page-guide__header">
              <div class="page-guide__tabs-horizontal">
                <button class="page-guide__tab page-guide__tab--info active" data-panel="info" aria-label="Show Information" aria-pressed="true">
                  Information
                </button>
                <button class="page-guide__tab page-guide__tab--guide" data-panel="guide" aria-label="Show User Guide" aria-pressed="false">
                  User Guide
                </button>
              </div>
              <button class="page-guide__collapse" aria-label="Collapse panel" aria-expanded="true">
                <svg class="page-guide__collapse-icon" width="16" height="16" viewBox="0 0 16 16" fill="none">
                  <path d="M6 12l4-4-4-4" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
              </button>
            </div>
            <div class="page-guide__panel page-guide__panel--info active" data-panel="info">
              <div class="page-guide__content">
              <h2 class="page-guide__title">Trading & Marketplace</h2>
              <p class="page-guide__intro">Configure trading permissions and advanced platform settings for your token. Marketplace trading is currently disabled - NotTradeable is the only available mode.</p>

              <div class="page-guide__section">
                <h3 class="page-guide__section-title">Quick Reference</h3>

                <h4 class="page-guide__step-heading" id="guide-marketplace-trade-mode">Current Status: NotTradeable (Only Mode Available)</h4>
                <p><strong>What it means:</strong> Dash Platform's native token marketplace functionality is not yet activated. All tokens must be deployed with "NotTradeable" mode - this is not a choice but the current platform requirement. There are no other trade mode options available at this time.</p>
                <p><strong>Why it matters:</strong> While marketplace trading is disabled, tokens retain full operational capability for peer-to-peer transfers, minting, burning, freezing, and all configured permissions. "NotTradeable" only affects decentralized exchange functionality (order books, price discovery, marketplace trading) - not basic token operations.</p>
                <p><strong>What still works:</strong> Peer-to-peer transfers (user-to-user), direct purchases from contract owner (if enabled), all governance and permission features, distribution schedules, and freeze/mint/burn operations.</p>
                <p><strong>Future activation:</strong> When marketplace functionality launches, additional trade modes will become available (permissionless trading, committee-approved trading, and customizable marketplace rules). Your token's change control settings will determine whether it can upgrade to marketplace trading.</p>

                <h4 class="page-guide__step-heading" id="guide-direct-purchase-model">Direct Purchase Model (Available Now)</h4>
                <p><strong>What it is:</strong> The contract owner can set tiered pricing and users can purchase tokens directly from the contract at fixed rates. This is distinct from marketplace trading and is available regardless of the NotTradeable status.</p>
                <p><strong>How it works:</strong> The owner configures price tiers (e.g., 1-100 tokens at X price, 101-1000 at Y price) and users execute purchase transactions to buy tokens at the specified rates. This is a direct sale model, not a peer-to-peer marketplace.</p>
                <p><strong>Use cases:</strong> Initial token sales, fundraising, on-demand token distribution, tiered pricing models, and controlled token acquisition outside of peer-to-peer transfers.</p>
                <p><strong>History tracking:</strong> Direct purchase and pricing change history can be tracked (see History Tracking configuration) for transparency and revenue reporting.</p>

                <h4 class="page-guide__step-heading" id="guide-encryption-bounded-key">Identity Bounded Key Requirements</h4>
                <p><strong>What they are:</strong> Optional advanced settings that specify storage key requirements for identity-based encryption and decryption operations within the token contract. These are numeric codes (0-255) that reference specific key types in Dash Platform's identity system.</p>
                <p><strong>Why they matter:</strong> Identity bounded keys enable advanced privacy features, allowing token operations to be encrypted/decrypted using specific keys from user identities. This enables confidential transfers, private metadata, and identity-based access control.</p>
                <p><strong>When to use:</strong> Most token creators should leave these fields empty. Only specify bounded key requirements if you're implementing advanced privacy features that require identity-based encryption/decryption at the contract level.</p>
                <p><strong>Technical detail:</strong> These map to Dash Platform's StorageKeyRequirements type. Encryption bounded keys validate that users have appropriate encryption keys, while decryption bounded keys validate decryption capability.</p>

                <h4 class="page-guide__step-heading" id="guide-sized-integer-types">Sized Integer Types</h4>
                <p><strong>What it is:</strong> A platform-level setting that determines whether the token contract uses sized integer types (u8, u16, u32, u64, u128) or unsized integer types in its data structures.</p>
                <p><strong>Why it matters:</strong> Sized integer types provide explicit bit-width specifications, improving compatibility, predictability, and reducing ambiguity in cross-platform integrations. They ensure consistent numeric representation across different implementations.</p>
                <p><strong>Recommendation:</strong> Keep this enabled (checked). Sized integer types are the recommended default for new tokens, providing better type safety and clearer contract semantics.</p>
                <p><strong>When to disable:</strong> Only disable if you have specific technical requirements for unsized integers or are integrating with legacy systems that expect unsized types.</p>
              </div>
            </div>
            </div>
            <div class="page-guide__panel page-guide__panel--guide" data-panel="guide" hidden>
              <div class="page-guide__content">
                <h2 class="page-guide__title">Trading & Marketplace</h2>
                <p class="page-guide__intro">Step-by-step guide to configuring trading and marketplace settings.</p>

                <div class="page-guide__section">
                  <h3 class="page-guide__section-title">Step 1: Review Trading Status</h3>
                  <p>Note that marketplace trading is currently disabled on Dash Platform. All tokens are deployed as "Not Tradeable" until the feature launches in a future release.</p>
                </div>

                <div class="page-guide__section">
                  <h3 class="page-guide__section-title">Step 2: Configure Identity Bounded Key Requirements (optional, advanced)</h3>
                  <p>If needed, enter optional numeric codes (0-255) for:</p>
                  <ul class="page-guide__list">
                    <li><strong>Encryption bounded key requirement:</strong> Storage key requirement for identity encryption</li>
                    <li><strong>Decryption bounded key requirement:</strong> Storage key requirement for identity decryption</li>
                  </ul>
                  <p>Leave blank if not using these advanced features.</p>
                </div>

                <div class="page-guide__section">
                  <h3 class="page-guide__section-title">Step 3: Set Integer Types</h3>
                  <p>Toggle "Use sized integer types" on to use sized types in the contract (recommended). Leave off to use default integer types.</p>
                </div>

                <div class="page-guide__section">
                  <h3 class="page-guide__section-title">Step 4: Verify and Continue</h3>
                  <p>Review your advanced contract settings and proceed to the final configuration step or deployment.</p>
                </div>
              </div>
            </div>
          </aside>

          <div class="wizard-screen__inner">
            <form class="wizard-form" id="advanced-form" novalidate>
              <h1 class="wizard-screen__title" id="title-advanced" tabindex="-1">Marketplace trading is coming soon
              </h1>
              <p class="wizard-screen__subtitle">Dash Platform hasn't enabled token trading yet, so every token created
                with this wizard is deployed as Not Tradeable until the feature launches.</p>

              <!-- Trading Rules Card -->
              <div class="form-card">
                <div class="form-card__header">
                  <h3 class="form-card__title">Trading Permissions</h3>
                  <p class="form-card__description">Control who can transfer and trade your token</p>
                </div>
                <div class="form-card__body">
                  <fieldset class="wizard-fieldset">
                    <legend class="wizard-field__label">
                      Marketplace trade mode
                      <button type="button" class="help-icon" data-help="trade-mode" data-guide-target="guide-marketplace-trade-mode" aria-label="Help: Marketplace Trade Mode" tabindex="0">
                        <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
                          <circle cx="8" cy="8" r="7" stroke="currentColor" stroke-width="2"/>
                          <path d="M8 7v4M8 4.5h.01" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                        </svg>
                      </button>
                    </legend>
                    <p class="wizard-field__hint">Trading on Dash Platform is currently disabled. Tokens deployed now
                      are locked to Not Tradeable.</p>
                    <label class="wizard-choice">
                      <input class="wizard-choice__input" type="radio" name="trade-mode" id="advanced-trade-mode-closed"
                        value="closed" checked disabled>
                      <span class="wizard-choice__content">
                        <span class="wizard-choice__title">Not Tradeable (current default)</span>
                        <span class="wizard-choice__hint">Trading will be enabled in a future Dash Platform
                          release</span>
                      </span>
                    </label>
                    <p class="wizard-field__hint">We'll add additional trade modes once marketplace support is live.
                    </p>
                  </fieldset>
                  <input type="hidden" id="advanced-trade-mode" name="advanced-trade-mode" value="closed">
                </div>
              </div>

              <!-- Advanced Contract Settings Card -->
              <div class="form-card">
                <div class="form-card__header">
                  <h3 class="form-card__title">Advanced Contract Settings</h3>
                  <p class="form-card__description">Configure optional platform-level contract requirements</p>
                </div>
                <div class="form-card__body">
                  <fieldset class="wizard-fieldset">
                    <legend class="wizard-field__label">Identity Bounded Key Requirements</legend>
                    <p class="wizard-subsection__body" style="margin-bottom: var(--space-4);">Specify storage key requirements for identity encryption/decryption (advanced users only)</p>

                    <div class="field-group">
                      <label class="wizard-field__label with-help" for="encryption-bounded-key">Encryption bounded key requirement (StorageKeyRequirements u8)
                        <button type="button" class="help-icon" data-help="encryption-bounded-key" data-guide-target="guide-encryption-bounded-key" aria-label="Help: Encryption Bounded Key" tabindex="0">
                          <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
                            <circle cx="8" cy="8" r="7" stroke="currentColor" stroke-width="2"/>
                            <path d="M8 7v4M8 4.5h.01" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                          </svg>
                        </button>
                      </label>
                      <input class="wizard-field__input" type="number" id="encryption-bounded-key" min="0" max="255" placeholder="Leave empty for none">
                      <span class="field-hint">Optional numeric code (0-255) for identity encryption bounded key requirement</span>
                    </div>

                    <div class="field-group">
                      <label class="wizard-field__label with-help" for="decryption-bounded-key">Decryption bounded key requirement (StorageKeyRequirements u8)
                        <button type="button" class="help-icon" data-help="decryption-bounded-key" data-guide-target="guide-decryption-bounded-key" aria-label="Help: Decryption Bounded Key" tabindex="0">
                          <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
                            <circle cx="8" cy="8" r="7" stroke="currentColor" stroke-width="2"/>
                            <path d="M8 7v4M8 4.5h.01" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                          </svg>
                        </button>
                      </label>
                      <input class="wizard-field__input" type="number" id="decryption-bounded-key" min="0" max="255" placeholder="Leave empty for none">
                      <span class="field-hint">Optional numeric code (0-255) for identity decryption bounded key requirement</span>
                    </div>
                  </fieldset>

                  <fieldset class="wizard-fieldset" style="margin-top: var(--space-6);">
                    <legend class="wizard-field__label with-help">Integer Types
                      <button type="button" class="help-icon" data-help="sized-integer-types" data-guide-target="guide-sized-integer-types" aria-label="Help: Sized Integer Types" tabindex="0">
                        <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
                          <circle cx="8" cy="8" r="7" stroke="currentColor" stroke-width="2"/>
                          <path d="M8 7v4M8 4.5h.01" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                        </svg>
                      </button>
                    </legend>
                    <div class="field-group">
                      <label class="wizard-checkbox" for="sized-integer-types">
                        <input class="wizard-checkbox__input" type="checkbox" id="sized-integer-types" checked>
                        <span class="wizard-checkbox__label">Use sized integer types</span>
                      </label>
                      <span class="field-hint">When enabled, integers in the contract will use sized types (recommended)</span>
                    </div>
                  </fieldset>
                </div>

                <p class="wizard-field__message" id="advanced-message" role="status" aria-live="polite"></p>
                <div class="wizard-actions wizard-actions--between wizard-actions--sticky">
                  <button class="wizard-button wizard-button--secondary" type="button" data-step-back="advanced">←
                    Back</button>
                  <button class="wizard-button wizard-button--secondary" type="button" id="contract-preview-btn">📄
                    Contract Preview</button>
                  <button class="wizard-button wizard-button--primary" id="advanced-next" type="submit">Continue
                    →</button>
                </div>
            </form>
          </div>
        </section>

        <!-- Advanced: Launch Settings Sub-step -->
        <section class="wizard-screen" id="screen-advanced-launch" data-step="advanced" data-substep="advanced-launch"
          data-tab="token" hidden>

          <!-- Right Side Guide Panel -->
          <aside class="page-guide" aria-label="Page guide" data-collapsed="false">
            <div class="page-guide__header">
              <div class="page-guide__tabs-horizontal">
                <button class="page-guide__tab page-guide__tab--info active" data-panel="info" aria-label="Show Information" aria-pressed="true">
                  Information
                </button>
                <button class="page-guide__tab page-guide__tab--guide" data-panel="guide" aria-label="Show User Guide" aria-pressed="false">
                  User Guide
                </button>
              </div>
              <button class="page-guide__collapse" aria-label="Collapse panel" aria-expanded="true">
                <svg class="page-guide__collapse-icon" width="16" height="16" viewBox="0 0 16 16" fill="none">
                  <path d="M6 12l4-4-4-4" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
              </button>
            </div>
            <div class="page-guide__panel page-guide__panel--info active" data-panel="info">
              <div class="page-guide__content">
              <h2 class="page-guide__title">Launch Settings</h2>
              <p class="page-guide__intro">Configure your token's initial deployment state and operational behavior at launch. These settings determine how your token behaves from the moment it's deployed.</p>

              <div class="page-guide__section">
                <h3 class="page-guide__section-title">Quick Reference</h3>

                <h4 class="page-guide__step-heading" id="guide-start-as-paused">Start as Paused (startAsPaused)</h4>
                <p><strong>What it is:</strong> A boolean launch option (default: false) that deploys your token in a paused (inactive) state where all operations are prevented until you manually unpause it. When paused, all token transfers, minting, burning, freezes, and other operations are blocked.</p>
                <p><strong>Default behavior:</strong> By default, tokens launch in active (unpaused) state and are immediately operational. You must explicitly enable "Start as Paused" to launch in paused state.</p>
                <p><strong>Why it matters:</strong> Starting paused provides a safety window between deployment and activation. You can verify the deployment succeeded, test configurations, coordinate with partners, and prepare infrastructure before enabling token operations. This is particularly valuable for high-stakes launches.</p>
                <p><strong>When to use it:</strong></p>
                <ul class="page-guide__list">
                  <li><strong>Coordinated launches:</strong> When you need to synchronize token activation with announcements, marketing campaigns, or partner integrations</li>
                  <li><strong>Pre-launch verification:</strong> To verify deployment settings, test integrations, and confirm everything is correct before allowing operations</li>
                  <li><strong>Staged rollouts:</strong> When planning a phased launch with testing periods before full public access</li>
                  <li><strong>High-value tokens:</strong> For security-sensitive or regulated tokens where extra caution is warranted</li>
                  <li><strong>Distribution coordination:</strong> When you need to coordinate token activation with distribution schedules or emission timing</li>
                </ul>
                <p><strong>How it works:</strong> When enabled, your token contract deploys with the pause flag set to true. All token operations fail until an authorized identity (typically the token owner) submits an unpause transaction. Once unpaused, the token operates normally according to its configured rules.</p>
                <p><strong>Important:</strong> Ensure you have configured who can unpause the token (typically set through change control permissions). Without unpause authority, a paused token remains permanently inactive.</p>

                <h4 class="page-guide__step-heading" id="guide-unpausing-control">Unpausing Authority</h4>
                <p><strong>Who can unpause:</strong> The authority to unpause a token is determined by your change control configuration. Typically, the token owner or a designated pause-control identity has unpause permissions.</p>
                <p><strong>Governance considerations:</strong> For tokens with community governance, consider whether unpausing should require owner action, committee approval, or multi-signature authorization. Configure appropriate change control settings to match your governance model.</p>
                <p><strong>Emergency unpause:</strong> Plan for contingencies. If the unpause authority is lost or compromised, understand your token's governance mechanisms for recovery or emergency action.</p>

                <h4 class="page-guide__step-heading" id="guide-allow-transfer-to-frozen">Allow Transfer to Frozen Balance (allowTransferToFrozenBalance)</h4>
                <p><strong>What it is:</strong> A boolean parameter that determines whether tokens can be transferred TO frozen addresses. This is distinct from transferring FROM frozen addresses (which is always blocked when an address is frozen).</p>
                <p><strong>Default behavior:</strong> The default value depends on your token configuration. Check official Dash Platform documentation for the current default.</p>
                <p><strong>When enabled (true):</strong> Users can send tokens TO addresses that have been frozen. The frozen address can receive tokens but still cannot send tokens or perform other operations. This allows frozen accounts to accumulate tokens during the freeze period.</p>
                <p><strong>When disabled (false):</strong> Transfers TO frozen addresses are blocked. Frozen accounts cannot receive or send tokens, effectively isolating them from all token activity.</p>
                <p><strong>Use cases for enabling:</strong></p>
                <ul class="page-guide__list">
                  <li>Compliance scenarios where frozen accounts should still receive dividend payments or distributions</li>
                  <li>Partial suspension where you want to prevent an account from sending tokens but allow them to receive</li>
                  <li>Recovery scenarios where tokens need to be returned to a frozen address</li>
                </ul>
                <p><strong>Use cases for disabling:</strong></p>
                <ul class="page-guide__list">
                  <li>Complete account isolation for regulatory freezes or sanctions</li>
                  <li>Preventing any token activity involving frozen addresses</li>
                  <li>Maximum security for compromised or suspicious accounts</li>
                </ul>
                <p><strong>Note:</strong> This parameter is currently not exposed in the wizard UI but can be configured via direct contract JSON editing. Consult Dash Platform documentation for implementation details.</p>

                <h4 class="page-guide__step-heading" id="guide-launch-implications">Launch State Implications</h4>
                <p><strong>Paused state behavior:</strong> When paused, all token operations are blocked including transfers, mints, burns, freezes, and marketplace activity. The token effectively exists but is inactive until unpaused.</p>
                <p><strong>Active state behavior:</strong> When launched unpaused (or after unpausing), the token operates according to its configured permissions, distributions, and governance rules. Operations proceed normally based on user authorizations.</p>
                <p><strong>Distribution coordination:</strong> If your token has automatic distribution schedules, consider how launch state affects initial distributions. Some tokens launch paused to prevent premature distribution, then unpause when ready.</p>
                <p><strong>Frozen account behavior:</strong> The allowTransferToFrozenBalance setting affects how frozen accounts interact with the token ecosystem. Plan this based on your compliance and security requirements.</p>
                <p><strong>Communication plan:</strong> If launching paused, ensure token holders and ecosystem partners understand the token's status and when activation is planned. Clear communication prevents confusion.</p>
              </div>
            </div>
            </div>
            <div class="page-guide__panel page-guide__panel--guide" data-panel="guide" hidden>
              <div class="page-guide__content">
                <h2 class="page-guide__title">Launch Settings</h2>
                <p class="page-guide__intro">Step-by-step guide to configuring your token's launch state.</p>

                <div class="page-guide__section">
                  <h3 class="page-guide__section-title">Step 1: Choose Initial State</h3>
                  <p>Toggle "Start as paused" on if you want the token to launch in a blocked state where no operations (transfers, minting, burning, or account updates) can occur until manually unpaused. Leave off to launch the token in an active state.</p>
                </div>

                <div class="page-guide__section">
                  <h3 class="page-guide__section-title">Step 2: Understand Paused State Benefits</h3>
                  <p>If paused, this provides extra security by allowing you to review and validate all settings before the token becomes active. Only you (or the designated emergency action holder) can unpause the contract.</p>
                </div>

                <div class="page-guide__section">
                  <h3 class="page-guide__section-title">Step 3: Verify and Continue</h3>
                  <p>Confirm your initial state selection and proceed to deploy your token or review the final configuration summary.</p>
                </div>
              </div>
            </div>
          </aside>

          <div class="wizard-screen__inner">
            <form class="wizard-form" id="advanced-launch-form" novalidate>
              <h1 class="wizard-screen__title" id="title-advanced-launch" tabindex="-1">How should your token launch?
              </h1>
              <p class="wizard-screen__subtitle">Configure the initial state of your token when it's deployed.</p>

              <!-- Launch Settings Card -->
              <div class="form-card">
                <div class="form-card__header">
                  <h3 class="form-card__title">Initial State</h3>
                  <p class="form-card__description">Control whether your token starts active or paused</p>
                </div>
                <div class="form-card__body">
                  <div class="field-group">
                    <label class="wizard-checkbox" for="permissions-start-paused">
                      <input class="wizard-checkbox__input" type="checkbox" id="permissions-start-paused"
                        name="permissions-start-paused">
                      <span class="wizard-checkbox__label">
                        Start as paused
                      </span>
                    </label>
                    <button type="button" class="help-icon" data-help="start-paused" data-guide-target="guide-start-as-paused" aria-label="Help: Start As Paused" tabindex="0">
                      <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
                        <circle cx="8" cy="8" r="7" stroke="currentColor" stroke-width="2"/>
                        <path d="M8 7v4M8 4.5h.01" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                      </svg>
                    </button>
                    <span class="field-hint" style="margin-top: 0.5rem; display: block;">By enabling 'Start as Paused',
                      your token enters a blocked state from the moment it is created. In that state, no
                      operations—including transfers, minting, burning or account updates—can occur until you (or the
                      designated pause-key holder) decide to unpause the contract. This extra layer of control adds
                      security, giving you the chance to review and validate all settings before the token becomes
                      active.</span>
                  </div>
                </div>

                <p class="wizard-field__message" id="advanced-launch-message" role="status" aria-live="polite"></p>
                <div class="wizard-actions wizard-actions--between wizard-actions--sticky">
                  <button class="wizard-button wizard-button--secondary" type="button" data-step-back="advanced">←
                    Back</button>
                  <button class="wizard-button wizard-button--secondary" type="button" id="contract-preview-btn">📄
                    Contract Preview</button>
                  <button class="wizard-button wizard-button--primary" id="advanced-launch-next" type="submit">Continue
                    →</button>
                </div>
            </form>
          </div>
        </section>

        <!-- Review Screen -->
        <section class="wizard-screen" id="screen-review" data-step="review" data-tab="token" hidden>

          <!-- Right Side Guide Panel -->
          <aside class="page-guide" aria-label="Page guide" data-collapsed="false">
            <div class="page-guide__header">
              <div class="page-guide__tabs-horizontal">
                <button class="page-guide__tab page-guide__tab--info active" data-panel="info" aria-label="Show Information" aria-pressed="true">
                  Information
                </button>
                <button class="page-guide__tab page-guide__tab--guide" data-panel="guide" aria-label="Show User Guide" aria-pressed="false">
                  User Guide
                </button>
              </div>
              <button class="page-guide__collapse" aria-label="Collapse panel" aria-expanded="true">
                <svg class="page-guide__collapse-icon" width="16" height="16" viewBox="0 0 16 16" fill="none">
                  <path d="M6 12l4-4-4-4" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
              </button>
            </div>
            <div class="page-guide__panel page-guide__panel--info active" data-panel="info">
              <div class="page-guide__content">
              <h2 class="page-guide__title">Review & Verify</h2>
              <p class="page-guide__intro">Carefully review all settings before deployment. Some settings cannot be
                changed later.</p>

              <div class="page-guide__section">
                <h3 class="page-guide__section-title">What to Check</h3>
                <ol class="page-guide__steps">
                  <li>
                    <strong>Verify Token Details</strong>
                    <p>Double-check name, symbol, and supply amounts.</p>
                  </li>
                  <li>
                    <strong>Review Permissions</strong>
                    <p>Confirm who can mint, burn, and freeze tokens.</p>
                  </li>
                  <li>
                    <strong>Check Distribution</strong>
                    <p>Verify emission schedule and recipients if enabled.</p>
                  </li>
                </ol>
              </div>

              <div class="page-guide__tip">
                <strong>⚠️ Important</strong>
                Settings marked as "Permanent" cannot be changed after deployment. Review them carefully.
              </div>
            </div>
            </div>
            <div class="page-guide__panel page-guide__panel--guide" data-panel="guide" hidden>
              <div class="page-guide__content">
                <h2 class="page-guide__title">Review & Verify - Complete Guide</h2>
                <p class="page-guide__intro">Comprehensive step-by-step guidance with examples and best practices.</p>

                <div class="page-guide__section">
                  <h3 class="page-guide__section-title">Overview</h3>
                  <p>This guide will help you understand and configure review & verify settings for your token.</p>
                  <p><strong>What you'll learn:</strong></p>
                  <ul class="page-guide__list">
                    <li>Key concepts and terminology</li>
                    <li>Common use cases and examples</li>
                    <li>Best practices and recommendations</li>
                    <li>Potential pitfalls to avoid</li>
                  </ul>
                </div>

                <div class="page-guide__section">
                  <h3 class="page-guide__section-title">Step-by-Step Instructions</h3>
                  <p>Follow these steps to properly configure this section:</p>
                  <ol class="page-guide__list">
                    <li><strong>Review your requirements:</strong> Understand what you need for your token project</li>
                    <li><strong>Choose appropriate settings:</strong> Select options that match your use case</li>
                    <li><strong>Configure governance:</strong> Set up who can modify these settings later</li>
                    <li><strong>Verify your choices:</strong> Double-check before proceeding to the next step</li>
                  </ol>
                </div>

                <div class="page-guide__section">
                  <h3 class="page-guide__section-title">Common Examples</h3>
                  <p><strong>Example 1: Public Token</strong></p>
                  <p>For a publicly traded token with community governance...</p>

                  <p><strong>Example 2: Private Token</strong></p>
                  <p>For an internal company token or closed ecosystem...</p>

                  <p><strong>Example 3: Reward Token</strong></p>
                  <p>For a token used in a rewards or loyalty program...</p>
                </div>

                <div class="page-guide__section">
                  <h3 class="page-guide__section-title">Best Practices</h3>
                  <ul class="page-guide__list">
                    <li><strong>Start conservative:</strong> You can always enable features later with proper governance</li>
                    <li><strong>Document your choices:</strong> Keep notes about why you made certain decisions</li>
                    <li><strong>Test thoroughly:</strong> Use testnet first before deploying to mainnet</li>
                    <li><strong>Plan for governance:</strong> Think about who should control what in the future</li>
                  </ul>
                </div>
              </div>
            </div>
          </aside>

          <div class="wizard-screen__inner">
            <h1 class="wizard-screen__title" id="title-review" tabindex="-1">Review Your Token Configuration</h1>
            <p class="wizard-screen__subtitle">Verify all settings before deploying to Dash Platform</p>

            <!-- Review Grid -->
            <div class="review-grid">

              <!-- Token Basics Card -->
              <div class="review-card">
                <div class="review-card__header">
                  <h3 class="review-card__title">Token Basics</h3>
                  <span class="review-card__badge review-card__badge--permanent">Permanent</span>
                </div>
                <dl class="review-card__list">
                  <div class="review-card__item">
                    <dt>Name:</dt>
                    <dd id="review-name">—</dd>
                  </div>
                  <div class="review-card__item">
                    <dt>Symbol:</dt>
                    <dd id="review-symbol">—</dd>
                  </div>
                  <div class="review-card__item">
                    <dt>Decimals:</dt>
                    <dd id="review-decimals">—</dd>
                  </div>
                </dl>
                <div class="review-annotation review-annotation--warning">
                  ⚠️ These values are <strong>permanent</strong> and cannot be changed after deployment
                </div>
              </div>

              <!-- Supply Configuration Card -->
              <div class="review-card">
                <div class="review-card__header">
                  <h3 class="review-card__title">Supply Configuration</h3>
                  <span class="review-card__badge review-card__badge--permanent">Permanent</span>
                </div>
                <dl class="review-card__list">
                  <div class="review-card__item">
                    <dt>Initial Supply:</dt>
                    <dd id="review-base-supply">—</dd>
                  </div>
                  <div class="review-card__item">
                    <dt>Maximum Supply:</dt>
                    <dd id="review-max-supply">—</dd>
                  </div>
                  <div class="review-card__item">
                    <dt>Start Paused:</dt>
                    <dd id="review-start-paused">—</dd>
                  </div>
                </dl>
                <div class="review-annotation review-annotation--warning">
                  ⚠️ Maximum supply cap is <strong>permanent</strong> and cannot be increased later
                </div>
              </div>

              <!-- Permissions Card -->
              <div class="review-card">
                <div class="review-card__header">
                  <h3 class="review-card__title">Token Permissions</h3>
                </div>
                <dl class="review-card__list">
                  <div class="review-card__item">
                    <dt>Mint Tokens:</dt>
                    <dd id="review-mint-permission">—</dd>
                  </div>
                  <div class="review-card__item">
                    <dt>Burn Tokens:</dt>
                    <dd id="review-burn-permission">—</dd>
                  </div>
                  <div class="review-card__item">
                    <dt>Freeze Balances:</dt>
                    <dd id="review-freeze-permission">—</dd>
                  </div>
                  <div class="review-card__item">
                    <dt>Emergency Pause:</dt>
                    <dd id="review-emergency-permission">—</dd>
                  </div>
                </dl>
              </div>

              <!-- Distribution Card (Conditional) -->
              <div class="review-card" id="review-distribution-card" hidden>
                <div class="review-card__header">
                  <h3 class="review-card__title">Distribution Schedule</h3>
                </div>
                <div class="review-card__preview">
                  <div class="distribution-preview">
                    <div class="distribution-preview__item">
                      <span class="distribution-preview__label">First Distribution:</span>
                      <span class="distribution-preview__value" id="review-first-distribution">—</span>
                    </div>
                    <div class="distribution-preview__item">
                      <span class="distribution-preview__label">Amount Per Release:</span>
                      <span class="distribution-preview__value" id="review-distribution-amount">—</span>
                    </div>
                    <div class="distribution-preview__item">
                      <span class="distribution-preview__label">Frequency:</span>
                      <span class="distribution-preview__value" id="review-distribution-frequency">—</span>
                    </div>
                  </div>
                </div>
              </div>

              <!-- Trading Rules Card -->
              <div class="review-card">
                <div class="review-card__header">
                  <h3 class="review-card__title">Trading & Marketplace</h3>
                </div>
                <dl class="review-card__list">
                  <div class="review-card__item">
                    <dt>Trading Mode:</dt>
                    <dd id="review-trade-mode">—</dd>
                  </div>
                </dl>
              </div>

            </div>

            <!-- Simulation Box -->
            <div class="simulation-box">
              <h3 class="simulation-box__title">📊 What will happen when you deploy?</h3>
              <ul class="simulation-box__list" id="simulation-results">
                <li class="simulation-item">
                  <span class="simulation-item__icon">🪙</span>
                  <span class="simulation-item__text" id="simulation-creation">—</span>
                </li>
                <li class="simulation-item">
                  <span class="simulation-item__icon">👤</span>
                  <span class="simulation-item__text" id="simulation-ownership">—</span>
                </li>
                <li class="simulation-item" id="simulation-distribution-item" hidden>
                  <span class="simulation-item__icon">📅</span>
                  <span class="simulation-item__text" id="simulation-distribution">—</span>
                </li>
                <li class="simulation-item">
                  <span class="simulation-item__icon">🔐</span>
                  <span class="simulation-item__text" id="simulation-permissions">—</span>
                </li>
              </ul>
            </div>

            <!-- JSON Preview (Collapsible) -->
            <details class="json-preview">
              <summary class="json-preview__summary">
                <span class="json-preview__icon">{ }</span>
                View Generated Contract JSON
                <span class="json-preview__chevron">▼</span>
              </summary>
              <div class="json-preview__content">
                <div class="json-preview__toolbar">
                  <button class="json-preview__copy" id="copy-json-btn" type="button">
                    <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
                      <path d="M5 2h6a1 1 0 011 1v8a1 1 0 01-1 1H5a1 1 0 01-1-1V3a1 1 0 011-1z" stroke="currentColor"
                        stroke-width="1.5" />
                      <path d="M3 5v8a2 2 0 002 2h6" stroke="currentColor" stroke-width="1.5" />
                    </svg>
                    Copy JSON
                  </button>
                </div>
                <pre class="json-preview__code" id="contract-json-preview"></pre>
                <div class="json-annotations">
                  <h4 class="json-annotations__title">Understanding the Contract</h4>
                  <ul class="json-annotations__list">
                    <li><code>token_configuration</code> — Core token settings (name, supply, decimals)</li>
                    <li><code>supply_rules</code> — Minting and supply control rules</li>
                    <li><code>distribution_rules</code> — Emission schedule and recipient configuration</li>
                    <li><code>marketplace_rules</code> — Trading permissions and restrictions</li>
                  </ul>
                </div>
              </div>
            </details>

            <!-- Navigation Actions -->
            <div class="wizard-actions wizard-actions--between wizard-actions--sticky">
              <button class="wizard-button wizard-button--secondary" type="button" id="review-back">← Back to
                Edit</button>
              <button class="wizard-button wizard-button--primary" id="review-continue" type="button">Continue to
                Registration →</button>
            </div>

          </div>
        </section>

        <!-- Search Ability: Keywords & Description -->
        <section class="wizard-screen" id="screen-search" data-step="search" data-substep="search" data-tab="token"
          hidden>

          <!-- Right Side Guide Panel -->
          <aside class="page-guide" aria-label="Page guide" data-collapsed="false">
            <div class="page-guide__header">
              <div class="page-guide__tabs-horizontal">
                <button class="page-guide__tab page-guide__tab--info active" data-panel="info" aria-label="Show Information" aria-pressed="true">
                  Information
                </button>
                <button class="page-guide__tab page-guide__tab--guide" data-panel="guide" aria-label="Show User Guide" aria-pressed="false">
                  User Guide
                </button>
              </div>
              <button class="page-guide__collapse" aria-label="Collapse panel" aria-expanded="true">
                <svg class="page-guide__collapse-icon" width="16" height="16" viewBox="0 0 16 16" fill="none">
                  <path d="M6 12l4-4-4-4" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
              </button>
            </div>
            <div class="page-guide__panel page-guide__panel--info active" data-panel="info">
              <div class="page-guide__content">
              <h2 class="page-guide__title">Keywords & Description</h2>
              <p class="page-guide__intro">Help others find and understand your token.</p>

              <div class="page-guide__section">
                <h3 class="page-guide__section-title">Guide</h3>
                <p>Add short keywords and a concise description explaining your token's use or category. This metadata
                  appears in search and dashboards. Click Continue to registration.</p>

                <h4 class="page-guide__step-heading" id="guide-description-optional">Description (Optional)</h4>
                <p>Write a brief explanation (3-200 characters) of what your token does. Keep it clear, simple, and
                  focused on the purpose or use case.</p>
                <p><strong>Examples:</strong></p>
                <ul class="page-guide__list">
                  <li>"Reward token for community contributors"</li>
                  <li>"Utility token for accessing premium features"</li>
                  <li>"Governance token for platform decisions"</li>
                </ul>

                <h4 class="page-guide__step-heading" id="guide-keywords-optional">Keywords (Optional)</h4>
                <p>Add comma-separated tags for searchability. Example: "stablecoin, payment, utility"</p>
                <p>Good keywords describe: category, use case, industry, or features.</p>
              </div>
            </div>
            </div>
            <div class="page-guide__panel page-guide__panel--guide" data-panel="guide" hidden>
              <div class="page-guide__content">
                <h2 class="page-guide__title">Keywords & Description</h2>
                <p class="page-guide__intro">Step-by-step guide to adding description and keywords for token discovery.</p>

                <div class="page-guide__section">
                  <h3 class="page-guide__section-title">Step 1: Add Token Description (optional)</h3>
                  <p>Enter a brief explanation of your token's purpose (3-200 characters). Describe what your token is used for and its main purpose.</p>
                </div>

                <div class="page-guide__section">
                  <h3 class="page-guide__section-title">Step 2: Add Keywords (optional)</h3>
                  <p>Enter comma-separated tags to improve searchability and categorization. Maximum 50 keywords. Examples: DeFi, NFT, payments, social, rewards, gaming, utility.</p>
                </div>

                <div class="page-guide__section">
                  <h3 class="page-guide__section-title">Step 3: Verify and Continue</h3>
                  <p>Review your description and keywords, then proceed to the next configuration section or final review.</p>
                </div>
              </div>
            </div>
          </aside>

          <!-- Main Content -->
          <div class="wizard-screen__inner">
            <form class="wizard-form" id="search-metadata-form" novalidate>
              <h1 class="wizard-screen__title" id="title-search" tabindex="-1">How would you describe your token?</h1>
              <p class="wizard-screen__subtitle">Add a description and keywords to help users discover and understand
                your token.</p>

              <!-- Description Card -->
              <div class="form-card">
                <div class="form-card__header">
                  <h3 class="form-card__title">Description <span class="wizard-badge wizard-badge--optional"
                      style="margin-left: var(--space-2);">Optional</span></h3>
                  <p class="form-card__description">A brief explanation of your token's purpose</p>
                </div>
                <div class="form-card__body">
                  <div class="field-group">
                    <label class="wizard-field__label" for="search-description">Token description</label>
                    <textarea class="wizard-field__input" id="search-description" name="search-description" rows="4"
                      minlength="3" maxlength="200"
                      placeholder="e.g., A utility token for accessing premium features in our platform"
                      aria-describedby="search-description-hint"></textarea>
                    <span class="field-hint" id="search-description-hint">3-200 characters • Explain what your token is
                      used for and its main purpose</span>
                  </div>
                </div>
              </div>

              <!-- Keywords Card -->
              <div class="form-card">
                <div class="form-card__header">
                  <h3 class="form-card__title">Keywords <span class="wizard-badge wizard-badge--optional"
                      style="margin-left: var(--space-2);">Optional</span></h3>
                  <p class="form-card__description">Tags to improve searchability and categorization</p>
                </div>
                <div class="form-card__body">
                  <div class="field-group">
                    <label class="wizard-field__label" for="search-keywords">Keywords (comma-separated)</label>
                    <input class="wizard-field__input" id="search-keywords" name="search-keywords" type="text"
                      placeholder="e.g., utility, gaming, rewards, governance"
                      aria-describedby="search-keywords-hint search-message">
                    <span class="field-hint" id="search-keywords-hint">Separate keywords with commas • Max 50 keywords •
                      Examples: DeFi, NFT, payments, social</span>
                  </div>
                  <div id="search-keywords-preview" class="keywords-preview"
                    style="margin-top: var(--space-3); display: none;">
                    <label class="wizard-field__label" style="margin-bottom: var(--space-2);">Preview:</label>
                    <div id="search-keywords-tag-container" class="keywords-tag-container"></div>
                  </div>
                </div>

                <p class="wizard-field__message" id="search-message" role="status" aria-live="polite"></p>
                <div class="wizard-actions wizard-actions--between wizard-actions--sticky">
                  <button class="wizard-button wizard-button--secondary" type="button" data-step-back>← Back</button>
                  <button class="wizard-button wizard-button--secondary" type="button" id="contract-preview-btn">📄
                    Contract Preview</button>
                  <button class="wizard-button wizard-button--primary" id="search-next" type="submit">Continue →</button>
                </div>
            </form>
          </div>
        </section>

        <section class="wizard-screen" id="screen-registration" data-step="registration" data-tab="token" hidden>

          <!-- Right Side Guide Panel -->
          <aside class="page-guide" aria-label="Page guide" data-collapsed="false">
            <div class="page-guide__header">
              <div class="page-guide__tabs-horizontal">
                <button class="page-guide__tab page-guide__tab--info active" data-panel="info" aria-label="Show Information" aria-pressed="true">
                  Information
                </button>
                <button class="page-guide__tab page-guide__tab--guide" data-panel="guide" aria-label="Show User Guide" aria-pressed="false">
                  User Guide
                </button>
              </div>
              <button class="page-guide__collapse" aria-label="Collapse panel" aria-expanded="true">
                <svg class="page-guide__collapse-icon" width="16" height="16" viewBox="0 0 16 16" fill="none">
                  <path d="M6 12l4-4-4-4" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
              </button>
            </div>
            <div class="page-guide__panel page-guide__panel--info active" data-panel="info">
              <div class="page-guide__content">
              <h2 class="page-guide__title">Register Your Token</h2>
              <p class="page-guide__intro">The final step: deploy your token contract to Dash Platform. This page guides you through choosing a registration method and completing the deployment process.</p>

              <div class="page-guide__section">
                <h3 class="page-guide__section-title">Quick Reference</h3>

                <h4 class="page-guide__step-heading" id="registration-overview">What is Registration?</h4>
                <p><strong>What it is:</strong> Registration is the process of deploying your token contract to the Dash Platform blockchain. It involves creating a blockchain identity (if needed) and submitting your contract as an immutable data structure.</p>
                <p><strong>Why it matters:</strong> Once registered, your token becomes a permanent part of the blockchain. The contract cannot be altered unless you explicitly configured change permissions in the Advanced step. Registration requires platform credits and network confirmations.</p>
                <p><strong>Key concepts:</strong></p>
                <ul class="page-guide__list">
                  <li><strong>Identity:</strong> A unique identifier on Dash Platform that owns your contract</li>
                  <li><strong>Platform Credits:</strong> Network currency required to register identities and submit contracts</li>
                  <li><strong>Network:</strong> Testnet (for testing) or Mainnet (production)</li>
                  <li><strong>Immutability:</strong> Contracts cannot be changed after deployment (except via governance rules you defined)</li>
                </ul>

                <h4 class="page-guide__step-heading" id="registration-methods">Registration Methods</h4>
                <p><strong>Mobile App (QR Code):</strong> The recommended method for most users. The wizard generates animated QR codes containing your complete token configuration. You scan these codes with the Dash mobile wallet app, which automatically handles identity creation, funding, and contract submission.</p>
                <p><strong>Use when:</strong> You prefer a mobile-first workflow, want the simplest experience, and don't want to expose sensitive keys to a web browser.</p>
                <p style="margin-top: var(--space-3);"><strong>Dash Evo Tool (DET):</strong> A command-line interface for developers and advanced users. The wizard generates a downloadable contract JSON file with step-by-step CLI instructions for installation and deployment.</p>
                <p><strong>Use when:</strong> You need programmatic deployment, want to integrate with CI/CD pipelines, require audit trails, or prefer working with command-line tools.</p>

                <h4 class="page-guide__step-heading" id="network-selection">Network Selection</h4>
                <p><strong>Testnet:</strong> A sandbox environment for testing. Use testnet to experiment with your token configuration, verify behavior, and test integrations without spending real funds or creating permanent contracts.</p>
                <p><strong>Mainnet:</strong> The production Dash blockchain. Contracts deployed to mainnet are permanent and public. Only use mainnet when you've thoroughly tested your configuration and are ready for a live deployment.</p>
                <p><strong>Best practice:</strong> Always test on testnet first. Once you've confirmed everything works as expected, you can re-run the wizard and deploy to mainnet.</p>

                <h4 class="page-guide__step-heading" id="costs-and-requirements">Costs and Requirements</h4>
                <p><strong>Token Registration Fee:</strong> Registering a token on Dash Platform costs 0.1 DASH. This is a one-time fee that makes your token contract permanent on the blockchain.</p>
                <p><strong>Optional Keyword Fees:</strong> You can add up to 50 keywords for token discovery (3-50 characters each). Each keyword costs 0.1 DASH. Keywords are optional but help users find your token.</p>
                <p><strong>Distribution Fees:</strong> Perpetual distribution costs 0.1 DASH if enabled. Pre-programmed distribution costs 0.1 DASH if enabled. These are one-time fees for distribution features.</p>
                <p><strong>Example Total Costs:</strong> Basic token (no keywords, no distribution): 0.1 DASH. Token with 5 keywords and perpetual distribution: 0.8 DASH (0.1 base + 0.5 keywords + 0.1 distribution + 0.1 identity creation).</p>
                <p><strong>Token ID Generation:</strong> Your token ID is automatically generated by the platform using double SHA256 hash of: tokenContractId + tokenContractPosition + 'dash_token' string. You don't need to specify this.</p>
                <p><strong>Wallet Requirements:</strong> For self-service registration, you need a funded Dash wallet with a 12-word mnemonic phrase. For mobile/DET methods, the external tool handles wallet management.</p>

                <h4 class="page-guide__step-heading" id="deployment-process">The Deployment Process</h4>
                <p><strong>Step 1 - Identity Check:</strong> The wizard checks if you already have a Dash Platform identity. If not, it creates one using your wallet.</p>
                <p><strong>Step 2 - Contract Generation:</strong> Your wizard configuration is converted into a valid Dash Platform data contract JSON payload.</p>
                <p><strong>Step 3 - Contract Submission:</strong> The contract is broadcast to the network and awaits confirmation by masternodes.</p>
                <p><strong>Step 4 - Confirmation:</strong> Once confirmed (typically 2-5 minutes), your token is live and ready to use. You'll receive a contract ID that uniquely identifies your token.</p>

                <h4 class="page-guide__step-heading" id="security-considerations">Security Considerations</h4>
                <p><strong>Never share your mnemonic:</strong> Your 12-word recovery phrase provides complete control over your wallet and identity. Never enter it on untrusted websites or share it with anyone.</p>
                <p><strong>Self-service risks:</strong> The self-service method requires entering your mnemonic into this web application. While the wizard doesn't store or transmit your keys, browser-based key entry carries inherent risks. Only use this method on a trusted device with a test wallet.</p>
                <p><strong>Mobile/DET are safer:</strong> External tools (mobile app, DET) keep your keys isolated from the browser environment, reducing attack surface.</p>

                <h4 class="page-guide__step-heading" id="technical-constraints">Technical Constraints</h4>
                <p><strong>Keywords:</strong> Maximum 50 keywords allowed. Each keyword must be 3-50 characters in length. Keywords are optional and help with token discovery.</p>
                <p><strong>Description:</strong> Token descriptions must be 3-100 characters in length. Keep descriptions concise and informative.</p>
                <p><strong>Tokens Per Contract:</strong> Unlimited tokens per contract (only constrained by contract size). You can deploy multiple tokens within size limits.</p>
                <p><strong>Token Transition Fields:</strong> The platform automatically manages $identityContractNonce (64-bit), $tokenContractPosition (16-bit), $dataContractId (32 bytes), and $tokenId (32 bytes).</p>
                <p><strong>Epoch Timing:</strong> Masternode rewards are distributed approximately every 18 days (one Epoch on Dash Platform).</p>

                <h4 class="page-guide__step-heading" id="after-deployment">After Deployment</h4>
                <p><strong>Contract ID:</strong> Your token is identified by a unique contract ID. Save this ID—you'll need it to interact with your token programmatically.</p>
                <p><strong>Testing:</strong> After deployment, test basic operations (transfers, minting if enabled, etc.) to verify everything works as expected.</p>
                <p><strong>Documentation:</strong> Document your contract ID, governance rules, and any change control processes for your team and community.</p>
                <p><strong>Monitoring:</strong> Use Dash Platform explorers to monitor your token's activity, supply changes, and transaction history.</p>
              </div>
            </div>
            </div>
            <div class="page-guide__panel page-guide__panel--guide" data-panel="guide" hidden>
              <div class="page-guide__content">
                <h2 class="page-guide__title">Register Your Token - Complete Guide</h2>
                <p class="page-guide__intro">Everything you need to successfully deploy your token to Dash Platform, including detailed instructions, real-world examples, and critical security considerations.</p>

                <div class="page-guide__section">
                  <h3 class="page-guide__section-title">Overview</h3>
                  <p>Registration is the final step in the token creation process. This guide covers all three registration methods in detail, helping you choose the right approach and avoid common mistakes.</p>
                  <p><strong>What you'll learn:</strong></p>
                  <ul class="page-guide__list">
                    <li>How to choose the right registration method for your needs</li>
                    <li>Step-by-step instructions for each method (Mobile, DET, Self-service)</li>
                    <li>Security best practices for protecting your wallet and identity</li>
                    <li>Testnet vs mainnet deployment strategies</li>
                    <li>What happens after deployment and how to verify success</li>
                    <li>Common errors and how to resolve them</li>
                  </ul>
                </div>

                <div class="page-guide__section">
                  <h3 class="page-guide__section-title">Pre-Deployment Checklist</h3>
                  <p>Before registering your token, verify these critical items:</p>
                  <ol class="page-guide__list">
                    <li><strong>Configuration Review:</strong> Review all five wizard steps (Naming, Permissions, Distribution, Advanced, Registration). Use the "Contract Preview" button at the bottom of this page to see a summary of your configuration.</li>
                    <li><strong>Network Selection:</strong> Confirm you're deploying to the correct network. Use testnet for testing and experimentation. Only use mainnet for production deployments.</li>
                    <li><strong>Wallet Preparation:</strong> Ensure you have a funded wallet with sufficient balance. Calculate your total cost: 0.1 DASH (token registration) + 0.1 DASH per keyword (up to 50) + 0.1 DASH (perpetual distribution if enabled) + 0.1 DASH (pre-programmed distribution if enabled) + ~0.1 DASH (identity creation if needed).</li>
                    <li><strong>Keywords Planning:</strong> If adding keywords for discovery, prepare up to 50 keywords (3-50 characters each). Budget 0.1 DASH per keyword.</li>
                    <li><strong>Description Verification:</strong> Ensure your token description is 3-100 characters and accurately describes your token.</li>
                    <li><strong>Backup Configuration:</strong> Export your full wizard configuration (available in DET method) as a backup. This allows you to recreate your settings if needed.</li>
                    <li><strong>Documentation:</strong> Have a plan for documenting your contract ID, governance rules, and operational procedures after deployment.</li>
                  </ol>
                </div>

                <div class="page-guide__section">
                  <h3 class="page-guide__section-title">Method 1: Mobile App (QR Code) - Recommended</h3>
                  <p>The mobile method is the safest and simplest approach. Your wallet keys never leave your mobile device.</p>

                  <p><strong>Requirements:</strong></p>
                  <ul class="page-guide__list">
                    <li>Dash mobile wallet app installed on your phone</li>
                    <li>Wallet funded with sufficient balance for registration</li>
                    <li>Camera access for QR code scanning</li>
                  </ul>

                  <p><strong>Step-by-step process:</strong></p>
                  <ol class="page-guide__list">
                    <li><strong>Select Mobile Method:</strong> On the Registration screen, choose "Mobile App (Recommended)"</li>
                    <li><strong>Generate QR Codes:</strong> Click "Generate QR" button. The wizard will create animated QR codes containing your contract payload.</li>
                    <li><strong>Open Mobile Wallet:</strong> Launch the Dash mobile wallet app on your phone and navigate to the token creation feature.</li>
                    <li><strong>Scan QR Series:</strong> Scan the animated QR codes displayed in the wizard. The app will reconstruct the complete contract data.</li>
                    <li><strong>Review & Confirm:</strong> Review the contract details in your mobile app. Confirm the network (testnet/mainnet) matches your intention.</li>
                    <li><strong>Submit Contract:</strong> Tap "Deploy" or "Submit" in the mobile app. The app will create an identity (if needed) and broadcast your contract.</li>
                    <li><strong>Wait for Confirmation:</strong> Transaction confirmation typically takes 2-5 minutes. You'll receive a contract ID once complete.</li>
                    <li><strong>Save Contract ID:</strong> Record your contract ID immediately. This is your token's permanent identifier on Dash Platform.</li>
                  </ol>

                  <p><strong>Troubleshooting:</strong></p>
                  <ul class="page-guide__list">
                    <li><strong>QR codes not scanning:</strong> Ensure good lighting and hold your phone steady. Some payloads are large and require multiple frames.</li>
                    <li><strong>Insufficient balance:</strong> Calculate your total cost: 0.1 DASH (token) + 0.1 DASH per keyword + 0.1 DASH (distribution if enabled) + 0.1 DASH (identity if needed). Example: Token with 10 keywords = 1.2 DASH minimum.</li>
                    <li><strong>Network mismatch:</strong> Verify your mobile wallet is connected to the same network (testnet/mainnet) as your wizard configuration.</li>
                  </ul>
                </div>

                <div class="page-guide__section">
                  <h3 class="page-guide__section-title">Method 2: Dash Evo Tool (DET) - For Developers</h3>
                  <p>The DET method provides full control via command-line interface, ideal for automated deployments and CI/CD integration.</p>

                  <p><strong>Requirements:</strong></p>
                  <ul class="page-guide__list">
                    <li>Node.js 16+ installed on your system</li>
                    <li>Terminal/command-line access</li>
                    <li>Dash wallet with funded address</li>
                    <li>Basic familiarity with command-line tools</li>
                  </ul>

                  <p><strong>Step-by-step process:</strong></p>
                  <ol class="page-guide__list">
                    <li><strong>Select DET Method:</strong> On the Registration screen, choose "Dash Evo Tool (Advanced)"</li>
                    <li><strong>Download Contract JSON:</strong> Click "Download Contract JSON" in Step 1. This saves your token configuration as a .json file.</li>
                    <li><strong>Install DET:</strong> Open your terminal and run: <code>npm install -g @dashevo/dashevo-tool</code></li>
                    <li><strong>Configure DET:</strong> Set up your wallet mnemonic: <code>dashevo-tool config set mnemonic "your twelve word phrase here"</code></li>
                    <li><strong>Select Network:</strong> Choose network: <code>dashevo-tool config set network testnet</code> (or mainnet)</li>
                    <li><strong>Verify Balance:</strong> Check wallet balance: <code>dashevo-tool wallet balance</code> (ensure sufficient funds)</li>
                    <li><strong>Register Identity:</strong> If you don't have an identity: <code>dashevo-tool identity register</code></li>
                    <li><strong>Deploy Contract:</strong> Submit your contract: <code>dashevo-tool contract register --file ./your-token-contract.json</code></li>
                    <li><strong>Wait for Confirmation:</strong> The tool will display transaction status and contract ID upon success.</li>
                    <li><strong>Document Results:</strong> Save the contract ID and transaction hash for your records.</li>
                  </ol>

                  <p><strong>Advanced options:</strong></p>
                  <ul class="page-guide__list">
                    <li><strong>Preview before deployment:</strong> Click "Show JSON" in Step 3 to review the exact contract data before downloading.</li>
                    <li><strong>Full configuration backup:</strong> Download the complete wizard state (Step 4) to preserve all settings for later reference or redeployment.</li>
                    <li><strong>Scripted deployment:</strong> Automate the process by chaining DET commands in a bash script for repeatable deployments.</li>
                  </ul>

                  <p><strong>Troubleshooting:</strong></p>
                  <ul class="page-guide__list">
                    <li><strong>DET installation fails:</strong> Check Node.js version (must be 16+) and ensure npm is properly configured.</li>
                    <li><strong>Identity creation fails:</strong> Verify wallet has sufficient balance. Identity creation costs approximately 0.1 DASH. Total deployment cost = 0.1 (identity) + 0.1 (token) + 0.1 per keyword + 0.1 per distribution feature.</li>
                    <li><strong>Contract validation errors:</strong> Ensure your JSON file is valid. Use the "Show JSON" preview to check for syntax errors. Verify keywords are 3-50 characters and description is 3-100 characters.</li>
                    <li><strong>Network connection issues:</strong> Confirm you're connected to the correct network and that Dash Platform services are operational.</li>
                  </ul>
                </div>

                <div class="page-guide__section">
                  <h3 class="page-guide__section-title">Fee Calculation and Budget Planning</h3>
                  <p>Understanding the exact costs for token deployment helps you budget appropriately and avoid insufficient balance errors.</p>

                  <p><strong>Base Fees (Required):</strong></p>
                  <ul class="page-guide__list">
                    <li><strong>Token Registration:</strong> 0.1 DASH (one-time, required)</li>
                    <li><strong>Identity Creation:</strong> ~0.1 DASH (one-time, if you don't have an identity)</li>
                  </ul>

                  <p><strong>Optional Fees:</strong></p>
                  <ul class="page-guide__list">
                    <li><strong>Keywords:</strong> 0.1 DASH per keyword (maximum 50 keywords, 3-50 characters each)</li>
                    <li><strong>Perpetual Distribution:</strong> 0.1 DASH (if enabled in Distribution step)</li>
                    <li><strong>Pre-programmed Distribution:</strong> 0.1 DASH (if enabled in Distribution step)</li>
                  </ul>

                  <p><strong>Example Calculations:</strong></p>
                  <ul class="page-guide__list">
                    <li><strong>Basic Token (no extras):</strong> 0.2 DASH (0.1 identity + 0.1 token)</li>
                    <li><strong>Token with 5 keywords:</strong> 0.7 DASH (0.1 identity + 0.1 token + 0.5 keywords)</li>
                    <li><strong>Token with 10 keywords + perpetual distribution:</strong> 1.3 DASH (0.1 identity + 0.1 token + 1.0 keywords + 0.1 distribution)</li>
                    <li><strong>Maximum configuration (50 keywords + both distributions):</strong> 5.4 DASH (0.1 identity + 0.1 token + 5.0 keywords + 0.2 distributions)</li>
                  </ul>

                  <p><strong>Budget Planning Tips:</strong></p>
                  <ul class="page-guide__list">
                    <li>Always add 10-20% buffer to your calculated total for transaction fees and network variations</li>
                    <li>Check if you already have a Dash Platform identity to save 0.1 DASH</li>
                    <li>Consider whether keywords are necessary for your use case—they add cost but improve discoverability</li>
                    <li>Test on testnet first using free test credits before committing mainnet funds</li>
                  </ul>
                </div>

                <div class="page-guide__section">
                  <h3 class="page-guide__section-title">Common Deployment Scenarios</h3>

                  <p><strong>Scenario 1: First-Time Testnet Deployment</strong></p>
                  <p><em>Use case: You're testing your token configuration for the first time</em></p>
                  <ul class="page-guide__list">
                    <li><strong>Method:</strong> Mobile or DET</li>
                    <li><strong>Network:</strong> Testnet</li>
                    <li><strong>Wallet:</strong> Create a new testnet wallet (don't use your mainnet wallet)</li>
                    <li><strong>Estimated Cost:</strong> 0.2-0.5 DASH (0.1 identity + 0.1 token + optional keywords/distribution) using free testnet credits</li>
                    <li><strong>Process:</strong> Fund testnet wallet from faucet → Select testnet in wizard → Deploy via preferred method → Test all token operations (transfers, minting, etc.) → Note your auto-generated token ID (SHA256 hash)</li>
                    <li><strong>Why:</strong> Testnet allows you to experiment freely without financial risk. You can deploy multiple versions to refine your configuration.</li>
                  </ul>

                  <p><strong>Scenario 2: Production Mainnet Deployment</strong></p>
                  <p><em>Use case: You've tested thoroughly and are ready for live production deployment</em></p>
                  <ul class="page-guide__list">
                    <li><strong>Method:</strong> Mobile (safest) or DET (if you need CI/CD integration)</li>
                    <li><strong>Network:</strong> Mainnet</li>
                    <li><strong>Wallet:</strong> Well-funded mainnet wallet with secure backup</li>
                    <li><strong>Estimated Cost:</strong> 0.2 DASH (basic) to 5.4 DASH (maximum with 50 keywords + distributions). Calculate: 0.1 (identity if needed) + 0.1 (token) + 0.1 per keyword + 0.1 per distribution feature + 20% buffer</li>
                    <li><strong>Process:</strong> Complete full testnet testing → Review all configuration one final time → Calculate exact deployment cost → Double-check network is set to mainnet → Deploy via preferred method → Save auto-generated token ID → Document contract ID and governance procedures → Announce to community/team</li>
                    <li><strong>Why:</strong> Mainnet contracts are permanent. Thorough testing and review minimize the risk of configuration errors. Token ID is auto-generated via SHA256 hashing.</li>
                  </ul>

                  <p><strong>Scenario 3: Automated CI/CD Pipeline Deployment</strong></p>
                  <p><em>Use case: You're integrating token deployment into automated workflows</em></p>
                  <ul class="page-guide__list">
                    <li><strong>Method:</strong> DET (command-line only)</li>
                    <li><strong>Network:</strong> Typically testnet for staging, mainnet for production releases</li>
                    <li><strong>Wallet:</strong> Dedicated deployment wallet managed via environment variables with sufficient balance</li>
                    <li><strong>Estimated Cost:</strong> Budget for multiple deployments: 0.2-1.0 DASH per deployment depending on keywords/distributions</li>
                    <li><strong>Process:</strong> Configure DET with environment variables → Store contract JSON in version control → Create deployment script that calls DET → Integrate script into CI/CD pipeline → Add validation and rollback procedures → Automate token ID extraction from deployment response</li>
                    <li><strong>Why:</strong> Automation ensures consistent deployments and enables rapid iteration during development cycles. Token IDs are auto-generated by platform.</li>
                  </ul>

                  <p><strong>Scenario 4: Multi-Environment Testing Strategy</strong></p>
                  <p><em>Use case: You need to test the same token across development, staging, and production</em></p>
                  <ul class="page-guide__list">
                    <li><strong>Method:</strong> DET (for repeatability) or Mobile (for quick iterations)</li>
                    <li><strong>Network:</strong> Testnet for dev/staging, mainnet for production</li>
                    <li><strong>Wallet:</strong> Separate wallets for each environment (each needs sufficient balance for deployment)</li>
                    <li><strong>Estimated Cost:</strong> 3x deployment cost (dev + staging + production). Example: 0.6 DASH for three basic deployments, or 3.6 DASH for tokens with 10 keywords each</li>
                    <li><strong>Process:</strong> Save full wizard configuration after first deployment → Deploy to dev testnet → Run integration tests → Deploy to staging testnet → Run acceptance tests → Review all governance and security settings → Calculate mainnet deployment cost → Deploy to mainnet production → Compare auto-generated token IDs across environments</li>
                    <li><strong>Why:</strong> Multi-stage testing catches configuration issues before they reach production and provides confidence in your token's behavior. Each deployment gets unique auto-generated token ID.</li>
                  </ul>
                </div>

                <div class="page-guide__section">
                  <h3 class="page-guide__section-title">Advanced Topics</h3>

                  <p><strong>Multiple Tokens Per Contract:</strong></p>
                  <p>Dash Platform allows unlimited tokens per contract, constrained only by contract size. This enables efficient deployment of related token families.</p>
                  <ul class="page-guide__list">
                    <li><strong>Benefits:</strong> Deploy multiple related tokens (e.g., governance token + utility token) in a single contract to save on deployment fees and maintain logical grouping</li>
                    <li><strong>Considerations:</strong> Each token still requires its own registration fee (0.1 DASH) plus keyword/distribution fees. Total contract size must remain within platform limits</li>
                    <li><strong>Token ID Assignment:</strong> Each token gets a unique auto-generated token ID via SHA256 hash: tokenContractId + tokenContractPosition + 'dash_token'</li>
                    <li><strong>Contract Position:</strong> Tokens are identified by their position (16-bit unsigned integer) within the contract, starting at 0</li>
                  </ul>

                  <p><strong>Understanding Token Transition Fields:</strong></p>
                  <p>The platform automatically manages several fields during token operations. You don't need to specify these manually:</p>
                  <ul class="page-guide__list">
                    <li><strong>$identityContractNonce:</strong> 64-bit unsigned integer tracking identity's contract operations</li>
                    <li><strong>$tokenContractPosition:</strong> 16-bit unsigned integer indicating token's position in contract (0-65535)</li>
                    <li><strong>$dataContractId:</strong> 32-byte identifier for the data contract containing the token</li>
                    <li><strong>$tokenId:</strong> 32-byte auto-generated identifier via double SHA256 hash</li>
                  </ul>

                  <p><strong>Epoch-Based Operations:</strong></p>
                  <p>Some token operations are synchronized with Dash Platform's epoch cycle (~18 days). Understanding epochs helps with distribution timing:</p>
                  <ul class="page-guide__list">
                    <li><strong>Masternode Rewards:</strong> Distributed approximately every 18 days at epoch boundaries</li>
                    <li><strong>Distribution Cadence:</strong> If using epoch-based distribution in your token, emissions occur at these intervals</li>
                    <li><strong>Planning:</strong> Consider epoch timing when planning token launches and distribution schedules</li>
                  </ul>
                </div>

                <div class="page-guide__section">
                  <h3 class="page-guide__section-title">Security Best Practices</h3>
                  <ul class="page-guide__list">
                    <li><strong>Use testnet first, always:</strong> Never deploy to mainnet without thorough testnet testing. Contracts are immutable once deployed.</li>
                    <li><strong>Protect your mnemonic phrase:</strong> Your 12-word recovery phrase is the master key to your identity and token. Store it securely offline (paper wallet, hardware wallet, encrypted storage).</li>
                    <li><strong>Never reuse wallets:</strong> Use separate wallets for testnet and mainnet. Don't mix test and production credentials.</li>
                    <li><strong>Prefer mobile/DET over self-service:</strong> Browser-based key entry (self-service method) increases risk of keyloggers, XSS attacks, and browser extensions capturing your mnemonic.</li>
                    <li><strong>Verify contract ID after deployment:</strong> Immediately after successful deployment, verify your contract ID is recorded correctly. Losing this ID means you lose the ability to manage your token.</li>
                    <li><strong>Document governance procedures:</strong> If you enabled change controls, document who has permission to modify the contract and under what conditions.</li>
                    <li><strong>Use hardware wallets for mainnet:</strong> For production mainnet deployments holding significant value, use a hardware wallet (Ledger, Trezor) for maximum security.</li>
                    <li><strong>Audit before deployment:</strong> Have a second person review your contract configuration before mainnet deployment. Fresh eyes catch mistakes.</li>
                    <li><strong>Plan for key rotation:</strong> If using multi-signature governance, establish procedures for rotating keys and updating signer lists.</li>
                    <li><strong>Monitor after deployment:</strong> Set up monitoring for your token's activity. Watch for unexpected behavior, supply changes, or governance actions.</li>
                  </ul>
                </div>

                <div class="page-guide__section">
                  <h3 class="page-guide__section-title">What to Do After Deployment</h3>
                  <ol class="page-guide__list">
                    <li><strong>Save Your Contract ID:</strong> Immediately record your contract ID in multiple secure locations. This is your token's permanent identifier.</li>
                    <li><strong>Test Basic Operations:</strong> Perform test transactions to verify transfers work. If you enabled minting/burning, test those operations with small amounts.</li>
                    <li><strong>Verify Contract Data:</strong> Use a Dash Platform explorer to view your deployed contract and confirm all settings match your configuration.</li>
                    <li><strong>Document Everything:</strong> Create documentation for your team covering:
                      <ul class="page-guide__list--nested">
                        <li>Contract ID and deployment date</li>
                        <li>Network (testnet/mainnet)</li>
                        <li>Governance rules and who controls what</li>
                        <li>Token supply schedule and distribution rules</li>
                        <li>Any change control processes you configured</li>
                      </ul>
                    </li>
                    <li><strong>Set Up Monitoring:</strong> Configure alerts for key events (large transfers, minting actions, governance changes)</li>
                    <li><strong>Announce to Stakeholders:</strong> Inform your team, community, or users that the token is live. Provide contract ID and instructions for interaction.</li>
                    <li><strong>Plan for Operations:</strong> Establish operational procedures for day-to-day token management (if applicable), including who handles what responsibilities.</li>
                    <li><strong>Backup Everything:</strong> Store a complete backup of your wizard configuration, contract JSON, and deployment artifacts in secure, redundant storage.</li>
                  </ol>
                </div>

                <div class="page-guide__section">
                  <h3 class="page-guide__section-title">Common Mistakes to Avoid</h3>
                  <ul class="page-guide__list">
                    <li><strong>Deploying to mainnet without testnet testing:</strong> Always test on testnet first. Contracts cannot be deleted or easily modified after deployment.</li>
                    <li><strong>Insufficient wallet balance:</strong> Ensure you have enough funds to cover identity creation and contract submission. Running out of credits mid-deployment can cause failures.</li>
                    <li><strong>Wrong network selection:</strong> Double-check you're deploying to the intended network. Testnet contracts can't be moved to mainnet and vice versa.</li>
                    <li><strong>Not saving contract ID:</strong> Failing to record your contract ID immediately after deployment makes it difficult to manage your token later.</li>
                    <li><strong>Entering mnemonic on untrusted devices:</strong> Only use the self-service method on trusted devices with known security posture. Prefer mobile/DET methods.</li>
                    <li><strong>Skipping configuration review:</strong> Not reviewing all wizard steps before deployment can result in deploying incorrect settings (wrong supply, missing permissions, etc.)</li>
                    <li><strong>No backup strategy:</strong> Not backing up your wizard configuration and contract JSON means you can't easily redeploy or analyze what you deployed.</li>
                    <li><strong>Forgetting governance setup:</strong> Not documenting who controls what after deployment leads to confusion when changes are needed.</li>
                    <li><strong>Ignoring contract preview:</strong> Not using the "Contract Preview" button to verify your final configuration before deployment.</li>
                    <li><strong>Deploying with unclear distribution rules:</strong> Not understanding how your distribution/emission settings work can lead to unexpected token supply behavior.</li>
                  </ul>
                </div>

                <div class="page-guide__section">
                  <h3 class="page-guide__section-title">Troubleshooting Guide</h3>

                  <p><strong>Problem: "Insufficient Balance" Error</strong></p>
                  <ul class="page-guide__list">
                    <li><strong>Cause:</strong> Wallet doesn't have enough Dash to cover all deployment fees</li>
                    <li><strong>Solution:</strong> Calculate your exact cost: 0.1 DASH (identity if needed) + 0.1 DASH (token) + 0.1 DASH per keyword + 0.1 DASH per distribution feature. Add 20% buffer. Example: Token with 10 keywords needs at least 1.4 DASH (1.2 + 20% buffer). Check balance using wallet app or DET tool.</li>
                  </ul>

                  <p><strong>Problem: "Identity Already Exists" Error</strong></p>
                  <ul class="page-guide__list">
                    <li><strong>Cause:</strong> Your wallet already has a registered identity</li>
                    <li><strong>Solution:</strong> This is normal. The tool will use your existing identity to deploy the contract. No action needed.</li>
                  </ul>

                  <p><strong>Problem: "Contract Validation Failed" Error</strong></p>
                  <ul class="page-guide__list">
                    <li><strong>Cause:</strong> Contract JSON has invalid structure or violates Dash Platform rules</li>
                    <li><strong>Solution:</strong> Use the "Show JSON" preview to check for errors. Common issues: keywords exceeding 50 limit, keywords not 3-50 characters, description not 3-100 characters, invalid token transition fields. Verify all required fields are present. Re-run the wizard if necessary.</li>
                  </ul>

                  <p><strong>Problem: "Too Many Keywords" Error</strong></p>
                  <ul class="page-guide__list">
                    <li><strong>Cause:</strong> You've added more than 50 keywords (maximum limit)</li>
                    <li><strong>Solution:</strong> Reduce keywords to 50 or fewer. Each keyword also costs 0.1 DASH, so fewer keywords also reduces your deployment cost.</li>
                  </ul>

                  <p><strong>Problem: "Invalid Description Length" Error</strong></p>
                  <ul class="page-guide__list">
                    <li><strong>Cause:</strong> Token description is not between 3-100 characters</li>
                    <li><strong>Solution:</strong> Edit your description to be at least 3 characters and no more than 100 characters. Keep it concise and informative.</li>
                  </ul>

                  <p><strong>Problem: Transaction Timeout</strong></p>
                  <ul class="page-guide__list">
                    <li><strong>Cause:</strong> Network congestion or masternode issues</li>
                    <li><strong>Solution:</strong> Wait 5-10 minutes and check if the transaction completed. If not, retry the deployment. Your funds are safe.</li>
                  </ul>

                  <p><strong>Problem: QR Codes Not Scanning (Mobile Method)</strong></p>
                  <ul class="page-guide__list">
                    <li><strong>Cause:</strong> Poor lighting, camera focus issues, or screen brightness too low</li>
                    <li><strong>Solution:</strong> Increase screen brightness, improve lighting, hold phone steady, ensure camera has permission to access. Try moving closer or farther from screen.</li>
                  </ul>

                  <p><strong>Problem: DET Command Not Found</strong></p>
                  <ul class="page-guide__list">
                    <li><strong>Cause:</strong> DET not installed or not in PATH</li>
                    <li><strong>Solution:</strong> Run <code>npm install -g @dashevo/dashevo-tool</code> again. Verify with <code>dashevo-tool --version</code>. Restart terminal if needed.</li>
                  </ul>

                  <p><strong>Problem: Wrong Network After Deployment</strong></p>
                  <ul class="page-guide__list">
                    <li><strong>Cause:</strong> Deployed to testnet when you meant mainnet (or vice versa)</li>
                    <li><strong>Solution:</strong> Unfortunately, contracts cannot be migrated between networks. You must redeploy to the correct network.</li>
                  </ul>
                </div>

                <div class="page-guide__section">
                  <h3 class="page-guide__section-title">Final Checklist Before Deployment</h3>
                  <p>Before clicking "Deploy" or scanning QR codes, verify these items one last time:</p>
                  <ul class="page-guide__list page-guide__list--no-bullets">
                    <li>☐ <strong>Network confirmed:</strong> Testnet or mainnet selection is correct</li>
                    <li>☐ <strong>Wallet funded:</strong> Sufficient balance to cover all deployment costs</li>
                    <li>☐ <strong>Configuration reviewed:</strong> All five wizard steps checked using Contract Preview</li>
                    <li>☐ <strong>Backup created:</strong> Full configuration exported and saved securely</li>
                    <li>☐ <strong>Token name finalized:</strong> Name, symbol, and localization are correct (can't be changed unless you configured it)</li>
                    <li>☐ <strong>Supply settings verified:</strong> Base supply, max supply, and mint/burn permissions are correct</li>
                    <li>☐ <strong>Distribution rules confirmed:</strong> Cadence and emission function match your intended schedule</li>
                    <li>☐ <strong>Governance documented:</strong> You know who controls what after deployment</li>
                    <li>☐ <strong>Change controls understood:</strong> You know what can and can't be modified post-deployment</li>
                    <li>☐ <strong>Testing plan ready:</strong> You have a plan for testing the deployed token immediately after deployment</li>
                    <li>☐ <strong>Contract ID storage ready:</strong> You have a secure place to record the contract ID</li>
                    <li>☐ <strong>Monitoring setup planned:</strong> You know how you'll monitor the token after deployment</li>
                  </ul>
                  <p style="margin-top: var(--space-3);"><strong>When all items are checked, you're ready to deploy!</strong></p>
                </div>
              </div>
            </div>
          </aside>

          <div class="wizard-screen__inner">
            <form class="wizard-form" id="registration-form" novalidate>
              <h1 class="wizard-screen__title" id="title-registration" tabindex="-1">How would you like to register your
                token?</h1>
              <p class="wizard-screen__subtitle">Choose your preferred method for publishing your token on the Dash
                Platform.</p>

              <!-- Contract Validation Card -->
              <div class="form-card form-card--highlight" id="registration-validation-card" hidden>
                <div class="form-card__body" id="registration-validation-body">
                  <p><strong>You're almost done!</strong></p>
                  <p style="margin-bottom: 0;">Your token is configured and ready to go. Now you just need to publish it
                    to the Dash Platform. Choose the method that works best for you below.</p>
                </div>
              </div>

              <!-- Registration Methods -->
              <div class="form-card">
                <div class="form-card__header">
                  <h3 class="form-card__title">Publication Method</h3>
                  <p class="form-card__description">How would you like to publish your token?</p>
                </div>
                <div class="form-card__body">
                  <div class="registration-methods" role="radiogroup" aria-labelledby="registration-methods-title">
                    <div class="wizard-options registration-methods__options">
                      <label class="wizard-option" data-method="mobile">
                        <input class="wizard-option__input" type="radio" name="registration-method" value="mobile">
                        <span class="wizard-option__body">
                          <span class="wizard-option__header">
                            <span class="wizard-option__title">📱 Mobile App (Recommended)</span>
                            <span class="wizard-option__check" aria-hidden="true"></span>
                          </span>
                          <span class="wizard-option__description">Scan QR codes with your mobile app • Easiest and
                            safest option</span>
                        </span>
                      </label>
                      <label class="wizard-option" data-method="det">
                        <input class="wizard-option__input" type="radio" name="registration-method" value="det">
                        <span class="wizard-option__body">
                          <span class="wizard-option__header">
                            <span class="wizard-option__title">🛠️ Dash Evo Tool (Advanced)</span>
                            <span class="wizard-option__check" aria-hidden="true"></span>
                          </span>
                          <span class="wizard-option__description">Export JSON for the Dash Evo Tool • For
                            developers</span>
                        </span>
                      </label>
                    </div>
                  </div>
                </div>
              </div>

              <section class="registration-panel" id="registration-panel-mobile"
                aria-labelledby="registration-mobile-title" hidden>
                <h2 class="registration-panel__title" id="registration-mobile-title">Mobile (QR Series)</h2>
                <p class="wizard-screen__help">Generate scannable QR codes that include the full registration payload.
                </p>
                <div class="wizard-inline">
                  <button class="wizard-button wizard-button--secondary" type="button" id="qr-preview-button">Generate
                    QR</button>
                </div>
                <div class="wizard-qr" id="qr-preview" hidden>
                  <div class="wizard-qr__header">
                    <h3 class="wizard-qr__title">QR preview</h3>
                  </div>
                  <div class="wizard-qr__content" id="qr-preview-content"></div>
                  <p class="wizard-qr__hint">Payload is chunked into multiple QR codes for demonstration.</p>
                </div>
              </section>

              <section class="registration-panel" id="registration-panel-det" aria-labelledby="registration-det-title"
                hidden>
                <h2 class="registration-panel__title" id="registration-det-title">Dash Evo Tool (DET)</h2>
                <p class="wizard-screen__help">Export your token configuration and import it into the Dash Evo Tool for
                  deployment.</p>

                <!-- Step 1: Download Contract -->
                <div class="form-card">
                  <div class="form-card__header">
                    <h3 class="form-card__title">Step 1: Download Contract JSON</h3>
                    <p class="form-card__description">Download the production-ready contract file for Dash Platform</p>
                  </div>
                  <div class="form-card__body">
                    <button class="wizard-button wizard-button--primary" type="button" id="det-export-contract-btn"
                      style="width: 100%;">
                      📥 Download Contract JSON
                    </button>
                    <p class="field-hint" style="margin-top: var(--space-2);">
                      This file contains your complete token configuration ready for deployment
                    </p>
                  </div>
                </div>

                <!-- Step 2: Install & Open DET -->
                <div class="form-card">
                  <div class="form-card__header">
                    <h3 class="form-card__title">Step 2: Install Dash Evo Tool</h3>
                    <p class="form-card__description">Set up the command-line tool if you haven't already</p>
                  </div>
                  <div class="form-card__body">
                    <pre
                      style="background: var(--color-bg-secondary); padding: var(--space-3); border-radius: var(--radius-md);">npm install -g @dashevo/dashevo-tool</pre>
                    <p class="field-hint" style="margin-top: var(--space-2);">
                      For more information, visit the <a href="https://docs.dash.org" target="_blank" rel="noopener"
                        class="wizard-link">Dash Platform Documentation</a>
                    </p>
                  </div>
                </div>

                <!-- Step 3: Import to DET -->
                <div class="form-card">
                  <div class="form-card__header">
                    <h3 class="form-card__title">Step 3: Import JSON into DET</h3>
                    <p class="form-card__description">Use the DET command-line to register your token</p>
                  </div>
                  <div class="form-card__body">
                    <p style="margin-bottom: var(--space-3);">Run the following command with your downloaded JSON file:
                    </p>
                    <pre
                      style="background: var(--color-bg-secondary); padding: var(--space-3); border-radius: var(--radius-md);">dashevo-tool contract register --file ./your-token-contract.json</pre>
                    <p class="field-hint" style="margin-top: var(--space-2);">
                      Replace <code>your-token-contract.json</code> with the actual filename you downloaded
                    </p>
                  </div>
                </div>

                <!-- Optional: Preview JSON -->
                <div class="form-card">
                  <div class="form-card__header">
                    <h3 class="form-card__title">Preview Contract JSON</h3>
                    <p class="form-card__description">View your contract before downloading (optional)</p>
                  </div>
                  <div class="form-card__body">
                    <div class="wizard-inline" style="margin-bottom: var(--space-3);">
                      <button class="wizard-button wizard-button--secondary" type="button" id="json-show-button">👁️
                        Show JSON</button>
                      <button class="wizard-button wizard-button--secondary" type="button" id="json-copy-button"
                        disabled>📋 Copy JSON</button>
                    </div>
                    <div class="wizard-json" id="json-preview" hidden>
                      <div class="wizard-json__header">
                        <h3 class="wizard-json__title">JSON Preview</h3>
                      </div>
                      <pre class="wizard-json__code" id="json-preview-content"></pre>
                    </div>
                  </div>
                </div>

                <!-- Optional: Full Configuration Backup -->
                <div class="form-card">
                  <div class="form-card__header">
                    <h3 class="form-card__title">Optional: Download Full Configuration</h3>
                    <p class="form-card__description">Backup complete wizard state for later</p>
                  </div>
                  <div class="form-card__body">
                    <button class="wizard-button wizard-button--secondary" type="button" id="det-export-full-config-btn"
                      style="width: 100%;">
                      📥 Download Full Configuration
                    </button>
                    <p class="field-hint" style="margin-top: var(--space-2);">
                      Save all your wizard settings to reload or share later
                    </p>
                  </div>
                </div>
              </section>

              <p class="wizard-field__message wizard-status-banner" id="registration-message" role="status"
                aria-live="polite"></p>
              <div class="wizard-actions wizard-actions--between wizard-actions--sticky">
                <button class="wizard-button wizard-button--secondary" type="button"
                  data-step-back="registration">Back</button>
                <button class="wizard-button wizard-button--secondary" type="button" id="contract-preview-btn">📄
                  Contract Preview</button>
                <button class="wizard-button wizard-button--primary js-create-token" id="create-new-token" type="button"
                  disabled aria-disabled="true" aria-label="Create new token">Create new token</button>
              </div>
            </form>
          </div>
        </section>

        <section class="wizard-screen wizard-screen--info" id="screen-group-management" data-step="permissions-group"
          data-tab="token" hidden>
          <div class="wizard-screen__inner">
            <h1 class="wizard-screen__title" id="title-group-management" tabindex="-1">Group permissions</h1>
            <details class="wizard-group-sheet" id="group-sheet" open>
              <summary class="wizard-group-sheet__summary">
                <span class="wizard-group-sheet__title">Groups</span>
                <span class="wizard-group-sheet__indicator" aria-hidden="true"></span>
              </summary>
              <div class="wizard-group-sheet__body">
                <p class="wizard-screen__body wizard-screen__body--muted">Define one or more groups for multi-party
                  control of the contract.</p>
                <div class="wizard-field">
                  <div class="wizard-field__label-row">
                    <label class="wizard-field__label" for="group-main-position">Main Control Group Position:</label>
                    <button class="wizard-info-trigger" type="button" aria-expanded="false"
                      aria-controls="group-main-info">
                      <span class="sr-only">Show information about main control group position</span>
                      <span aria-hidden="true" class="wizard-info-trigger__icon">i</span>
                    </button>
                  </div>
                  <div class="wizard-info-panel" id="group-main-info" hidden>
                    <p class="wizard-info-panel__body">Enter the 1-based index of the group that holds overall
                      authority. This group is treated as the primary signer set for administrative actions.</p>
                  </div>
                  <div class="wizard-field__inline">
                    <input class="wizard-field__input wizard-field__input--condensed" id="group-main-position"
                      type="number" min="1" step="1" placeholder="1" aria-describedby="group-main-position-hint"
                      disabled>
                    <p class="wizard-field__hint" id="group-main-position-hint">Enter the group number that should
                      retain main control.</p>
                  </div>
                </div>

                <div class="wizard-group-list" id="group-list">
                  <p class="wizard-subsection__hint" id="group-empty">No groups defined yet. Use 'Add New Group' to
                    create one.</p>
                </div>

                <div class="wizard-group-controls">
                  <button class="wizard-button wizard-button--secondary" type="button" id="group-add">Add New
                    Group</button>
                </div>
              </div>
            </details>
            <datalist id="wizard-permissions-member-options">
              <option value="Identity #1"></option>
              <option value="Identity #2"></option>
              <option value="Signing Committee"></option>
              <option value="Custodian"></option>
            </datalist>
            <div class="wizard-actions wizard-actions--end">
              <button class="wizard-button wizard-button--secondary" type="button" data-step-return="permissions">Back
                to Permissions</button>
            </div>
          </div>
        </section>




        <section class="wizard-screen wizard-screen--info" id="screen-permissions-unfreeze"
          data-step="permissions-unfreeze" hidden>
          <div class="wizard-screen__inner">
            <h1 class="wizard-screen__title" id="title-permissions-unfreeze" tabindex="-1">Unfreeze</h1>
            <p class="wizard-screen__body">Restoration policies for frozen accounts will be published on this page soon.
            </p>
            <div class="wizard-actions wizard-actions--end">
              <button class="wizard-button wizard-button--secondary" type="button" data-step-return="permissions">Back
                to Permissions</button>
            </div>
          </div>
        </section>

        <section class="wizard-screen wizard-screen--info" id="screen-permissions-destroy-frozen"
          data-step="permissions-destroy-frozen" hidden>
          <div class="wizard-screen__inner">
            <h1 class="wizard-screen__title" id="title-permissions-destroy-frozen" tabindex="-1">Destroy frozen fund
            </h1>
            <p class="wizard-screen__body">Content covering the retirement of frozen balances will be added here.</p>
            <div class="wizard-actions wizard-actions--end">
              <button class="wizard-button wizard-button--secondary" type="button" data-step-return="permissions">Back
                to Permissions</button>
            </div>
          </div>
        </section>

        <section class="wizard-screen wizard-screen--info" id="screen-permissions-emergency-action"
          data-step="permissions-emergency-action" hidden>
          <div class="wizard-screen__inner">
            <h1 class="wizard-screen__title" id="title-permissions-emergency-action" tabindex="-1">Emergency action</h1>
            <p class="wizard-screen__body">Emergency controls and escalation paths will be detailed on this page.</p>
            <div class="wizard-actions wizard-actions--end">
              <button class="wizard-button wizard-button--secondary" type="button" data-step-return="permissions">Back
                to Permissions</button>
            </div>
          </div>
        </section>

        <section class="wizard-screen wizard-screen--info" id="screen-permissions-max-supply"
          data-step="permissions-max-supply" hidden>
          <div class="wizard-screen__inner">
            <h1 class="wizard-screen__title" id="title-permissions-max-supply" tabindex="-1">Max. supply change</h1>
            <p class="wizard-screen__body">Approval requirements for adjusting the maximum supply will appear here.</p>
            <div class="wizard-actions wizard-actions--end">
              <button class="wizard-button wizard-button--secondary" type="button" data-step-return="permissions">Back
                to Permissions</button>
            </div>
          </div>
        </section>

        <section class="wizard-screen wizard-screen--info" id="screen-permissions-conventions"
          data-step="permissions-conventions" hidden>
          <div class="wizard-screen__inner">
            <h1 class="wizard-screen__title" id="title-permissions-conventions" tabindex="-1">Conventions change</h1>
            <p class="wizard-screen__body">Guidelines for updating naming and metadata conventions will be captured
              here.</p>
            <div class="wizard-actions wizard-actions--end">
              <button class="wizard-button wizard-button--secondary" type="button" data-step-return="permissions">Back
                to Permissions</button>
            </div>
          </div>
        </section>

        <section class="wizard-screen wizard-screen--info" id="screen-permissions-marketplace-trade-mode"
          data-step="permissions-marketplace-trade-mode" hidden>
          <div class="wizard-screen__inner">
            <h1 class="wizard-screen__title" id="title-permissions-marketplace-trade-mode" tabindex="-1">Marketplace
              trade mode change</h1>
            <p class="wizard-screen__body">This page will describe how marketplace trade modes may be changed and
              communicated.</p>
            <div class="wizard-actions wizard-actions--end">
              <button class="wizard-button wizard-button--secondary" type="button" data-step-return="permissions">Back
                to Permissions</button>
            </div>
          </div>
        </section>

        <section class="wizard-screen wizard-screen--info" id="screen-permissions-direct-pricing"
          data-step="permissions-direct-pricing" hidden>
          <div class="wizard-screen__inner">
            <h1 class="wizard-screen__title" id="title-permissions-direct-pricing" tabindex="-1">Direct purchase pricing
              change</h1>
            <p class="wizard-screen__body">Oversight for direct pricing adjustments will be documented on this page.</p>
            <div class="wizard-actions wizard-actions--end">
              <button class="wizard-button wizard-button--secondary" type="button" data-step-return="permissions">Back
                to Permissions</button>
            </div>
          </div>
        </section>

        <section class="wizard-screen wizard-screen--info" id="screen-permissions-main-control"
          data-step="permissions-main-control" hidden>
          <div class="wizard-screen__inner">
            <h1 class="wizard-screen__title" id="title-permissions-main-control" tabindex="-1">Main control change</h1>
            <p class="wizard-screen__body">Use this page to explain how primary control of the contract can be
              reassigned. Content coming soon.</p>
            <div class="wizard-actions wizard-actions--end">
              <button class="wizard-button wizard-button--secondary" type="button" data-step-return="permissions">Back
                to Permissions</button>
            </div>
          </div>
        </section>

      </div>
    </main>
  </div>

  <div class="sr-only" aria-live="polite" id="global-live-region"></div>

  <!-- Contract Preview Modal -->
  <div class="contract-preview-modal" id="contract-preview-modal" hidden>
    <div class="contract-preview-modal__overlay"></div>
    <div class="contract-preview-modal__content">
      <div class="contract-preview-modal__header">
        <h2 class="contract-preview-modal__title">Contract Preview</h2>
        <button class="contract-preview-modal__close" type="button" id="contract-preview-close"
          aria-label="Close preview">×</button>
      </div>
      <div class="contract-preview-modal__body">
        <!-- Features Checklist -->
        <div class="contract-preview-checklist" style="margin-bottom: var(--space-5);">
          <h3 style="font-size: 1.25rem; font-weight: 600; margin-bottom: var(--space-4); color: var(--color-text);">
            Configuration Summary</h3>
          <div id="contract-preview-features">
            <!-- Features will be populated by JavaScript -->
          </div>
        </div>

        <!-- JSON Preview -->
        <div style="border-top: 1px solid var(--color-border); padding-top: var(--space-5);">
          <div
            style="display: flex; justify-content: space-between; align-items: center; margin-bottom: var(--space-3);">
            <h3 style="font-size: 1.125rem; font-weight: 600; margin: 0; color: var(--color-text);">Contract JSON</h3>
            <div style="display: flex; gap: var(--space-2);">
              <button class="wizard-button wizard-button--secondary wizard-button--small" type="button"
                id="contract-preview-copy">
                📋 Copy
              </button>
              <button class="wizard-button wizard-button--secondary wizard-button--small" type="button"
                id="contract-preview-download">
                💾 Download
              </button>
            </div>
          </div>
          <pre id="contract-preview-json"
            style="background: var(--color-surface); border: 1px solid var(--color-border); border-radius: var(--radius-md); padding: var(--space-4); overflow-x: auto; max-height: 50vh; overflow-y: auto; font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', 'Consolas', 'source-code-pro', monospace; font-size: 13px; line-height: 1.6; color: var(--color-text); margin: 0;">{
  "Loading contract preview..."
}</pre>
        </div>
      </div>
    </div>
  </div>

  <!-- Import map to resolve EvoSDK's wasm runtime dependency -->
  <script type="importmap">
    {
      "imports": {
        "@dashevo/wasm-sdk/compressed": "./dist/sdk.compressed.js"
      }
    }
  </script>

  <!-- Load Dash Evo SDK from local dist only (module import) -->
  <script type="module">
    import * as sdkModule from './dist/evo-sdk.module.js';
    try {
      if (typeof sdkModule.ensureInitialized === 'function') {
        await sdkModule.ensureInitialized();
      }
      window.EvoSDK = sdkModule;
      window.__evo_sdk_ready = true;
      console.info('Dash Evo SDK initialized from local dist.');
      window.dispatchEvent(new CustomEvent('evo:sdk-ready'));
    } catch (error) {
      console.error('Failed to initialize Dash Evo SDK from local dist:', error);
    }
  </script>

  <!-- Cleanup Service Workers and Caches -->
  <script>
    (function () {
      'use strict';
      if ('serviceWorker' in navigator) {
        navigator.serviceWorker
          .getRegistrations()
          .then((registrations) => {
            registrations.forEach((registration) => registration.unregister());
          })
          .catch(() => {
            // ignore cleanup errors
          });
      }
      if (typeof window !== 'undefined' && 'caches' in window) {
        caches
          .keys()
          .then((keys) => Promise.all(keys.map((key) => caches.delete(key))))
          .catch(() => {
            // ignore cache cleanup errors
          });
      }
    })();
  </script>

  <!-- Progressive Disclosure for Distribution (Inline Panels) -->
  <script>
    (function () {
      // Handle inline progressive disclosure for distribution panels
      document.addEventListener('DOMContentLoaded', function () {
        // Get all radio buttons with data-toggle-panel attribute
        const panelTriggers = document.querySelectorAll('input[type="radio"][data-toggle-panel]');

        panelTriggers.forEach(function (radio) {
          radio.addEventListener('change', function () {
            if (this.checked) {
              const panelId = this.getAttribute('data-toggle-panel');
              const panel = document.getElementById(panelId);

              if (panel) {
                // Get the radio button name to find all related panels
                const radioName = this.getAttribute('name');

                // Hide all panels for this radio group
                const relatedRadios = document.querySelectorAll('input[type="radio"][name="' + radioName + '"][data-toggle-panel]');
                relatedRadios.forEach(function (r) {
                  const relatedPanelId = r.getAttribute('data-toggle-panel');
                  const relatedPanel = document.getElementById(relatedPanelId);
                  if (relatedPanel) {
                    relatedPanel.hidden = true;
                  }
                });

                // Show the selected panel
                panel.hidden = false;
              }
            }
          });
        });
      });
    })();
  </script>

  <!-- Collapsible Navigation Script -->
  <script>
    (function () {
      document.addEventListener('DOMContentLoaded', function () {
        // Handle collapsible navigation
        const navButtons = document.querySelectorAll('.wizard-nav-item--expandable');

        navButtons.forEach(function (button) {
          button.addEventListener('click', function (e) {
            e.preventDefault();

            const submenuId = this.getAttribute('data-toggle');
            const submenu = document.getElementById(submenuId);
            const isExpanded = this.getAttribute('aria-expanded') === 'true';

            // Toggle aria-expanded
            this.setAttribute('aria-expanded', !isExpanded);

            // Toggle submenu visibility
            if (submenu) {
              submenu.hidden = isExpanded;
            }
          });
        });

        // Handle navigation clicks
        const allNavButtons = document.querySelectorAll('.wizard-nav-item[data-step]');
        allNavButtons.forEach(function (button) {
          button.addEventListener('click', function (e) {
            // Only navigate if it's not an expandable button or if we're clicking the step itself
            if (!this.classList.contains('wizard-nav-item--expandable') || e.target === this) {
              const step = this.getAttribute('data-step');
              if (step) {
                // Remove active state from all nav items
                allNavButtons.forEach(btn => btn.removeAttribute('aria-current'));
                // Add active state to clicked item
                this.setAttribute('aria-current', 'step');

                // Trigger navigation (your app.js should handle this)
                const event = new CustomEvent('navigate-to-step', { detail: { step: step } });
                document.dispatchEvent(event);
              }
            }
          });
        });

        // Handle sub-navigation clicks
        const subNavItems = document.querySelectorAll('.wizard-nav-subitem');
        subNavItems.forEach(function (item) {
          item.addEventListener('click', function (e) {
            e.preventDefault();

            // Remove active state from all sub-items
            subNavItems.forEach(sub => sub.classList.remove('wizard-nav-subitem--active'));

            // Add active state to clicked item
            this.classList.add('wizard-nav-subitem--active');

            const substep = this.getAttribute('data-substep');
            if (substep) {
              // Dispatch event to let app.js handle navigation (single source of truth)
              const targetScreen = document.getElementById('screen-' + substep);
              if (targetScreen) {
                const parentStep = targetScreen.getAttribute('data-step');
                if (parentStep) {
                  // Trigger app.js navigation
                  const event = new CustomEvent('navigate-to-step', {
                    detail: {
                      step: parentStep,
                      substep: substep
                    }
                  });
                  document.dispatchEvent(event);
                }
              }
            }
          });
        });
      });

      // Tab navigation with state memory
      (function () {
        // State memory object to track last active screen in each tab
        const tabStateMemory = {
          token: 'screen-welcome',  // Templates Library is the starting point
          group: 'screen-permissions-group',
          document: 'screen-document'
        };

        document.addEventListener('DOMContentLoaded', function () {
          const tabButtons = document.querySelectorAll('.wizard-tab');
          const wizard = document.getElementById('wizard');
          const allScreens = document.querySelectorAll('.wizard-screen');

          // Tab switching function
          function switchTab(tabName) {
            console.log('switchTab called with:', tabName);

            // Update active tab button
            tabButtons.forEach(btn => {
              btn.classList.remove('wizard-tab--active');
              btn.setAttribute('aria-selected', 'false');
            });

            const activeTabButton = document.querySelector('[data-tab="' + tabName + '"]');
            if (activeTabButton) {
              activeTabButton.classList.add('wizard-tab--active');
              activeTabButton.setAttribute('aria-selected', 'true');
            }

            // Switch sidebars
            const allSidebars = document.querySelectorAll('.sidebar-section');
            allSidebars.forEach(sidebar => {
              sidebar.hidden = true;
            });

            const activeSidebar = document.querySelector('.sidebar-section[data-sidebar="' + tabName + '"]');
            if (activeSidebar) {
              activeSidebar.hidden = false;
            }

            // Find the target screen for this tab
            const lastActiveScreen = tabStateMemory[tabName];
            let targetScreen = document.getElementById(lastActiveScreen);

            // Verify the target screen belongs to this tab
            if (targetScreen && targetScreen.getAttribute('data-tab') !== tabName) {
              console.warn('Screen', lastActiveScreen, 'does not belong to tab', tabName);
              targetScreen = null;
            }

            // If no valid target screen, find the first screen for this tab
            if (!targetScreen) {
              targetScreen = document.querySelector('.wizard-screen[data-tab="' + tabName + '"]');
              if (targetScreen) {
                console.log('Using first screen for tab:', targetScreen.id);
                tabStateMemory[tabName] = targetScreen.id;
              }
            }

            // Dispatch event to let app.js handle screen navigation
            if (targetScreen) {
              const screenId = targetScreen.id.replace('screen-', '');
              const parentStep = targetScreen.getAttribute('data-step');
              if (parentStep) {
                const event = new CustomEvent('navigate-to-step', {
                  detail: {
                    step: parentStep,
                    substep: screenId
                  }
                });
                document.dispatchEvent(event);
              }
            }

            // Update wizard data attribute
            if (wizard) {
              wizard.setAttribute('data-active-tab', tabName);
            }

            // Save to localStorage
            try {
              localStorage.setItem('wizard-active-tab', tabName);
              localStorage.setItem('wizard-tab-state', JSON.stringify(tabStateMemory));
            } catch (e) {
              // Silently fail if localStorage is not available
            }
          }

          // Expose switchTab to window for template navigation
          window.switchTab = switchTab;

          // Tab button click handlers
          tabButtons.forEach(function (button) {
            button.addEventListener('click', function (e) {
              e.preventDefault();
              const tabName = this.getAttribute('data-tab');
              if (tabName) {
                switchTab(tabName);
              }
            });
          });

          // Update tab state memory when screens change
          const observer = new MutationObserver(function (mutations) {
            mutations.forEach(function (mutation) {
              if (mutation.attributeName === 'hidden' || mutation.attributeName === 'class') {
                const activeScreen = document.querySelector('.wizard-screen--active');
                if (activeScreen) {
                  const screenId = activeScreen.id;
                  const tabName = activeScreen.getAttribute('data-tab');

                  if (tabName && tabStateMemory[tabName]) {
                    tabStateMemory[tabName] = screenId;

                    // Save to localStorage
                    try {
                      localStorage.setItem('wizard-tab-state', JSON.stringify(tabStateMemory));
                    } catch (e) {
                      // Silently fail
                    }
                  }
                }
              }
            });
          });

          // Observe all wizard screens for changes
          allScreens.forEach(screen => {
            observer.observe(screen, {
              attributes: true,
              attributeFilter: ['hidden', 'class']
            });
          });

          // Restore tab state from localStorage on page load
          try {
            const savedTab = localStorage.getItem('wizard-active-tab');
            const savedState = localStorage.getItem('wizard-tab-state');

            if (savedState) {
              const parsedState = JSON.parse(savedState);
              Object.assign(tabStateMemory, parsedState);
            }

            // If there's a saved tab but we're not on it, switch to it
            if (savedTab && savedTab !== 'token') {
              // Small delay to ensure DOM is fully ready
              setTimeout(() => switchTab(savedTab), 50);
            }
          } catch (e) {
            // Silently fail if localStorage is not available
          }
        });
      })();

      // Group management is handled in app.js
    })();
  </script>

  <!-- Contract Preview Modal Script -->
  <script>
    (function () {
      'use strict';

      document.addEventListener('DOMContentLoaded', function () {
        const modal = document.getElementById('contract-preview-modal');
        const closeBtn = document.getElementById('contract-preview-close');
        const overlay = modal ? modal.querySelector('.contract-preview-modal__overlay') : null;
        const jsonElement = document.getElementById('contract-preview-json');
        const featuresElement = document.getElementById('contract-preview-features');
        const copyBtn = document.getElementById('contract-preview-copy');
        const downloadBtn = document.getElementById('contract-preview-download');

        // Find all preview buttons by text content (since multiple buttons have same ID)
        const previewBtns = Array.from(document.querySelectorAll('button')).filter(btn =>
          btn.textContent.includes('Contract Preview')
        );
        console.log('Found', previewBtns.length, 'contract preview buttons');

        // Open modal
        function openModal() {
          if (modal) {
            // Update features checklist and JSON content from wizard state if available
            if (typeof window.wizardState !== 'undefined') {
              try {
                // Force a fresh read of the state
                const state = JSON.parse(JSON.stringify(window.wizardState.form));
                console.log('Contract Preview - Current state:', state);

                // Generate organized features checklist
                if (featuresElement) {
                  const categories = [];

                  // Category: Token Name
                  const tokenName = [];
                  if (state.tokenName) {
                    tokenName.push({ name: 'Token Name', value: state.tokenName });
                  }
                  if (state.permissions?.decimals !== undefined) {
                    tokenName.push({ name: 'Decimals', value: state.permissions.decimals });
                  }
                  if (tokenName.length > 0) {
                    categories.push({ title: '📋 Token Name', items: tokenName, type: 'info' });
                  }

                  // Category: Token Supply
                  const tokenSupply = [];
                  if (state.permissions?.baseSupply) {
                    tokenSupply.push({ name: 'Base Supply', value: state.permissions.baseSupply });
                  }
                  if (state.permissions?.maxSupply) {
                    tokenSupply.push({ name: 'Max Supply', value: state.permissions.maxSupply });
                  }
                  if (state.permissions?.changeMaxSupply?.enabled) {
                    tokenSupply.push({ name: 'Max Supply Can Be Changed', value: 'Yes' });
                  }
                  if (tokenSupply.length > 0) {
                    categories.push({ title: '💰 Token Supply', items: tokenSupply, type: 'info' });
                  }

                  // Category: Minting
                  const minting = [];
                  if (state.permissions?.manualMint?.enabled) {
                    minting.push({ name: 'Minting Enabled', enabled: true });
                    if (state.permissions?.manualMint?.who) {
                      minting.push({ name: 'Who Can Mint', value: state.permissions.manualMint.who });
                    }
                  }
                  if (minting.length > 0) {
                    const mintingItems = minting.filter(item => item.enabled);
                    const mintingInfo = minting.filter(item => item.value);
                    if (mintingItems.length > 0) {
                      categories.push({ title: '🔨 Minting', items: mintingItems, type: 'toggle' });
                    }
                    if (mintingInfo.length > 0) {
                      categories.push({ title: '🔨 Minting Details', items: mintingInfo, type: 'info' });
                    }
                  }

                  // Category: Burning
                  const burning = [];
                  if (state.permissions?.manualBurn?.enabled) {
                    burning.push({ name: 'Burning Enabled', enabled: true });
                    if (state.permissions?.manualBurn?.who) {
                      burning.push({ name: 'Who Can Burn', value: state.permissions.manualBurn.who });
                    }
                  }
                  if (burning.length > 0) {
                    const burningItems = burning.filter(item => item.enabled);
                    const burningInfo = burning.filter(item => item.value);
                    if (burningItems.length > 0) {
                      categories.push({ title: '🔥 Burning', items: burningItems, type: 'toggle' });
                    }
                    if (burningInfo.length > 0) {
                      categories.push({ title: '🔥 Burning Details', items: burningInfo, type: 'info' });
                    }
                  }

                  // Category: Freezing
                  const freezing = [];
                  if (state.permissions?.manualFreeze?.enabled) {
                    freezing.push({ name: 'Freezing Enabled', enabled: true });
                    if (state.permissions?.manualFreeze?.who) {
                      freezing.push({ name: 'Who Can Freeze', value: state.permissions.manualFreeze.who });
                    }
                    if (state.permissions?.manualUnfreeze?.enabled) {
                      freezing.push({ name: 'Unfreezing Enabled', enabled: true });
                    }
                    if (state.permissions?.destroyFrozen?.enabled) {
                      freezing.push({ name: 'Destroy Frozen Funds', enabled: true });
                    }
                  }
                  if (freezing.length > 0) {
                    const freezingItems = freezing.filter(item => item.enabled);
                    const freezingInfo = freezing.filter(item => item.value);
                    if (freezingItems.length > 0) {
                      categories.push({ title: '❄️ Freezing', items: freezingItems, type: 'toggle' });
                    }
                    if (freezingInfo.length > 0) {
                      categories.push({ title: '❄️ Freezing Details', items: freezingInfo, type: 'info' });
                    }
                  }

                  // Category: Emergency Actions
                  const emergency = [];
                  if (state.permissions?.emergency?.enabled) {
                    emergency.push({ name: 'Emergency Actions Enabled', enabled: true });
                    if (state.permissions?.emergency?.who) {
                      emergency.push({ name: 'Who Can Use Emergency Actions', value: state.permissions.emergency.who });
                    }
                  }
                  if (emergency.length > 0) {
                    const emergencyItems = emergency.filter(item => item.enabled);
                    const emergencyInfo = emergency.filter(item => item.value);
                    if (emergencyItems.length > 0) {
                      categories.push({ title: '🚨 Emergency Actions', items: emergencyItems, type: 'toggle' });
                    }
                    if (emergencyInfo.length > 0) {
                      categories.push({ title: '🚨 Emergency Details', items: emergencyInfo, type: 'info' });
                    }
                  }

                  // Category: History Tracking
                  const historyItems = [];
                  if (state.advanced?.history?.transfers) {
                    historyItems.push({ name: 'Transfer History', enabled: true });
                  }
                  if (state.advanced?.history?.mints) {
                    historyItems.push({ name: 'Mint History', enabled: true });
                  }
                  if (state.advanced?.history?.burns) {
                    historyItems.push({ name: 'Burn History', enabled: true });
                  }
                  if (state.advanced?.history?.freezes) {
                    historyItems.push({ name: 'Freeze History', enabled: true });
                  }
                  if (historyItems.length > 0) {
                    categories.push({ title: '📊 History Tracking', items: historyItems, type: 'toggle' });
                  }

                  // Category: Trading Rules
                  const trading = [];
                  if (state.advanced?.tradeMode) {
                    trading.push({ name: 'Trade Mode', value: state.advanced.tradeMode });
                  }
                  if (state.advanced?.tradingEnabled !== undefined) {
                    trading.push({ name: 'Trading', value: state.advanced.tradingEnabled ? 'Enabled' : 'Disabled' });
                  }
                  if (trading.length > 0) {
                    categories.push({ title: '💱 Trading Rules', items: trading, type: 'info' });
                  }

                  // Category: Launch Settings
                  const launchSettings = [];
                  if (state.permissions?.startAsPaused) {
                    launchSettings.push({ name: 'Start as Paused', enabled: true });
                  }
                  if (launchSettings.length > 0) {
                    categories.push({ title: '🚀 Launch Settings', items: launchSettings, type: 'toggle' });
                  }

                  // Category: Distribution Schedule
                  const distributionSchedule = [];
                  if (state.distribution?.cadence?.type) {
                    distributionSchedule.push({ name: 'Schedule Type', value: state.distribution.cadence.type });
                  }
                  if (state.distribution?.cadence?.intervalBlocks) {
                    distributionSchedule.push({ name: 'Interval (Blocks)', value: state.distribution.cadence.intervalBlocks });
                  }
                  if (state.distribution?.cadence?.intervalTime) {
                    distributionSchedule.push({ name: 'Interval (Time)', value: state.distribution.cadence.intervalTime });
                  }
                  if (distributionSchedule.length > 0) {
                    categories.push({ title: '📅 Distribution Schedule', items: distributionSchedule, type: 'info' });
                  }

                  // Category: Emission
                  const emission = [];
                  if (state.distribution?.emission?.type) {
                    emission.push({ name: 'Emission Type', value: state.distribution.emission.type });
                  }
                  if (state.distribution?.emission?.amount) {
                    emission.push({ name: 'Amount', value: state.distribution.emission.amount });
                  }
                  if (state.distribution?.emission?.rate) {
                    emission.push({ name: 'Rate', value: state.distribution.emission.rate });
                  }
                  if (emission.length > 0) {
                    categories.push({ title: '💨 Emission', items: emission, type: 'info' });
                  }

                  // Render categories
                  featuresElement.innerHTML = categories.map(category => {
                    let itemsHTML = '';

                    if (category.type === 'info') {
                      // Info items show value
                      itemsHTML = category.items.map(item => `
                        <div style="display: flex; justify-content: space-between; padding: var(--space-2) 0; border-bottom: 1px solid var(--color-border-light);">
                          <span style="color: var(--color-text-secondary); font-size: 0.9375rem;">${item.name}</span>
                          <span style="color: var(--color-text); font-weight: 500; font-size: 0.9375rem;">${item.value}</span>
                        </div>
                      `).join('');
                    } else {
                      // Toggle items - only showing enabled ones with checkmark
                      itemsHTML = category.items.map(item => `
                        <div style="display: flex; align-items: center; gap: var(--space-2); padding: var(--space-2) 0;">
                          <span style="font-size: 1rem; color: #10b981; font-weight: bold; width: 20px;">✓</span>
                          <span style="color: var(--color-text); font-size: 0.9375rem;">${item.name}</span>
                        </div>
                      `).join('');
                    }

                    return `
                      <div style="background: var(--color-surface); border: 1px solid var(--color-border); border-radius: var(--radius-md); padding: var(--space-4); margin-bottom: var(--space-3);">
                        <h4 style="font-size: 1rem; font-weight: 600; margin: 0 0 var(--space-3) 0; color: var(--color-text); display: flex; align-items: center; gap: var(--space-2);">
                          ${category.title}
                        </h4>
                        <div style="margin: 0;">
                          ${itemsHTML}
                        </div>
                      </div>
                    `;
                  }).join('');
                }

                // Update JSON
                const contractJSON = JSON.stringify(state, null, 2);
                if (jsonElement) {
                  jsonElement.textContent = contractJSON;
                }
              } catch (e) {
                console.error('Error generating contract preview:', e);
              }
            }

            modal.hidden = false;
            document.body.style.overflow = 'hidden';
          }
        }

        // Close modal
        function closeModal() {
          if (modal) {
            modal.hidden = true;
            document.body.style.overflow = '';
          }
        }

        // Event listeners
        previewBtns.forEach(btn => {
          btn.addEventListener('click', function (e) {
            e.preventDefault();
            e.stopPropagation();
            openModal();
          });
        });

        if (closeBtn) {
          closeBtn.addEventListener('click', closeModal);
        }

        if (overlay) {
          overlay.addEventListener('click', closeModal);
        }

        // Close on Escape key
        document.addEventListener('keydown', function (e) {
          if (e.key === 'Escape' && modal && !modal.hidden) {
            closeModal();
          }
        });

        // Copy JSON
        if (copyBtn && jsonElement) {
          copyBtn.addEventListener('click', function () {
            const text = jsonElement.textContent;
            navigator.clipboard.writeText(text).then(function () {
              const originalText = copyBtn.textContent;
              copyBtn.textContent = '✓ Copied!';
              setTimeout(function () {
                copyBtn.textContent = originalText;
              }, 2000);
            }).catch(function (err) {
              console.error('Failed to copy:', err);
            });
          });
        }

        // Download JSON
        if (downloadBtn && jsonElement) {
          downloadBtn.addEventListener('click', function () {
            const text = jsonElement.textContent;
            const blob = new Blob([text], { type: 'application/json' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'token-contract-' + new Date().toISOString().split('T')[0] + '.json';
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
          });
        }
      });
    })();
  </script>

  <!-- Export Functionality Script -->
  <script>
    (function () {
      'use strict';

      document.addEventListener('DOMContentLoaded', function () {
        const exportDocTypesBtn = document.getElementById('export-document-types-btn');
        const exportFullConfigBtn = document.getElementById('export-full-config-btn');
        const exportContractJsonBtn = document.getElementById('export-contract-json-btn');

        // Helper: Download JSON file
        function downloadJSON(data, filename) {
          const json = JSON.stringify(data, null, 2);
          const blob = new Blob([json], { type: 'application/json' });
          const url = URL.createObjectURL(blob);
          const a = document.createElement('a');
          a.href = url;
          a.download = filename;
          document.body.appendChild(a);
          a.click();
          document.body.removeChild(a);
          URL.revokeObjectURL(url);
        }

        // Helper: Get token name for filename
        function getTokenName() {
          if (window.wizardState && window.wizardState.form && window.wizardState.form.tokenName) {
            return window.wizardState.form.tokenName.replace(/[^a-z0-9]/gi, '_').toLowerCase();
          }
          return 'token';
        }

        // Export Document Types Only
        if (exportDocTypesBtn) {
          exportDocTypesBtn.addEventListener('click', function () {
            if (window.wizardState && window.wizardState.form) {
              const documentTypes = window.wizardState.form.documentTypes || {};
              const tokenName = getTokenName();
              downloadJSON(documentTypes, `${tokenName}_document_types.json`);
            } else {
              alert('No document types to export');
            }
          });
        }

        // Export Full Configuration
        if (exportFullConfigBtn) {
          exportFullConfigBtn.addEventListener('click', function () {
            if (window.wizardState) {
              const config = {
                active: window.wizardState.active,
                furthestValidIndex: window.wizardState.furthestValidIndex,
                form: window.wizardState.form,
                steps: window.wizardState.steps
              };
              const tokenName = getTokenName();
              downloadJSON(config, `${tokenName}_full_config.json`);
            } else {
              alert('No configuration to export');
            }
          });
        }

        // Export Contract JSON
        if (exportContractJsonBtn) {
          exportContractJsonBtn.addEventListener('click', function () {
            if (typeof window.generatePlatformContractJSON === 'function') {
              const contract = window.generatePlatformContractJSON();
              const tokenName = getTokenName();
              downloadJSON(contract, `${tokenName}_contract.json`);
            } else {
              alert('Contract generation function not available');
            }
          });
        }

        console.log('Export functionality initialized');
      });
    })();
  </script>

  <script src="app.js?v=96" defer></script>

  <!-- Enhancements Module (ES6) - DISABLED due to navigation freeze -->
  <!-- <script type="module" src="js/wizard-enhancements.js"></script> -->
</body>

</html>